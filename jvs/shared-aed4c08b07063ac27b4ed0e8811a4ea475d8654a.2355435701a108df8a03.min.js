"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[91380],{41783:function(e,t,s){s.d(t,{Ns:function(){return n},qS:function(){return l},Hn:function(){return u}});var a=s(59051),r=s.n(a),i=s(98116);const o=s(54428).O.outputs.$jwt.map((e=>({Authorization:r()(e)?"":`Bearer ${e}`}))),n=(0,i.combine)({and:[o,e=>({...e})],or:{sid:"-cxnkdd"}});var c=s(53788),d=s(99186);const l=(0,i.combine)({and:[c.D.outputs.$market,d.l.outputs.$language,(e,t)=>({market:e,locale:t})],or:{sid:"-27z2ay"}}),u={order:"order",init:"order/init",start:"orders/start",reprice:"order/reprice",book:"order/book",addSsr:"order/add_ssr",pay:"order/pay",postPay:"order/post_pay",threeDsCancel:"order/3ds_cancel",threeDsCallback:"order/3ds_callback",threeDsV2:"order/3ds2",updateUserOrder:"orders/update_user_order",tariffs:"orders/tariffs"}},71172:function(e,t,s){s.d(t,{Yf:function(){return n},V0:function(){return d},rX:function(){return i}});var a=s(98116),r=s(76588);const i=e=>{const{badRequestError:t,notFoundError:s,lockedOrderError:i,contractValidationError:o,networkError:n,__:c}=(0,a.split)({and:[e.finished.failure,{badRequestError:e=>(0,a.withFactory)({sid:"-ds54bw",fn:()=>(0,r.Bh)(400)})(e),notFoundError:e=>(0,a.withFactory)({sid:"5d8uj3",fn:()=>(0,r.Bh)(404)})(e),lockedOrderError:e=>(0,a.withFactory)({sid:"sb4s3v",fn:()=>(0,r.Bh)(423)})(e),contractValidationError:e=>(0,a.withFactory)({sid:"t4t26i",fn:()=>(0,r.QO)(e)}),networkError:e=>(0,a.withFactory)({sid:"dx2guk",fn:()=>(0,r.eE)(e)})}],or:{sid:"-frn4g2"}}),d=t.map((({params:e})=>({params:e,status:"bad_request",error:{message:"Bad request error"}}))),l=s.map((({params:e})=>({params:e,status:"not_found",error:{message:"Not found error"}}))),u=i.map((({params:e})=>({params:e,status:"order_locked",error:{message:"Order locked error"}}))),p=o.map((({error:e,params:t})=>({params:t,status:"contract_validation_error",error:{message:"Contract validation error",details:e?.validationErrors,explanation:e?.explanation,response:e?.response}}))),f=n.map((({params:e})=>({params:e,status:"network_error",error:{message:"Network error"}}))),g=c.map((({params:e,error:t})=>({params:e,status:"unhandled_error",error:{message:"Unhandled error",details:t}})));return{failure:(0,a.merge)([d,l,u,p,f,g],{sid:"-ijpp0j"}),success:e.finished.success,finished:e.finished.finally,badRequestError:d,notFoundError:l,lockedOrderError:u,contractValidationError:p,networkError:f,unhandledError:g}};var o=s(41783);const n=e=>{const t=o.Hn[e.endpoint];return(({version:e,endpoint:t,namespace:s,withPlatform:a,host:r})=>`${r}/${s?`${s}/`:""}${a?"web/":""}${e?`v${e}/`:""}${t}`)({...e,endpoint:t})},c=e=>{const t=new Date(1e3*e).toISOString();return{date:t.substring(0,10),time:t.substring(11,16)}},d=(e,t)=>{const{date:s,time:a}=c(e),{date:r,time:i}=c(t);return{departureDate:s,departureTime:a,arrivalDate:r,arrivalTime:i}}},84447:function(e,t,s){s.d(t,{t:function(){return f}});var a=s(67294),r=s(28225),i=s(47166),o=s.n(i),n=s(38267),c=s(49963),d=s(44619),l=s(85893);const u=o().bind({root:"s__A_C2liLv3905gVxfaaXX",star:"s__xriOToICuvFWiya_LUgX","star-icon":"s__whHa7R9Xz2HkOhadWVO9",selected:"s__jgXUqytZiCx7khvyoXIk",disabled:"s__vOFoyn5KWZMdnZN_A503",label:"s__K7aVCLmIxfplrKAUpfgA"}),p=new Array(5).fill(5).map(((e,t)=>t+1)),f=(0,a.memo)((({initialValue:e=0,disabled:t=!1,onClick:s,hideLabels:i,rootClassName:o,starClassName:f})=>{const{t:g}=(0,r.useTranslation)("service_assisted_feedback"),[m,h]=(0,a.useState)(0),[b,y]=(0,a.useState)(e);(0,a.useEffect)((()=>{y(e)}),[e]);const x=(0,a.useCallback)((e=>{t||(y((t=>e===t?0:e)),s&&s(e))}),[s,t]);return(0,l.jsx)("div",{onMouseLeave:()=>{t||h(0)},className:u("root",o),children:p.map((e=>{const s=m?e<=m:e<=b;return(0,l.jsxs)("div",{className:u("star"),onMouseEnter:()=>(e=>{t||h(e)})(e),onClick:()=>x(e),children:[(0,l.jsx)(n.Z,{className:u("star-icon",f,{disabled:t,selected:s})}),!i&&(0,l.jsx)(c.x,{type:d.y.Body3Regular,mobileType:d.y.CaptionRegular,className:u("label",{disabled:t}),children:g(`purchaseFeedback.stars.${e}`)})]},e)}))})}));f.displayName="Feedback Stars"},32603:function(e,t,s){function a(e,t){if(!e)return null;const s={},a=Object.entries(e);for(const[e,r]of a)s[e]=t(r);return s}s.d(t,{p:function(){return a},E:function(){return o}});var r=s(68630),i=s.n(r);function o(e){const t=Object.entries(e).filter((([e,t])=>null!==t)).map((([e,t])=>[e,i()(t)?o(t):t]));return Object.fromEntries(t)}},78650:function(e,t,s){s.d(t,{M:function(){return k}});var a=s(30091),r=s(59051),i=s.n(r),o=(s(21703),s(98116)),n=s(47047),c=s(78260),d=s(63246),l=s(82249);const u="color:#0c131d; font-size:12px; font-weight: regular; background-color:#eff1f4; border-radius: 4px; padding: 2px 5px 2px 2px;",p=l.O.isBeta&&!0,f=l.O.isLocal&&!0,{$isClient:g}=d.y.outputs,m=f||p,h=!f&&!p,b=(0,o.withFactory)({sid:"-gu1ktr",fn:()=>(0,n.s)((e=>{const t=(0,o.createEffect)((({name:e,data:t,error:s,explanation:a})=>{console.group("%cContract validation error","color:#f54759; font-size:12px; font-weight: bold;"),console.log(`%cCONTRACT NAME:%c %c ${e}`,u,"","color:white; font-size:12px; font-weight: regular; background-color:#22b350; border-radius: 4px; padding: 2px 5px 2px 2px;"),a&&console.log("%cEXPLANATION:",u,a),console.log("%cERROR:",u,s),console.log("%cRECEIVED DATA:",u,t),console.groupEnd()}),{sid:"-fg287j"}),s=(0,o.createEvent)({sid:"-wjc4ba"}),a=(0,o.sample)({and:[{clock:s,filter:g}],or:{sid:"-md0bwa"}});return(0,o.sample)({and:[{clock:a,filter:()=>m,fn:({name:e,errorMessage:t,explanation:s,data:a})=>({name:e,error:t,explanation:s,data:a}),target:t}],or:{sid:"o8i8sr"}}),(0,o.sample)({and:[{clock:a,filter:()=>h,fn:({name:e,errorMessage:t})=>({message:e,payload:{details:t}}),target:e.onError}],or:{sid:"oqngdo"}}),{captureContractError:s}}))}),y=(e,t)=>`${t} ${e}`,x={createLogger:(0,o.withFactory)({sid:"bms1mo",fn:()=>(0,n.s)((e=>{const t=(({team:e,product:t})=>`[${e}]${i()(t)?"":`[${t}]`}`)(e),s=e.product||"",a=(0,c.cr)(e.team,{name:s}),r=(0,o.createEvent)({sid:"-d60j9c"}),d=(0,o.createEvent)({sid:"qqi416"}),l=(0,o.createEvent)({sid:"xmspmf"}),u=(0,o.createEvent)({sid:"e8dvgq"}),p=(0,o.createEvent)({sid:"x67pfk"}),{captureContractError:f}=(0,o.withFactory)({sid:"6bci5a",fn:()=>(0,n.d)(b,{onError:l})});return(0,o.sample)({and:[{clock:r,fn:({message:e,payload:s=null})=>({msg:y(e,t),extra:s}),target:a.sendInfoLog}],or:{sid:"8fcbpt"}}),(0,o.sample)({and:[{clock:d,fn:({message:e,payload:s=null})=>({msg:y(e,t),extra:s}),target:a.sendWarningLog}],or:{sid:"8vu5in"}}),(0,o.sample)({and:[{clock:l,fn:({message:e,payload:s=null})=>{if(s instanceof Error){const e=new Error(y(s.message,t));return e.stack=s.stack,{error:e}}return{error:new Error(y(e,t)),extra:s}},target:a.sendErrorLog}],or:{sid:"9cbzbh"}}),(0,o.sample)({and:[{clock:u,fn:({message:e,payload:s=null})=>{if(s instanceof Error){const e=new Error(y(s.message,t));return e.stack=s.stack,{error:e}}return{error:new Error(y(e,t)),extra:s}},target:a.sendCriticalLog}],or:{sid:"aaf83v"}}),(0,o.sample)({and:[{clock:p,fn:({message:e,payload:s=null})=>({msg:y(e,t),extra:{payload:s}}),target:a.sendDebugLog}],or:{sid:"2qwfy6"}}),{info:r,warning:d,error:l,critical:u,debug:p,captureContractError:f}}))})},k=(0,a.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/assisted_px/services/logger/index.ts",api:{inputs:x}})},45997:function(e,t,s){s.d(t,{M:function(){return mt}});var a=s(30091),r=s(47166),i=s.n(r),o=s(28225),n=s(4190),c=s(46531),d=s(9071),l=s(5393),u=s(62055),p=s(67294),f=s(63263),g=s(49963),m=s(44619),h=s(67061),b=s(1156),y=s(39535),x=s(85893);const k=i().bind({root:"s__Xl6NacRL9dsMhAfZZJ7m",title:"s__k8JI4d_6xM7MZEs8Yhn4",checkbox:"s__QmnjWJk4T_hptK5_LDmf",textarea:"s__YmMB0KJsZKwSPMxTuWWy",button:"s__RA0XgcNzS9P0Yxeua37g"}),_=(0,p.memo)((e=>{const{checkboxes:t,title:s,textareaPlaceholder:a,buttonLabel:r,onSubmit:i}=e,[o,n]=(0,p.useState)([]),[c,d]=(0,p.useState)("");(0,p.useEffect)((()=>{n(t.map((e=>({...e,checked:!1})))),d("")}),[t]);const l=(0,p.useMemo)((()=>0===o.filter((({checked:e})=>e)).length&&0===c.length),[o,c]),u=(0,p.useCallback)((e=>{d(e.currentTarget.value)}),[]),_=(0,p.useCallback)((e=>{const t=e.currentTarget.checked,s=e.currentTarget.id;n((e=>e.map((e=>({...e,checked:e.id===s?t:e.checked})))))}),[]);return(0,x.jsxs)("section",{className:k("root"),children:[(0,x.jsx)(g.x,{className:k("title"),type:m.y.Title3Bold,transformOnMobile:!0,tag:"h3",children:s}),o.map((({label:e,id:t,checked:s})=>(0,x.jsx)(f.X,{id:t,label:e,className:k("checkbox"),onChange:_,checked:s},t))),(0,x.jsx)(h.g,{className:k("textarea"),placeholder:a,onChange:u,value:c}),(0,x.jsx)(b.z,{mod:y.Ly.Default,priority:y.Ji.Primary,size:y.qE.M,className:k("button"),onClick:()=>{i({selectedAnswers:o.filter((({checked:e})=>e)).map((({id:e})=>e)),comment:c})},disabled:l,children:r})]})}));_.displayName="CsiFeedbackChecklist";var w=s(84447);const j=i().bind({root:"s__L2gPpF0UohhBmqu_E7MW",title:"s__bNAVUUNEfcVLMBeSLRMi",score:"s__GOAzbA2lS7UHB1jUNVma",stars:"s__SoEypepq1X3eHLfyEYh2","star-item":"s__YnyOs5nsNekBCCZNMSBc"}),F=(0,p.memo)((e=>{const{title:t,scores:s,buttonLabel:a,onSubmit:r}=e,[i,o]=(0,p.useState)(!1),n=(0,p.useRef)(s.map((e=>({id:e.id,score:0})))),c=(0,p.useCallback)((({id:e,score:t})=>{const s=n.current.find((({id:t})=>t===e));if(s){const e=s.score===t;s.score=e?0:t}(()=>{const e=n.current.every((({score:e})=>e>0));o(e)})()}),[]),d=(0,p.useCallback)((()=>{r(n.current)}),[r]);return(0,x.jsxs)("section",{className:j("root"),children:[(0,x.jsx)(g.x,{className:j("title"),type:m.y.Title3Bold,transformOnMobile:!0,tag:"h3",children:t}),s.map((({label:e,id:t})=>(0,x.jsxs)("div",{className:j("score"),children:[(0,x.jsx)(g.x,{type:m.y.Body1Semi,children:e}),(0,x.jsx)(w.t,{hideLabels:!0,onClick:e=>{c({id:t,score:e})},rootClassName:j("stars"),starClassName:j("star-item")})]},t))),i&&(0,x.jsx)(b.z,{mod:y.Ly.Default,priority:y.Ji.Primary,size:y.qE.M,onClick:d,children:a})]})}));F.displayName="CsiFeedbackScores";const v=({className:e,...t},s)=>(0,x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":!0,className:e,"data-test-id":"icon",ref:s,style:{display:"inline-block"},...t,children:[(0,x.jsx)("path",{fill:"#FFE600",d:"M2.994 1.204c2.374.669 6.221 3.14 6.221 3.14L2.913 10.04S1.085 6.5 1.59 1.86c.07-.645.634-.872 1.404-.656Z"}),(0,x.jsx)("path",{fill:"url(#EmojiKissingCat__a)",d:"M3.087 1.938c1.695 1.005 3.174 2.847 4.162 4.299l-4.126 3.822S1.554 7.011 1.805 2.487c.04-.743.428-1.056 1.282-.549Z"}),(0,x.jsx)("path",{fill:"#FFE600",d:"M20.988 1.204c-2.375.669-6.223 3.14-6.223 3.14l6.303 5.696s1.829-3.539 1.324-8.18c-.07-.645-.635-.872-1.404-.656Z"}),(0,x.jsx)("path",{fill:"url(#EmojiKissingCat__b)",d:"M20.894 1.938c-1.695 1.005-3.174 2.847-4.162 4.299l4.126 3.822s1.569-3.048 1.318-7.572c-.04-.743-.428-1.056-1.282-.549Z"}),(0,x.jsx)("path",{fill:"#FFE600",d:"M10.305 7.084C8.193 5.373 5.571 5.671 4.27 5.973c-.588.135-.677.262-.25.543.627.415 1.304 1.094 1.867 2.123.7 1.278 5.321-.821 4.418-1.555Z"}),(0,x.jsx)("path",{fill:"#FFE600",d:"M9.576 7.12c-2.464-1.15-4.935-.224-6.124.382-.536.274-.593.418-.109.588.708.25 1.53.745 2.325 1.607.99 1.072 4.962-2.085 3.908-2.577Zm4.119-.036c2.112-1.711 4.734-1.413 6.035-1.111.588.135.677.262.25.543-.627.415-1.304 1.094-1.867 2.123-.7 1.278-5.321-.821-4.418-1.555Z"}),(0,x.jsx)("path",{fill:"#FFE600",d:"M14.424 7.12c2.464-1.15 4.935-.224 6.124.382.536.274.593.418.109.588-.708.25-1.53.745-2.325 1.607-.99 1.072-4.962-2.085-3.908-2.577Z"}),(0,x.jsx)("path",{fill:"url(#EmojiKissingCat__c)",d:"M12 3.473c-8.426 0-11.606 10.273-10.165 14.24C2.929 20.722 9.8 22.874 12 22.874c2.2 0 9.072-2.152 10.165-5.163C23.606 13.746 20.425 3.473 12 3.473Z"}),(0,x.jsx)("path",{fill:"url(#EmojiKissingCat__d)",d:"M11.314 3.504s.686-.09 1.372 0c0 5.884-1.372 5.884-1.372 0Z"}),(0,x.jsx)("path",{fill:"url(#EmojiKissingCat__e)",d:"M10.483 3.59s-.612.077-1.125.249c-.324 3.552.523 3.403 1.125-.25Z"}),(0,x.jsx)("path",{fill:"url(#EmojiKissingCat__f)",d:"M13.517 3.59s.612.077 1.125.249c.324 3.552-.522 3.403-1.125-.25Z"}),(0,x.jsx)("path",{fill:"url(#EmojiKissingCat__g)",d:"M22.443 16.491s-.06.685-.257 1.16c-3.148-.296-2.88-1.06.257-1.16Z"}),(0,x.jsx)("path",{fill:"url(#EmojiKissingCat__h)",d:"M21.975 18.129s-.408.73-.922 1.138c-1.707-.853-1.232-1.21.922-1.138Z"}),(0,x.jsx)("path",{fill:"url(#EmojiKissingCat__i)",d:"M22.487 15.972s.013-.783-.002-1.042c-2.041.443-1.755.947.002 1.042Z"}),(0,x.jsx)("path",{fill:"url(#EmojiKissingCat__j)",d:"M1.557 16.491s.06.685.256 1.16c3.15-.296 2.88-1.06-.256-1.16Z"}),(0,x.jsx)("path",{fill:"url(#EmojiKissingCat__k)",d:"M2.025 18.129s.409.73.922 1.138c1.707-.853 1.232-1.21-.922-1.138Z"}),(0,x.jsx)("path",{fill:"url(#EmojiKissingCat__l)",d:"M1.513 15.972s-.013-.783.003-1.042c2.04.443 1.755.947-.003 1.042Z"}),(0,x.jsx)("path",{fill:"url(#EmojiKissingCat__m)",d:"M6.443 19.29c2 0 3.62-1.623 3.62-3.625a3.623 3.623 0 0 0-3.62-3.626c-2 0-3.62 1.623-3.62 3.626a3.623 3.623 0 0 0 3.62 3.625Z",opacity:.6}),(0,x.jsx)("path",{fill:"url(#EmojiKissingCat__n)",d:"M17.558 19.21c2 0 3.62-1.623 3.62-3.625a3.623 3.623 0 0 0-3.62-3.625c-2 0-3.62 1.623-3.62 3.625a3.623 3.623 0 0 0 3.62 3.625Z",opacity:.6}),(0,x.jsx)("path",{fill:"#C4810A",d:"M13.705 13.956c-.342-.362-3.069-.362-3.41 0-.522.55 1.03 1.533 1.705 1.533.676 0 2.227-.982 1.705-1.533ZM6.487 8.49c-3.005.84-1.44 1.616 1.185 1.217 1.48-.226.793-1.77-1.185-1.217Zm11.026 0c-1.977-.554-2.665.992-1.183 1.217 2.624.398 4.189-.377 1.183-1.217Z"}),(0,x.jsx)("path",{fill:"#674D21",d:"M14.954 12.615c1.076-.794 3.013-.847 4.175 0 .27.196.714.06.615-.168-1.015-2.328-4.39-2.323-5.404 0-.1.228.347.366.614.168Zm-10.083 0c1.076-.794 3.013-.847 4.175 0 .27.196.715.06.615-.168-1.015-2.328-4.391-2.323-5.405 0-.1.228.348.366.615.168Z"}),(0,x.jsx)("path",{fill:"#8F5D08",d:"M12.866 20.91h-.48a.452.452 0 0 1 0-.906h.48c.335 0 .598-.064.742-.18a.33.33 0 0 0 .127-.272c0-.596-.744-.907-.744-.907s.742-.297.742-.91a.33.33 0 0 0-.127-.27c-.143-.116-.406-.18-.74-.18h-.48a.452.452 0 0 1 0-.906h.48c.557 0 .998.13 1.311.384.297.242.46.587.46.973 0 .34-.122.663-.32.907.2.245.324.567.324.91 0 .385-.165.73-.461.973-.314.255-.756.384-1.314.384Z"}),(0,x.jsxs)("defs",{children:[(0,x.jsxs)("linearGradient",{id:"EmojiKissingCat__a",x1:8.536,x2:1.448,y1:5.875,y2:5.875,gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{stopColor:"#BA0085",stopOpacity:.7}),(0,x.jsx)("stop",{offset:1,stopColor:"#FF87F3",stopOpacity:.5})]}),(0,x.jsxs)("linearGradient",{id:"EmojiKissingCat__b",x1:15.445,x2:22.533,y1:5.875,y2:5.875,gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{stopColor:"#BA0085",stopOpacity:.7}),(0,x.jsx)("stop",{offset:1,stopColor:"#FF87F3",stopOpacity:.5})]}),(0,x.jsxs)("linearGradient",{id:"EmojiKissingCat__c",x1:12,x2:12,y1:22.875,y2:3.473,gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{stopColor:"#F90"}),(0,x.jsx)("stop",{offset:.721,stopColor:"#FFE600"})]}),(0,x.jsxs)("linearGradient",{id:"EmojiKissingCat__d",x1:12,x2:12,y1:7.917,y2:3.464,gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{stopColor:"#DE9400",stopOpacity:.5}),(0,x.jsx)("stop",{offset:1,stopColor:"#DE9400"})]}),(0,x.jsxs)("linearGradient",{id:"EmojiKissingCat__e",x1:9.885,x2:9.885,y1:6.418,y2:3.59,gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{stopColor:"#DE9400",stopOpacity:.5}),(0,x.jsx)("stop",{offset:1,stopColor:"#DE9400"})]}),(0,x.jsxs)("linearGradient",{id:"EmojiKissingCat__f",x1:14.115,x2:14.115,y1:6.418,y2:3.59,gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{stopColor:"#DE9400",stopOpacity:.5}),(0,x.jsx)("stop",{offset:1,stopColor:"#DE9400"})]}),(0,x.jsxs)("linearGradient",{id:"EmojiKissingCat__g",x1:19.954,x2:22.442,y1:17.071,y2:17.071,gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{stopColor:"#DE9400",stopOpacity:.5}),(0,x.jsx)("stop",{offset:1,stopColor:"#DE9400"})]}),(0,x.jsxs)("linearGradient",{id:"EmojiKissingCat__h",x1:20.019,x2:21.975,y1:18.693,y2:18.693,gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{stopColor:"#DE9400",stopOpacity:.5}),(0,x.jsx)("stop",{offset:1,stopColor:"#DE9400"})]}),(0,x.jsxs)("linearGradient",{id:"EmojiKissingCat__i",x1:21.059,x2:22.492,y1:15.451,y2:15.451,gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{stopColor:"#DE9400",stopOpacity:.5}),(0,x.jsx)("stop",{offset:1,stopColor:"#DE9400"})]}),(0,x.jsxs)("linearGradient",{id:"EmojiKissingCat__j",x1:4.047,x2:1.557,y1:17.071,y2:17.071,gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{stopColor:"#DE9400",stopOpacity:.5}),(0,x.jsx)("stop",{offset:1,stopColor:"#DE9400"})]}),(0,x.jsxs)("linearGradient",{id:"EmojiKissingCat__k",x1:3.981,x2:2.025,y1:18.693,y2:18.693,gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{stopColor:"#DE9400",stopOpacity:.5}),(0,x.jsx)("stop",{offset:1,stopColor:"#DE9400"})]}),(0,x.jsxs)("linearGradient",{id:"EmojiKissingCat__l",x1:2.941,x2:1.508,y1:15.451,y2:15.451,gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{stopColor:"#DE9400",stopOpacity:.5}),(0,x.jsx)("stop",{offset:1,stopColor:"#DE9400"})]}),(0,x.jsxs)("radialGradient",{id:"EmojiKissingCat__m",cx:0,cy:0,r:1,gradientTransform:"matrix(3.62081 0 0 3.62531 6.442 15.665)",gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{offset:.151,stopColor:"#FF6442"}),(0,x.jsx)("stop",{offset:.295,stopColor:"#FE6C3D",stopOpacity:.825}),(0,x.jsx)("stop",{offset:.517,stopColor:"#FD812E",stopOpacity:.557}),(0,x.jsx)("stop",{offset:.786,stopColor:"#FBA415",stopOpacity:.23}),(0,x.jsx)("stop",{offset:.976,stopColor:"#F9C101",stopOpacity:0})]}),(0,x.jsxs)("radialGradient",{id:"EmojiKissingCat__n",cx:0,cy:0,r:1,gradientTransform:"matrix(3.62081 0 0 3.62531 17.558 15.586)",gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{offset:.151,stopColor:"#FF6442"}),(0,x.jsx)("stop",{offset:.295,stopColor:"#FE6C3D",stopOpacity:.825}),(0,x.jsx)("stop",{offset:.517,stopColor:"#FD812E",stopOpacity:.557}),(0,x.jsx)("stop",{offset:.786,stopColor:"#FBA415",stopOpacity:.23}),(0,x.jsx)("stop",{offset:.976,stopColor:"#F9C101",stopOpacity:0})]})]})]}),E=(0,p.memo)((0,p.forwardRef)(v));E.displayName="EmojiKissingCat";const C=i().bind({content:"s__qXd7is2AKE2ODvvRQ3nf",description:"s__EugFxP91ITk9vUFgsnAK",button:"s__HWSz0HZp5MZYA3owRaca"}),S=({visible:e,onClose:t})=>{const{t:s}=(0,o.useTranslation)("service_assisted_feedback");return(0,x.jsxs)(c.G,{visible:e,className:C("root"),width:480,noAutoFocus:!0,children:[(0,x.jsx)(c.G.Navigation,{children:(0,x.jsx)(d.w.RightAccessory,{children:(0,x.jsx)(l.P,{autoFocus:!1,onClick:t})})}),(0,x.jsxs)("div",{className:C("content"),children:[(0,x.jsx)(E,{width:40,height:40}),(0,x.jsx)(g.x,{type:m.y.Title3Bold,transformOnMobile:!0,className:C("description"),children:s("success.description")}),(0,x.jsx)(b.z,{size:y.qE.M,priority:y.Ji.Primary,className:C("button"),onClick:t,children:s("success.buttonLabel")})]})]})};var $=s(98116),D=s(47047),O=s(15863);const{$enabled:I,turnOn:q,turnOff:N}=(0,$.withFactory)({sid:"n3hxed",fn:()=>(0,D.d)(O.qs,!1)}),M=()=>{const[e,t]=(0,n.useUnit)([I,N]);return(0,x.jsx)(S,{visible:e,onClose:t})},T="single_question",R="did_you_buy_ticket",A="score";var L=s(6328);const U=i().bind({root:"s__RbAHN8rnS7JD3wQH65ou"}),B=({rootClassname:e})=>{const{t:t}=(0,o.useTranslation)("service_assisted_feedback");return(0,x.jsxs)("div",{className:U("root",e),children:[(0,x.jsx)(L.$,{}),(0,x.jsx)(g.x,{type:m.y.Body2Paragraph,children:t("loading")})]})},z=i().bind({content:"s__Riv3oWngHeEM1GMKkpmK",popup:"s__nbPAZLr4F3B8A18ccvq8",loader:"s__UzxFhIi_QkkYjLFtTiDE",logo:"s__UHguJ_u90Mf0t4b6DDza"}),K=i().bind({"button-wrapper":"s__mZikPVMbjWsgCpxT7XcZ",title:"s__PGXcCdSDE7d6Kbu4w7IK"}),Z=(0,p.memo)((({title:e,buttons:t,onClick:s})=>{const{yes:a,no:r}=t;return(0,x.jsxs)("section",{children:[(0,x.jsx)(g.x,{tag:"h3",type:m.y.Title3Bold,transformOnMobile:!0,className:K("title"),children:e}),(0,x.jsxs)("div",{className:K("button-wrapper"),children:[a&&(0,x.jsx)(b.z,{size:y.qE.M,priority:y.Ji.Secondary,onClick:()=>{s&&s({id:a.id,payload:a.payload})},children:a.label}),r&&(0,x.jsx)(b.z,{size:y.qE.M,priority:y.Ji.Secondary,onClick:()=>{s&&s({id:r.id,payload:r.payload})},children:r.label})]})]})}));Z.displayName="DidYouBuyTicketView";const P=i().bind({content:"s__MWUcfOsYiCRJxbPu5YMH",popup:"s__zYQB4wSlbmPqQM7dXiRx",logo:"s__agaD3At2BEFS7Di6pgYB"});var Q=s(59051),G=s.n(Q),V=s(54448),X=s(85349),H=s(21247),Y=s(38032),W=s(65740);s(52262),s(24506),s(26699);const J=(0,$.withFactory)({sid:"-nyikp6",fn:()=>(0,D.s)((({$screensList:e})=>{const t=e.map((e=>e[0]||null)),s=(0,$.createStore)(null,{sid:"wdnhv5"}),a=(0,$.combine)({and:[{current:s,initial:t},({current:e,initial:t})=>G()(e)?t:e],or:{sid:"r6douz"}}),r=(0,$.combine)({and:[e,a,(e,t)=>e[0]===t],or:{sid:"-ezzwxn"}}),i=(0,$.combine)({and:[e,a,(e,t)=>e.at(-1)===t],or:{sid:"i2msju"}}),o=(0,$.createEvent)({sid:"p46yi5"}),n=(0,$.createEvent)({sid:"f8k7ah"}),c=(0,$.createEvent)({sid:"98eksg"});return(0,$.sample)({and:[{clock:e,source:s,filter:(e,t)=>t.length>0&&(G()(e)||!t.includes(e)),fn:(e,t)=>t[0],target:s}],or:{sid:"-ahdtw7"}}),(0,$.sample)({and:[{clock:o,source:{list:e,current:a},fn:({list:e,current:t})=>{const s=e.findIndex((e=>e===t));return s<0||s===e.length-1?t:e[s+1]},target:s}],or:{sid:"-a0c7i0"}}),(0,$.sample)({and:[{clock:n,source:{list:e,current:a},fn:({list:e,current:t})=>{const s=e.findIndex((e=>e===t));return s<=0?t:e[s-1]},target:s}],or:{sid:"a0bhnt"}}),(0,$.sample)({and:[{clock:c,source:e,filter:(e,t)=>e.some((e=>e===t)),fn:(e,t)=>t,target:s}],or:{sid:"ayeqg7"}}),{$currentScreen:a,$isFirstScreen:r,$isLastScreen:i,next:o,prev:n,goTo:c}}))});var ee=s(47480);const te=(0,$.withFactory)({sid:"-s0e39v",fn:()=>(0,D.s)((()=>(0,$.createEffect)((()=>(0,ee.x0)()),{sid:"9hfmry"})))});var se=s(29893),ae=s.n(se),re=s(30040),ie=s(10924);const oe=(0,$.createEvent)({sid:"-qej9tq"}),ne=(0,$.sample)({and:[{clock:oe,fn:e=>({data:{category:"feedback",label:"score",action:"submit"},payload:e})}],or:{sid:"ihngtv"}}),ce=(0,$.createEvent)({sid:"5y97q6"}),de=(0,$.sample)({and:[{clock:ce,fn:e=>({data:{category:"feedback",label:"answer",action:"submit"},payload:e})}],or:{sid:"-8tgqur"}}),le=(0,$.createEvent)({sid:"-v4utap"}),ue=(0,$.sample)({and:[{clock:le,fn:e=>({data:{category:"feedback",label:"feedback",action:"success"},payload:e})}],or:{sid:"31ipwg"}}),pe=(0,$.createEvent)({sid:"u21b40"}),fe=(0,$.sample)({and:[{clock:pe,fn:e=>({data:{category:"feedback",label:"popup",action:"shown"},payload:e})}],or:{sid:"c316nl"}}),ge=(0,$.merge)([ne,de,ue,fe],{sid:"m4jpd8"});ie.I.inputs.createReporter()({clock:ge,data:(e,{data:t})=>({...t,...e.data,service:re.t6.Feedback}),payload:e=>ae()(G(),e.payload)});const me=(0,$.withFactory)({sid:"or1zbi",fn:()=>(0,D.s)((({resetData:e,feedbackConfigReceived:t,answersSubmitted:s,scoreSubmitted:a,$context:r,$analyticsData:i})=>{const o=(0,$.createStore)(null,{sid:"-7e50c7"}),n=(0,$.createStore)([A],{sid:"qt660p"}),{$enabled:c,turnOn:d,turnOff:l}=(0,$.withFactory)({sid:"rwvxwc",fn:()=>(0,D.d)(O.qs,!1)}),{$isLastScreen:u,next:p,$currentScreen:f}=(0,$.withFactory)({sid:"fbdjxg",fn:()=>(0,D.d)((()=>J({$screensList:n})))}),g=(0,$.withFactory)({sid:"ksn86d",fn:()=>(0,D.d)(te)}),m=(0,$.createStore)({title:"",answers:[]},{sid:"akw6c7"}),h=(0,$.createStore)({},{sid:"-9hbwxb"});return(0,$.withFactory)({sid:"z22l4e",fn:()=>(0,H.h)({source:t,targets:{scores:m,views:h}})}),(0,$.sample)({and:[{clock:t,target:g}],or:{sid:"-zhg1v6"}}),(0,$.sample)({and:[{clock:g.doneData,target:o}],or:{sid:"-zep2wd"}}),(0,$.sample)({and:[{clock:a,filter:e=>e.every((({score:e})=>5===e)),target:d}],or:{sid:"-aq0tdx"}}),(0,$.sample)({and:[{clock:a,source:{analyticsData:i,context:r},fn:({analyticsData:e,context:t})=>({clickId:e.clickId,searchId:e.searchId,gateId:e.gateId,orderId:e.orderId,gateType:t||""}),target:oe}],or:{sid:"-a8z6zq"}}),(0,$.sample)({and:[{clock:s,source:{analyticsData:i,questionType:f,context:r},fn:({analyticsData:e,questionType:t,context:s})=>({clickId:e.clickId,searchId:e.searchId,gateId:e.gateId,orderId:e.orderId,gateType:s||"",questionType:t}),target:ce}],or:{sid:"-9qa6tg"}}),(0,$.sample)({and:[{clock:a,source:n,filter:(0,$.withFactory)({sid:"1abv3s",fn:()=>(0,Y.f)(c)}),fn:(e,t)=>[...e,...t.filter((({score:e})=>e<5)).sort(((e,t)=>e.score-t.score)).map((({id:e})=>e))],target:n}],or:{sid:"-8rn5fp"}}),(0,$.sample)({and:[{clock:n.updates,target:p}],or:{sid:"-7f997x"}}),(0,$.withFactory)({sid:"-6zb80g",fn:()=>(0,W.s)({source:s,if:u,then:d,else:p})}),e&&((0,$.withFactory)({sid:"-6jd6r9",fn:()=>(0,X.m)({clock:e,target:[n,o]})}),(0,$.sample)({and:[{clock:t,target:l}],or:{sid:"-6gm7sg"}})),{scoreSubmitted:a,flowFinished:d,$isFlowFinished:c,$isLastScreen:u,$screens:n,$currentScreen:f,$id:o,$scores:m,$views:h}}))}),he=(0,$.withFactory)({sid:"nbvttu",fn:()=>(0,D.s)((({resetData:e,feedbackConfigReceived:t,$context:s,answersSubmitted:a,$analyticsData:r})=>{const i=(0,$.createStore)(null,{sid:"q1rhgx"}),o=(0,$.createStore)(null,{sid:"-n07syv"}),{$enabled:n,turnOn:c,turnOff:d}=(0,$.withFactory)({sid:"-3jc72k",fn:()=>(0,D.d)(O.qs,!1)}),l=(0,$.withFactory)({sid:"-oypzx3",fn:()=>(0,D.d)(te)}),u=(0,$.createStore)("",{sid:"-w1wwto"}),p=(0,$.createStore)("",{sid:"ggbqyy"}),f=(0,$.createStore)([],{sid:"avhln3"});return(0,$.withFactory)({sid:"d1vicr",fn:()=>(0,H.h)({source:t,targets:{textAreaPlaceholder:u,title:p,answers:f}})}),(0,$.sample)({and:[{clock:t,target:l}],or:{sid:"dk0pxo"}}),(0,$.sample)({and:[{clock:l.doneData,target:i}],or:{sid:"dybdd2"}}),(0,$.sample)({and:[{clock:t,fn:({id:e})=>e,target:o}],or:{sid:"e2pq3y"}}),(0,$.sample)({and:[{clock:a,source:{analyticsData:r,questionType:o,context:s},fn:({analyticsData:e,questionType:t,context:s})=>({clickId:e.clickId,searchId:e.searchId,gateId:e.gateId,orderId:e.orderId,gateType:s||"",questionType:t}),target:ce}],or:{sid:"ej7jws"}}),(0,$.sample)({and:[{clock:a,target:c}],or:{sid:"-p577dm"}}),e&&((0,$.withFactory)({sid:"-oqcrb5",fn:()=>(0,X.m)({clock:e,target:i})}),(0,$.sample)({and:[{clock:t,target:d}],or:{sid:"-oc23vr"}})),{flowFinished:c,$isFlowFinished:n,$id:i,$currentScreen:o,$textAreaPlaceholder:u,$title:p,$answers:f}}))});var be=s(99186),ye=s(20611),xe=s(38387),ke=s(82672),_e=s(71172),we=s(78650);const{createLogger:je}=we.M.inputs,Fe={...(0,$.withFactory)({sid:"k275se",fn:()=>(0,D.d)(je,{team:"px",product:"feedback"})})},ve=(0,a.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/px_feedback/services/logger/index.ts",api:{inputs:Fe}});var Ee=s(32603);const Ce=({single_question_config:e})=>({id:e.id,viewType:e.view_type,title:e.title,textAreaPlaceholder:e.text_area_placeholder,answers:e.answers}),Se=({csi_config:e})=>{return{scores:e.scores,views:(t=e.views,(0,Ee.p)(t,(e=>({viewType:e.view_type,title:e.title,textAreaPlaceholder:e.text_area_placeholder,answers:e.answers}))))};var t},$e=({did_you_buy_ticket_config:e})=>null===e?null:{title:e.title,buttons:e.buttons};var De=s(35529);const Oe=(0,De.Union)((0,De.Literal)("checkboxes_multichoice")),Ie=(0,De.Record)({label:De.String,id:De.String}),qe=(0,De.Array)(Ie),Ne=(0,De.Record)({view_type:Oe,title:De.String,answers:qe,text_area_placeholder:De.String}),Me=(0,De.Record)({scores:(0,De.Record)({title:De.String,answers:qe}),views:(0,De.Dictionary)(Ne,De.String)}),Te=(0,De.Record)({feedback_type:(0,De.Literal)("csi"),csi_config:Me}),Re=(0,De.Record)({view_type:Oe,id:De.String,title:De.String,answers:qe,text_area_placeholder:De.String}),Ae=(0,De.Record)({feedback_type:(0,De.Literal)("single_question"),single_question_config:Re}),Le=(0,De.Record)({label:De.String,id:De.String}),Ue=(0,De.Record)({title:De.String,buttons:(0,De.Record)({yes:Le,no:Le})}),Be=(0,De.Record)({feedback_type:(0,De.Literal)("did_you_buy_ticket"),did_you_buy_ticket_config:Ue}),ze=(0,De.Record)({feedback_type:(0,De.Literal)("")}),Ke=(0,De.Union)(Te,Ae,Be,ze);var Ze=s(76588),Pe=s(80472),Qe=s(82525),Ge=s(57640);const{FEEDBACK_SERVICE_HOST:Ve}=Ge.H,{urlWithApiHost:Xe}=Qe.B.outputs,He=Xe(Ve),Ye=(0,$.withFactory)({sid:"8bd0gt",fn:()=>(0,D.s)((()=>{const e=(0,$.withFactory)({sid:"2pv45t",fn:()=>(0,Ze.s5)({params:(0,$.withFactory)({sid:"-20nwat",fn:()=>(0,Ze.t6)()}),name:"get_feedback",request:{method:"POST",url:{source:He,fn:(e,t)=>`${t}/v2/get`},body:e=>e},response:{contract:(0,Pe.v)(Ke)}})});return(0,$.withFactory)({sid:"-23z9nl",fn:()=>(0,Ze.XD)(e,{times:3,delay:100,supressIntermediateErrors:!0})}),e}))}),We=(0,$.withFactory)({sid:"5royez",fn:()=>(0,D.s)((()=>{const e=(0,$.createEvent)({sid:"9uhh9g"}),t=(0,$.withFactory)({sid:"-ikzvk9",fn:()=>(0,D.d)(Ye)});(0,$.sample)({and:[{clock:e,fn:({context:e,gateId:t,host:s,locale:a})=>({context:e,host:s,locale:a,gate_id:t}),target:t.start}],or:{sid:"-3luwu4"}});const{success:s,contractValidationError:a,badRequestError:r,notFoundError:i,unhandledError:o}=(0,_e.rX)(t),{singleQuestionFeedback:n,csiFeedback:c,didYouBuyTicketFeedback:d}=(0,$.split)({and:[s.map((({result:e})=>e)),{singleQuestionFeedback:Ae.guard,csiFeedback:Te.guard,didYouBuyTicketFeedback:Be.guard}],or:{sid:"-2aklrc"}}),l=n.map(Ce),u=c.map(Se),p=d.map($e);return(0,$.sample)({and:[{clock:a,fn:({error:e})=>({name:"Feedback contracts validation error",errorMessage:e.details,explanation:e.explanation,data:e.response}),target:ve.inputs.captureContractError}],or:{sid:"-1pof9c"}}),(0,$.sample)({and:[{clock:[r,i,o],fn:({error:e})=>({message:"Can not get feedback config",payload:e}),target:ve.inputs.error}],or:{sid:"-vfqmh"}}),{start:e,singleQuestionFeedbackReceived:l,csiFeedbackReceived:u,getFeedbackQuery:t,didYouBuyTicketFeedbackReceived:p}}))}),{FEEDBACK_SERVICE_HOST:Je}=Ge.H,{urlWithApiHost:et}=Qe.B.outputs,tt=et(Je),st=(0,$.withFactory)({sid:"da1qdf",fn:()=>(0,D.s)((()=>(0,$.withFactory)({sid:"-l690u6",fn:()=>(0,Ze.tW)({params:(0,$.withFactory)({sid:"-yfmh1j",fn:()=>(0,Ze.t6)()}),name:"send_feedback",request:{method:"POST",url:{source:tt,fn:(e,t)=>`${t}/v2/apply`},body:e=>e},response:{contract:Ze.ac}})})))}),at=({id:e,payload:t,type:s,viewId:a,gateType:r,orderId:i,searchId:o,clickId:n,gateId:c,host:d,pageName:l,platform:u})=>({feedback_id:e,feedback_type:s,view_id:a,payload:t,gate_type:r,order_id:i,search_id:o,click_id:n,gate_id:c,host:d,platform:u,page_name:l}),rt=(0,$.withFactory)({sid:"n7qm0d",fn:()=>(0,D.s)((()=>{const e=(0,$.createEvent)({sid:"i3ozoc"}),t=(0,$.withFactory)({sid:"nsys8f",fn:()=>(0,D.d)(st)});(0,$.sample)({and:[{clock:e,fn:at,target:t.start}],or:{sid:"vjafee"}});const{success:s,failure:a}=t.finished;return{start:e,success:s,failure:a,sendFeedbackMutation:t}}))}),{$hostname:it}=ye.D.outputs,{$isMobile:ot}=xe.l.outputs,{$page:nt}=ke.$.outputs,{$language:ct}=be.l.outputs,dt=(0,$.withFactory)({sid:"-fhjwnu",fn:()=>(0,D.s)((e=>{const{start:t,answersSubmitted:s,scoreSubmitted:a,questionAnswered:r,$context:i,$feedbackId:o,$feedbackType:n,$viewId:c,$analyticsData:d}=e,l=e.$isWebView||(0,$.createStore)(!1,{sid:"-usu03f"}),{csiFeedbackReceived:u,singleQuestionFeedbackReceived:p,didYouBuyTicketFeedbackReceived:f,start:g,getFeedbackQuery:m}=(0,$.withFactory)({sid:"q0rbod",fn:()=>(0,D.d)(We)}),{start:h,sendFeedbackMutation:b}=(0,$.withFactory)({sid:"q9dnfo",fn:()=>(0,D.d)(rt)}),y=(0,$.combine)({and:[o,n,c,it,ot,nt,l,d,i,(e,t,s,a,r,i,o,n,c)=>{if(!(t&&e&&s&&c))return null;let d=re.t4.Web;return r&&(d=re.t4.Mobile),o&&(d=re.t4.WebView),{id:e||"",type:t,viewId:s||"",gateType:c,host:a,pageName:i?.type||"",platform:d,orderId:n.orderId||"",searchId:n.searchId||"",clickId:n.clickId||"",gateId:n.gateId||0}}],or:{sid:"-er7olj"}}),x=(0,$.combine)({and:[it,d,ct,i,(e,t,s,a)=>a?{host:e,locale:s,context:a,gateId:t.gateId||0}:null],or:{sid:"-t62qfq"}}),k=(0,$.merge)([p,u],{sid:"-vbiccd"});return(0,$.sample)({and:[{clock:t,source:x,filter:Boolean,target:g}],or:{sid:"-pu1qax"}}),s&&(0,$.sample)({and:[{clock:s,source:y,filter:Boolean,fn:(e,{selectedAnswers:t,comment:s})=>({...e,payload:{comment:s,answers:t}}),target:h}],or:{sid:"-pcgb9n"}}),a&&(0,$.sample)({and:[{clock:a,source:y,filter:Boolean,fn:(e,t)=>({...e,payload:{score:t.reduce(((e,{id:t,score:s})=>(e[t]=s,e)),{})}}),target:h}],or:{sid:"-efv7lt"}}),r&&(0,$.sample)({and:[{clock:r,source:y,filter:Boolean,fn:(e,{id:t})=>({...e,payload:t}),target:h}],or:{sid:"-d1txly"}}),{csiFeedbackReceived:u,singleQuestionFeedbackReceived:p,didYouBuyTicketFeedbackReceived:f,feedbackConfigReceived:k,getFeedbackQuery:m,sendFeedbackMutation:b,sendFeedback:h}}))});var lt=s(51492),ut=s(59399);const pt=(0,$.withFactory)({sid:"-vf1vu1",fn:()=>(0,D.s)((e=>{const{start:t,feedbackConfigReceived:s,minLoadingTime:a,turnOffLoading:r,resetData:i}=e,o=(0,$.createEvent)({sid:"-n20v98"}),n=(0,$.createEvent)({sid:"-evj8km"}),c=(0,$.createEvent)({sid:"-j810xs"}),d=(0,$.createEvent)({sid:"-k8nlpm"}),l=(0,$.withFactory)({sid:"guj1z6",fn:()=>(0,lt.X)(o)}),u=(0,$.withFactory)({sid:"i3i0v0",fn:()=>(0,lt.X)(n)}),p=(0,$.createStore)(0,{sid:"jjvsxp"}),f=(0,$.createStore)(0,{sid:"yx3w2b"});(0,$.sample)({and:[{clock:t,target:o}],or:{sid:"ba1ujy"}}),(0,$.sample)({and:[{clock:s,target:n}],or:{sid:"bochzc"}}),(0,$.sample)({and:[{clock:u.updates,target:c}],or:{sid:"c4aj6t"}}),(0,$.sample)({and:[{clock:c,source:{startTime:l,endTime:u},fn:({startTime:e,endTime:t})=>t-e,target:p}],or:{sid:"c71i5m"}}),(0,$.withFactory)({sid:"-c1aovv",fn:()=>(0,W.s)({source:p.updates,if:p.map((e=>e>=a)),then:r,else:d})}),(0,$.sample)({and:[{clock:d,source:p,fn:e=>a-e,target:f}],or:{sid:"-bksv31"}}),(0,$.withFactory)({sid:"-bgyaxi",fn:()=>(0,ut.g)({source:f.updates,timeout:e=>e,target:r})}),(0,$.withFactory)({sid:"-b1k2be",fn:()=>(0,X.m)({clock:i,target:[l,u,p,f]})})}))}),ft={FeedbackContainer:({model:e})=>{const{t:t}=(0,o.useTranslation)("service_assisted_feedback"),{$isFeedbackVisible:s,$feedbackType:a,$isLoading:r}=e.main.outputs,{inputs:i}=e.main,{$singleQuestionAnswers:p,$singleQuestionTextAreaPlaceholder:f,$singleQuestionTitle:g}=e.singleQuestion.outputs,{$csiFeedbackScores:m,$csiCurrentScreen:h,$csiFeedbackViews:b}=e.csi.outputs,[y,k,w,j]=(0,n.useUnit)([s,a,r,i.manuallyHideFeedback]),[v,E,C,S]=(0,n.useUnit)([p,f,g,e.singleQuestion.outputs.answersSubmitted]),[$,D,O,I,q]=(0,n.useUnit)([m,h,b,e.csi.outputs.scoreSubmitted,e.csi.outputs.answersSubmitted]),N=t("feedbackForm.button");return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(c.G,{visible:y,onClose:j,className:z("popup"),noAutoFocus:!0,children:[(0,x.jsx)(c.G.Navigation,{children:(0,x.jsx)(d.w.RightAccessory,{children:(0,x.jsx)(l.P,{autoFocus:!1,onClick:j})})}),(0,x.jsxs)("div",{className:z("content"),children:[w&&(0,x.jsx)(B,{rootClassname:z("loader")}),!w&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(u.T,{onlySign:!0,className:z("logo")}),(()=>{switch(k){case T:return(0,x.jsx)(_,{checkboxes:v,textareaPlaceholder:E,title:C,onSubmit:S,buttonLabel:N});case"csi":{const e=D!==A&&null!==O&&null!==D;return(0,x.jsxs)(x.Fragment,{children:[D===A&&(0,x.jsx)(F,{title:$.title,buttonLabel:N,scores:$.answers,onSubmit:I}),e&&(0,x.jsx)(_,{checkboxes:O[D].answers,textareaPlaceholder:O[D].textAreaPlaceholder,title:O[D].title,onSubmit:q,buttonLabel:N})]})}default:return null}})()]})]})]}),(0,x.jsx)(M,{})]})},DidYouBuyTicketContainer:({model:e})=>{const{$isFeedbackVisible:t,$title:s,$buttonsWithPayload:a}=e.outputs,[r,i,o,p,f]=(0,n.useUnit)([t,s,a,e.outputs.questionAnswered,e.inputs.manuallyHideFeedback]);return(0,x.jsxs)(c.G,{visible:r,onClose:f,className:P("popup"),noAutoFocus:!0,width:480,children:[(0,x.jsx)(c.G.Navigation,{children:(0,x.jsx)(d.w.RightAccessory,{children:(0,x.jsx)(l.P,{autoFocus:!1,onClick:f})})}),(0,x.jsxs)("div",{className:P("content"),children:[(0,x.jsx)(u.T,{onlySign:!0,className:P("logo")}),(0,x.jsx)(Z,{title:i,buttons:o,onClick:p})]})]})}},gt={createFeedback:(0,$.withFactory)({sid:"-v9gzb5",fn:()=>(0,D.s)((e=>{const{context:t,start:s,$analyticsData:a,minLoadingTime:r,$isWebView:i}=e,o=(0,$.createStore)(t||null,{sid:"-x8nqck"}),n=(0,$.createEvent)({sid:"-17iybq"}),c=(0,$.createEvent)({sid:"ppck58"}),d=(0,$.createEvent)({sid:"-jwk7pn"}),l=(0,$.merge)([c,d],{sid:"uy54fv"}),u=(0,$.createEvent)({sid:"-ni32rh"}),p=(0,$.createStore)(null,{sid:"-9g4y0s"}),f=(0,$.createStore)(null,{sid:"-bqf2w5"}),g=(0,$.createStore)(null,{sid:"cdktk8"}),{$enabled:m,turnOff:h,turnOn:b}=(0,$.withFactory)({sid:"-8u62of",fn:()=>(0,D.d)(O.qs,!1)}),y=(0,$.createEvent)({sid:"4l8a95"}),{$enabled:x,turnOff:k,turnOn:_}=(0,$.withFactory)({sid:"-8cknov",fn:()=>(0,D.d)(O.qs,!1)});(0,$.sample)({and:[{clock:s,filter:e=>e&&!G()(e.context),fn:e=>e.context,target:o}],or:{sid:"-plzg9"}});const{csiFeedbackReceived:w,singleQuestionFeedbackReceived:j,feedbackConfigReceived:F,getFeedbackQuery:v,sendFeedbackMutation:E,sendFeedback:C}=(0,$.withFactory)({sid:"-7ddtpr",fn:()=>(0,D.d)(dt,{$isWebView:i,$analyticsData:a,$feedbackId:g,$feedbackType:p,$viewId:f,$context:o,answersSubmitted:l,start:s,scoreSubmitted:u})}),{$currentScreen:S,$title:I,$answers:N,$textAreaPlaceholder:M,$isFlowFinished:R,flowFinished:A,$id:L}=(0,$.withFactory)({sid:"-6dn75a",fn:()=>(0,D.d)(he,{feedbackConfigReceived:j,resetData:n,answersSubmitted:c,$context:o,$analyticsData:a})}),{$currentScreen:U,$scores:B,$views:z,$isFlowFinished:K,flowFinished:Z,$id:P}=(0,$.withFactory)({sid:"-5iaxbp",fn:()=>(0,D.d)(me,{feedbackConfigReceived:w,resetData:n,answersSubmitted:d,scoreSubmitted:u,$context:o,$analyticsData:a})}),Q=(0,$.withFactory)({sid:"58v812",fn:()=>(0,V.or)(K,R)}),H=(0,$.merge)([Z,A],{sid:"-z2ur81"});return(0,$.sample)({and:[{clock:[L.updates,P.updates],target:g}],or:{sid:"34edhe"}}),(0,$.sample)({and:[{clock:b,source:[S,U],fn:([e,t])=>e||t,target:f}],or:{sid:"diagyy"}}),(0,$.sample)({and:[{clock:[S.updates,U.updates],filter:m,target:f}],or:{sid:"dy8i6f"}}),(0,$.sample)({and:[{clock:j,fn:()=>T,target:p}],or:{sid:"eeqbz9"}}),(0,$.sample)({and:[{clock:w,fn:()=>"csi",target:p}],or:{sid:"ei13jf"}}),(0,$.sample)({and:[{clock:s,target:[b,_]}],or:{sid:"eyixc9"}}),r?(0,$.withFactory)({sid:"ff0r6t",fn:()=>(0,D.d)(pt,{feedbackConfigReceived:F,minLoadingTime:r,turnOffLoading:k,resetData:n,start:s})}):(0,$.sample)({and:[{clock:F,target:k}],or:{sid:"fuysea"}}),(0,$.sample)({and:[{clock:H,target:[q,h]}],or:{sid:"gc0eqr"}}),(0,$.sample)({and:[{clock:y,target:h}],or:{sid:"gerdpk"}}),(0,$.sample)({and:[{clock:h,target:n}],or:{sid:"gt214y"}}),(0,$.sample)({and:[{clock:H,source:a,fn:({clickId:e,orderId:s,searchId:a,gateId:r})=>({clickId:e,orderId:s,searchId:a,gateId:r,gateType:t}),target:le}],or:{sid:"h902cf"}}),(0,$.withFactory)({sid:"htcgas",fn:()=>(0,X.m)({clock:n,target:[p,f,g]})}),{main:{inputs:{hideFeedback:h,manuallyHideFeedback:y,showFeedback:b},outputs:{$isFeedbackVisible:m,$isFeedbackFinished:Q,$feedbackType:p,$isLoading:x,feedbackFinished:H}},csi:{outputs:{$csiCurrentScreen:U,scoreSubmitted:u,$csiFeedbackScores:B,$csiFeedbackViews:z,answersSubmitted:d}},singleQuestion:{outputs:{$singleQuestionCurrentScreen:S,$singleQuestionTitle:I,$singleQuestionAnswers:N,$singleQuestionTextAreaPlaceholder:M,answersSubmitted:c}},internal:{$feedbackId:g,$viewId:f,getFeedbackQuery:v,sendFeedbackMutation:E,sendFeedback:C,resetData:n}}}))}),createDidYouBuyTicketFeedback:(0,$.withFactory)({sid:"7xnsnq",fn:()=>(0,D.s)((({$analyticsData:e,start:t,context:s})=>{const a=(0,$.createStore)(null,{sid:"dbgu45"}),r=(0,$.createStore)(R,{sid:"-6u83oj"}),{$enabled:i,turnOn:o,turnOff:n}=(0,$.withFactory)({sid:"-ljg0y6",fn:()=>(0,D.d)(O.qs,!1)}),c=(0,$.createEvent)({sid:"ludkcn"}),d=(0,$.createEvent)({sid:"xbzews"}),l=(0,$.withFactory)({sid:"-e324lu",fn:()=>(0,D.d)(te)}),{$enabled:u,turnOff:p,turnOn:f}=(0,$.withFactory)({sid:"-kk96z2",fn:()=>(0,D.d)(O.qs,!1)}),g=(0,$.createEvent)({sid:"-p5xfk0"}),m=(0,$.createStore)(R,{sid:"rx2yr"}),h=(0,$.createStore)(s,{sid:"tcvcto"}),{didYouBuyTicketFeedbackReceived:b,getFeedbackQuery:y,sendFeedbackMutation:x}=(0,$.withFactory)({sid:"-w3n9e5",fn:()=>(0,D.d)(dt,{$analyticsData:e,$feedbackId:a,$feedbackType:m,$viewId:r,$context:h,start:t,questionAnswered:c})}),k=(0,$.createStore)("",{sid:"-d1wyn3"}),_=(0,$.createStore)({yes:{label:"",id:""},no:{label:"",id:""}},{sid:"btq6rk"}),w=_.map((e=>({yes:{...e.yes,payload:{context:"serp_has_ticket"}},no:{...e.no,payload:{context:"serp_no_ticket"}}})));return(0,$.withFactory)({sid:"-jd4f24",fn:()=>(0,H.h)({source:b,targets:{title:k,buttons:_}})}),(0,$.sample)({and:[{clock:b,target:f}],or:{sid:"-ix6dun"}}),(0,$.sample)({and:[{clock:b,target:l}],or:{sid:"-ih8cn6"}}),(0,$.sample)({and:[{clock:l.doneData,target:a}],or:{sid:"-iehdod"}}),(0,$.sample)({and:[{clock:b,source:e,fn:({clickId:e,searchId:t,gateId:s})=>({clickId:e,searchId:t,gateId:s}),target:pe}],or:{sid:"-hyjcgw"}}),(0,$.sample)({and:[{clock:c,target:[p,o,d]}],or:{sid:"-hgxxhc"}}),(0,$.withFactory)({sid:"-h2na1y",fn:()=>(0,X.m)({clock:d,target:a})}),(0,$.sample)({and:[{clock:b,target:n}],or:{sid:"-gzwb35"}}),(0,$.sample)({and:[{clock:g,target:p}],or:{sid:"-gllnnr"}}),{inputs:{hideFeedback:p,showFeedback:f,manuallyHideFeedback:g},outputs:{$isFeedbackVisible:u,$title:k,$buttonsWithPayload:w,questionAnswered:c,flowFinished:o,$isFlowFinished:i},internals:{getFeedbackQuery:y,sendFeedbackMutation:x,resetData:d,$id:a}}}))}),hideSuccessPopup:N,$isSuccessVisible:I},mt=(0,a.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/px_feedback/services/feedback/index.ts",api:{containers:ft,outputs:gt}})},38267:function(e,t,s){s.d(t,{Z:function(){return o}});var a=s(85893),r=s(67294);const i=({className:e,...t},s)=>(0,a.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:s,style:{display:"inline-block"},...t,children:(0,a.jsx)("path",{d:"M11.538 2.008 9.011 8.085l-6.561.526-.286.879 5 4.282-1.528 6.402.747.543L12 17.286l5.617 3.43.747-.542-1.527-6.402 4.999-4.282-.285-.879-6.562-.526-2.527-6.077h-.924Z"})}),o=(0,r.memo)((0,r.forwardRef)(i));o.displayName="Icon24CommonRateStar"},67061:function(e,t,s){s.d(t,{g:function(){return d}});var a=s(85893),r=s(67294),i=s(47166),o=s(19858);const n=i.bind({variables:"s__oTNGMHgooXJYKUoCbl9C",root:"s__R2CpbUqKx9n9aZSgAjfQ","textarea-wrapper":"s__HaX_g6qBqj5aDcimNexH","with-right-element":"s__aXGJRqYzHy0hFPNlQAVe",disabled:"s__cbsq_Xahs5uWLyFLZuTx",textarea:"s__aESXcvocyI8TOBw_PQNz",error:"s__g1IEbSqUpiQYY1xt0gvv","hide-placeholder":"s__BGB24THGLeWn11mlfaoX","placeholder-mask":"s__VALisvO23NyME6prk9BM","transparent-char":"s__qxfZ8EqKCiLM1BdZmJzR","right-element":"s__W4nlX8JZGzNGzUoPJUjD","bottom-text":"s__pgA9LxRK0jCT1tyzy_lQ",caption:"s__B6CXE4jInjhkbpwjL3DQ","text-error":"s__Zvj8mXPhCYVxzZ6u82Gv","mask-char":"s__j7gLsb5LV0OwOCgDnLlN","no-pointer-events":"s__D2YSGMV3WkXrDGb7pxK9"}),c=r.forwardRef((({caption:e,rightElement:t,rightElementNoPointerEvents:s,error:r,disabled:i,placeholder:c,placeholderMask:d,value:l,className:u,testId:p,hidePlaceholder:f=!1,...g},m)=>{const h=(0,o.Y)(l,d),b=(0,o.p)(d,c),y="string"==typeof r?r:e,x=n("textarea-wrapper",{"with-right-element":t,disabled:i}),k=n("bottom-text",{"text-error":r,caption:!r&&e,disabled:i});return(0,a.jsxs)("div",{className:n("variables","root",u),"data-test-id":p??"textarea-container",children:[(0,a.jsxs)("label",{className:x,children:[(0,a.jsx)("textarea",{...g,disabled:i,value:l,placeholder:b,className:n("textarea",{error:"string"==typeof r,"hide-placeholder":f}),ref:m,"data-test-id":"textarea"}),d&&(0,a.jsx)("span",{className:n("placeholder-mask",{disabled:i}),children:h.map(((e,t)=>{const s=`${String(t)}${e}`,r=l&&t<l.length;return(0,a.jsx)("span",{className:n("mask-char",{"transparent-char":r}),children:e},s)}))}),t&&(0,a.jsx)("div",{className:n("right-element",{"no-pointer-events":s}),children:t})]}),y&&(0,a.jsx)("span",{"data-test-id":"textarea_bottom_text",className:k,children:y})]})})),d=(0,r.memo)(c)},51492:function(e,t,s){s.d(t,{X:function(){return i}});var a=s(98116),r=()=>Date.now();function i(e){var t=a.is.unit(e)?{clock:e}:e,{clock:s,getNow:i,initial:o}=t,n=null!=i?i:r,c=(0,a.createEffect)(n,{name:"readNowFx",sid:"ito90c"}),d=(0,a.restore)(c,null!=o?o:n(),{name:"$time",sid:"-k3vl4d"});return(0,a.sample)({and:[{clock:s,target:c}],or:{sid:"rul0o2"}}),d}}}]);
//# sourceMappingURL=https://private-static.prod.k8s.int.avs.io/selene-source-maps/shared-aed4c08b07063ac27b4ed0e8811a4ea475d8654a.2355435701a108df8a03.min.js.map