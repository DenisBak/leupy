"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[65130],{86042:function(e,a,t){t.d(a,{A:function(){return i}});var r=t(98116),s=t(30091);const o=(0,r.createEffect)((({title:e,props:a})=>{window&&(a&&UXS?.addProperties(a),UXS?.sendEvent(e))}),{sid:"7scn0r"}),n=(0,r.createEvent)({sid:"nl6izj"});(0,r.sample)({and:[{clock:n,target:o}],or:{sid:"-q8ysh0"}});const i=(0,s.Yn)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/platform/services/ux_feedback/index.ts",api:{inputs:{sendUxFeedback:n}}})},90309:function(e,a,t){t.d(a,{x:function(){return v}});var r=t(30091),s=t(98116),o=t(62423),n=t(51456),i=t(47956);const c=(0,s.createStore)(!1,{sid:"-vtusq0"}),{openGuidesPaywallModal:u,closeGuidesPaywallModal:d}=(0,s.createApi)({and:[c,{openGuidesPaywallModal:(e,a)=>!0,closeGuidesPaywallModal:()=>!1}],or:{sid:"-1g39uv"}}),l=(0,s.createEvent)({sid:"-mwg93c"}),p=(0,s.createEvent)({sid:"-gtoo5"}),m=(0,s.restore)(p,o.N9.PaywallTrap,{sid:"n292oq"});(0,s.sample)({and:[{clock:u,source:{tabs:n.mH.outputs.$tabs,source:i.I.outputs.$trapSource},fn:({tabs:e,source:a},t)=>{const r=e?.find((({id:e})=>t.tab===e))?.type;return{...t,tab:r,source:a}},target:l}],or:{sid:"-oop5r8"}});const y={openGuidesPaywallModal:u,closeGuidesPaywallModal:d,paywallOpenedAnalytics:l,setPaywallEntrypoint:p},f={$isPaywallOpened:c,$paywallEntrypoint:m},v=(0,r.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/guides/services/guides_paywall/index.ts",api:{inputs:y,outputs:f}})},76356:function(e,a,t){t.d(a,{e:function(){return Ca}});var r=t(30091),s=t(99741),o=t(30040),n=t(10924),i=t(53788),c=t(68621),u=t(82672);const d=n.I.inputs.createReporter({data:{service:o.t6.Premium},payload:{pageName:u.$.outputs.$page.map((e=>e?.type||"")),market:i.D.outputs.$market,platform:"web"}});n.I.inputs.commonField({name:"premiumStateId",source:c.b.outputs.$premiumStatus.map((e=>e?.premium_state_id??null))});var l=t(98116),p=t(38032);const m=e=>{const a=(e=>{if(l.is.unit(e))return e;if(Array.isArray(e))return(0,l.merge)(e,{sid:"k1qxlc"});const{clock:a}=e;return Array.isArray(a)?(0,l.merge)(a,{sid:"mez32k"}):a})(e),t=(e=>{if(l.is.unit(e)||Array.isArray(e))return null;const{reset:a}=e;return Array.isArray(a)?(0,l.merge)(a,{sid:"-xxqooj"}):a})(e),r=(0,l.createEvent)({sid:"-3qymyu"}),s=(0,l.createStore)(!1,{sid:"ivjsji"}).on(r,(()=>!0));return t&&s.reset(t),(0,l.sample)({and:[{clock:a,filter:(0,l.withFactory)({sid:"-7ui5x3",fn:()=>(0,p.f)(s)}),target:r}],or:{sid:"-742yuk"}}),r};var y;!function(e){e.Success="success",e.Failed="failed",e.Started="started",e.Submit="submit",e.AddNew="add_new",e.Added="added",e.Removed="removed",e.Invalid="invalid",e.Opened="opened",e.FilterApplied="filter_applied",e.Interacted="interacted",e.RedirectStarted="redirect_started",e.Showed="showed",e.Shown="shown",e.Viewed="viewed",e.Shared="shared",e.Created="created",e.Chosen="chosen",e.Cancel="cancel"}(y||(y={})),d({clock:s.c.outputs.requestSuccessfullyCompleted,data:{category:"premium",label:"subscription",action:y.Cancel},payload:{user_event:!0}});var f=t(82097),v=t(55582),h=t(42177);const b=(0,l.restore)(v.R.outputs.promocodePricingReceived.map((e=>e?.type)),null,{sid:"-eftcn1"}),k=(0,l.withFactory)({sid:"i6z7xv",fn:()=>(0,f.f)(b,"referral")}),_=(0,l.combine)({and:[k,h.X.outputs.$entryPoint,(e,a)=>e?"referral":a||"no_context"],or:{sid:"-izz5df"}});var g=t(24926),$=t(54448);const{matchPage:S,pages:w}=u.$.outputs,C=S(w.PremiumNoContextLandingPage),A=S(w.PremiumStandalonePurchasePage),P=(0,l.withFactory)({sid:"ik8ra6",fn:()=>(0,g.w)((0,l.withFactory)({sid:"ro4ums",fn:()=>(0,$.or)(C.$isOpen,A.$isOpen)}),"no_context","inproduct")});var x=t(20611),q=t(61118);const E=x.D.inputs.createQueryParameterApi({name:"purchase_action_button",clientOnly:!0}),R=(0,l.sample)({and:[{clock:E.$value,filter:Boolean}],or:{sid:"l3yu4p"}}),O=(0,l.merge)([q.S.outputs.ctaButtonClicked,R],{sid:"-sukw7g"}),F=(0,l.restore)(O,null,{sid:"mi55mc"});var M=t(47480),D=t(30839);const W=(0,l.createEffect)(M.x0,{sid:"-7igmn0"}),B=(0,l.restore)(W,null,{sid:"-sbmoef"});(0,l.sample)({and:[{clock:[D.o.inputs.bankCardPurchaseSubmitted,D.o.inputs.freePromocodePurchaseSubmitted,D.o.inputs.applePayPurchaseSubmitted,D.o.inputs.googlePayPurchaseSubmitted],target:W}],or:{sid:"-hzk28e"}});const I=(0,l.createStore)(null,{sid:"-gt1211"}).on(D.o.inputs.bankCardPurchaseSubmitted,(()=>"bank_card")).on(D.o.inputs.applePayPurchaseSubmitted,(()=>"apple_pay")).on(D.o.inputs.googlePayPurchaseSubmitted,(()=>"google_pay"));var z=t(24991);const T=z.C.outputs.$offersList.map((e=>e.map((e=>e.id))));var j=t(84513),U=t(66092),L=t(73780),N=t(26476),G=t(17526);const V=x.D.inputs.createQueryParameterApi({name:"order_id",clientOnly:!0}),Q=(0,l.merge)([j.y.outputs.bankCardResult.success,j.y.outputs.freePromocodeResult.success,j.y.outputs.applePayResult.success,j.y.outputs.googlePayResult.success,G.v.outputs.receivedSuccess,U.U.outputs.paymentCompletedSuccessfully,L.L.outputs.paymentCompletedSuccessfully,N.K.outputs.receivedSuccess],{sid:"aobfey"}),X=(0,l.merge)([j.y.outputs.bankCardResult.threeDs,j.y.outputs.googlePayResult.threeDs,G.v.outputs.receivedThreeDs],{sid:"48nfds"}),H=(0,l.merge)([j.y.outputs.bankCardResult.threeDsV2,j.y.outputs.googlePayResult.threeDsV2],{sid:"-30q65q"}),K=(0,l.merge)([j.y.outputs.bankCardResult.alreadyActive,j.y.outputs.freePromocodeResult.alreadyActive,j.y.outputs.applePayResult.alreadyActive,j.y.outputs.googlePayResult.alreadyActive],{sid:"mjin3z"}),Y=(0,l.merge)([j.y.outputs.bankCardResult.error,j.y.outputs.freePromocodeResult.error,j.y.outputs.applePayResult.error,j.y.outputs.googlePayResult.error,G.v.outputs.receivedPayError],{sid:"-sjhjsl"}),J=m({clock:[(0,l.merge)([(0,l.sample)({and:[{clock:[Q,K,Y],fn:({orderId:e})=>e}],or:{sid:"41jtxj"}}),(0,l.sample)({and:[{clock:X,fn:({threeDsInfo:e})=>e.orderId}],or:{sid:"4faork"}}),(0,l.sample)({and:[{clock:H,fn:({threeDsV2Info:e})=>e.orderId}],or:{sid:"4hhv50"}})],{sid:"-h76ym8"}),(0,l.sample)({and:[{clock:V.$value,filter:Boolean}],or:{sid:"eerciq"}})],reset:[D.o.outputs.bankCardStarted,D.o.outputs.applePayStarted,D.o.outputs.googlePayStarted]}),Z=(0,l.restore)(J,null,{sid:"-8ok783"});var ee=t(32146);const ae=m({clock:[ee.V.inputs.inProductPurchase.goToSuccess,ee.V.inputs.standalonePurchase.goToSuccess,ee.V.inputs.paymentStatus.goToSuccess],reset:[D.o.outputs.bankCardStarted,D.o.outputs.applePayStarted,D.o.outputs.googlePayStarted]}),{matchPage:te,pages:re}=u.$.outputs,se=te(re.ProfilePremiumPage),oe=(0,l.withFactory)({sid:"o04foh",fn:()=>(0,g.w)(se.$isOpen,"profile",null)}),ne=x.D.inputs.createQueryParameterApi({name:"source",clientOnly:!0}).$value,ie=(0,l.createEvent)({sid:"292i43"});d({clock:ie,data:{category:"premium",action:y.Opened},payload:{market:i.D.outputs.$market,source:ne,user_event:!0}});const ce={profileOpened:ie},ue=(0,l.createEvent)({sid:"cb0r42"});d({clock:ue,data:{category:"premium",label:"cashback_history",action:y.Opened},payload:{market:i.D.outputs.$market,user_event:!0}});const de={cashbackHistoryOpened:ue},le=(0,l.createEvent)({sid:"-daq2e5"});d({clock:le,data:{category:"premium",label:"cashback_offer",action:y.Opened},payload:{partner_name:e=>e.name,partner_id:e=>e.id,source:"profile",market:i.D.outputs.$market,user_event:!0}});const pe={cashbackOfferOpened:le},me=(0,l.createEvent)({sid:"yirucz"});d({clock:me,data:{category:"premium",label:"trap_promo",action:y.Opened},payload:{user_event:!0}});const ye={trapModalOpened:me},fe=(0,l.createEvent)({sid:"-qiwa58"});d({clock:fe,data:{category:"premium",label:"cashback_offer",action:y.RedirectStarted},payload:{partner_id:e=>e.id,partner_name:e=>e.name,deeplink:e=>e.deeplink,source:"profile",user_event:!0}});const ve={redirectFromCashbackOfferStarted:fe};var he=t(84183);const{bankAccountWithdrawStart:be,bankCardWithdrawStart:ke,paypalWithdrawStart:_e,tinkoffWithdrawStart:ge,savedMethodWithdrawStart:$e}=he.k.inputs,Se=(0,l.merge)([be,ke,_e,ge,$e],{sid:"gcygzs"}),we=(0,l.createStore)(null,{sid:"in7j8j"}).on(be,(()=>"bank_requisites")).on(ke,(()=>"bank_card")).on(_e,(()=>"paypal")).on(ge,(()=>"tinkoff")),Ce=(0,l.createStore)(0,{sid:"reubsi"}).on(Se,((e,a)=>a.requestedCashback)),Ae=(0,l.createStore)(0,{sid:"-gplum0"}).on(Se,((e,a)=>a.requestedCo2)),Pe=(0,l.createStore)(null,{sid:"-ej6kk6"}).on(Se,((e,a)=>a.currency));d({clock:Se,data:{category:"payout",label:"payout",action:y.Started},payload:{user_event:!0,payout_details_type:we,amount:Ce,amount_co2:Ae,currency:Pe,commission:null,payment_system:null}});var xe=t(52932);const qe=(0,l.createEvent)({sid:"leyauv"}),Ee=xe.N.outputs.$availableBalance.map((e=>e?.value??null)),Re=xe.N.outputs.$availableBalance.map((e=>e?.currency??null));d({clock:qe,data:{category:"payout",label:"payout",action:y.Started},payload:{has_saved_details:xe.N.outputs.$isSavedWithdrawMethodsExist,amount:Ee,currency:Re,user_event:!0}});const Oe={withdrawStarted:qe},Fe=(0,l.createEvent)({sid:"-o7rzow"});(0,l.sample)({and:[{clock:[q.S.outputs.showFaqModal,q.S.outputs.faqCategorySelected],source:q.S.outputs.$faqSelectedCategory,fn:e=>({tab:e,source:"landing"}),target:Fe}],or:{sid:"pzdny0"}}),d({clock:Fe,data:{category:"premium",label:"faq",action:y.Opened},payload:{tab:e=>e.tab,source:e=>e.source,user_event:!0}});const Me={faqOpened:Fe};var De=t(59566);const{landingSettingsReceived:We}=v.R.outputs,Be=(0,l.combine)({and:[De.w.outputs.$promocodeFromSearchParams,_,(e,a)=>"referral"===a?e:null],or:{sid:"-r0fhcp"}});d({clock:We,data:{category:"premium_purchase",label:"landing",action:y.Opened},payload:{blocks_order:e=>e.blocksOrder,source:_,landing:P,referral:Be,user_event:!1}}),d({clock:(0,l.merge)([q.S.outputs.ctaClickedInInproductMode,q.S.outputs.ctaClickedInNoContextMode],{sid:"dvdu6q"}),data:{category:"premium_purchase",label:"purchase",action:y.Started},payload:{purchase_action_button:F,landing:P,source:_,user_event:!0,paywall:null}});var Ie=t(46488),ze=t.n(Ie);d({clock:q.S.outputs.featureViewed,data:{category:"premium_purchase",label:"feature",action:y.Viewed},payload:{feature:ze(),source:_,landing:P,user_event:!0}}),d({clock:q.S.outputs.dialogueInteracted,data:{category:"premium_purchase",label:"landing_dialogues",action:y.Interacted},payload:{dialogue_id:ze(),source:_,landing:P,user_event:!0}});const{playerStartInteracted:Te}=q.S.outputs;d({clock:Te,data:{category:"premium_purchase",label:"landing_guides",action:y.Interacted},payload:{landing:P,guide_id:({id:e})=>e,start_time:({startTime:e})=>e,source:_,user_event:!0}}),d({clock:z.C.outputs.offerCardClicked,data:{category:"premium_purchase",label:"offer",action:y.Chosen},payload:{offers_available:T,offer_id:z.C.outputs.$selectedOfferId,user_event:!0,source:_}}),d({clock:q.S.outputs.ctaClickedInFreeMarketsMode,data:{category:"premium",label:"auth",action:y.Started},payload:{purchase_action_button:F,source:_,landing:P,user_event:!0}});var je=t(72675),Ue=t(62423),Le=t(68378);d({clock:(0,l.sample)({and:[{clock:Le.O.inputs.userLoggedIn,filter:(0,l.withFactory)({sid:"gcawnf",fn:()=>(0,je.x)((0,l.withFactory)({sid:"cnmx4d",fn:()=>(0,f.f)(q.S.outputs.$landingMode,Ue.jo.FreeMarkets)}),Le.O.outputs.$isUserAuthorized)})}],or:{sid:"-qkryu4"}}),data:{category:"premium",label:"auth",action:y.Success},payload:{purchase_action_button:F,source:_,landing:P,user_event:!1}});const Ne=t(66756).E.outputs.$type.map((e=>e?.card?.type??null));d({clock:(0,l.merge)([D.o.outputs.bankCardStarted,D.o.outputs.applePayStarted,D.o.outputs.googlePayStarted],{sid:"fmj5c3"}),data:{category:"premium_purchase",label:"payment",action:y.Started},payload:{device_payment_id:B,payment_method:I,payment_system:Ne,offer_id:z.C.outputs.$selectedOfferId,tier_id:z.C.outputs.$tierId,promocode:De.w.outputs.$verifiedPromocode,source:_,purchase_action_button:F,landing:P,user_event:!0,paywall:null}});const{matchPage:Ge,pages:Ve}=u.$.outputs,Qe=Ge(Ve.AssistedPage);d({clock:(0,l.sample)({and:[{clock:J,filter:(0,l.withFactory)({sid:"-b2z7o4",fn:()=>(0,p.f)(Qe.$isOpen)})}],or:{sid:"jv86z2"}}),data:{category:"premium_purchase",label:"order",action:y.Created},payload:{device_payment_id:B,order_id:Z,user_event:!1}});var Xe=t(55479),He=t(2150);d({clock:ae,data:{category:"premium_purchase",label:"payment",action:y.Success},payload:{device_payment_id:B,order_id:Z,purchase_action_button:F,landing:P,offer_id:z.C.outputs.$selectedOfferId,paywall:null,source:_,user_event:!1}}),d({clock:(0,l.merge)([Xe.D.outputs.subscriptionSuccessfulyRenewed,He.F.outputs.purchaseCompletedSuccessfully],{sid:"-r4ql9u"}),data:{category:"premium_purchase",label:"payment",action:y.Success},payload:{source:"profile_renew",device_payment_id:B,order_id:Z,offer_id:z.C.outputs.$selectedOfferId,paywall:null,userEvent:!1}});var Ke=t(21279),Ye=t(90309);const Je=(0,l.sample)({and:[{clock:Ke.k.inputs.showExpiredCashbackPaywall,fn:()=>Ue.Oe.ExpiredCashback}],or:{sid:"u3y10l"}}),Ze=(0,l.sample)({and:[{clock:Ke.k.inputs.showExpiredProfilePaywall,fn:()=>Ue.Oe.ExpiredProfile}],or:{sid:"-56if38"}}),ea=(0,l.sample)({and:[{clock:Ke.k.inputs.showExpiredTrapPaywall,fn:()=>Ue.Oe.ExpiredTrap}],or:{sid:"-97wavd"}}),aa=(0,l.merge)([Je,Ze,ea],{sid:"17bwuu"});d({clock:Ye.x.inputs.paywallOpenedAnalytics,data:{category:"premium_purchase",label:"paywall",action:y.Shown},payload:{userEvent:!1,source:Ue.N9.PaywallTrap}}),d({clock:aa,data:{category:"premium_purchase",label:"paywall",action:y.Shown},payload:e=>({user_event:e!==Ue.Oe.ExpiredProfile,type:e})});var ta=t(3507),ra=t(54428);d({clock:ta.l.inputs.showAuthDialog,data:{category:"profile",label:"login",action:y.Opened},payload:{source:ta.l.outputs.$loginSource,user_event:!0,is_mobile:!1,login_network:ra.O.outputs.$authMethods,mailout_accepted:null}});var sa=t(57790),oa=t(30828),na=t(64131);const ia=(0,l.combine)({and:[oa.l.outputs.$canUseApplePay,na.F.outputs.$isShouldShowButton,(e,a)=>{const t=["bank_card"];return e&&t.push("apple_pay"),a&&t.push("google_pay"),t}],or:{sid:"-y0d21m"}}),ca=(0,l.sample)({and:[{clock:ee.V.inputs.inProductPurchase.goToPurchaseForm,filter:sa.o.outputs.$isInproductPurchaseVisible}],or:{sid:"zeh3v6"}}),ua=(0,l.sample)({and:[{clock:ee.V.inputs.inModalPurchase.goToPurchaseForm,filter:He.F.outputs.$visible}],or:{sid:"ktxgvh"}}),da=(0,l.createEvent)({sid:"a6wxiw"});d({clock:(0,l.merge)([ca,ua,da],{sid:"sze8gl"}),data:{category:"premium_purchase",label:"payment",action:y.Opened},payload:{offers_available:T,offer_id:z.C.outputs.$selectedOfferId,user_event:!1,landing:P,source:_,payment_methods:ia,paywall:null}});const la={standalonePurchasePaymentOpened:da};var pa=t(94730),ma=t(97047);d({clock:(0,l.merge)([pa.G.outputs.sharedSuccessfully,ma.t.outputs.copiedSuccessfully],{sid:"-ae8ftp"}),data:{category:"premium",label:"referral_link",action:y.Shared},payload:{user_event:!0,source:oe}});var ya=t(79403),fa=t(39018);const{playerStartInteracted:va,ctaButtonClicked:ha,dialogueOpened:ba}=q.S.outputs,{applePayPurchaseSubmitted:ka,googlePayPurchaseSubmitted:_a,bankCardPurchaseSubmitted:ga}=D.o.inputs,{applePayStarted:$a,googlePayStarted:Sa,bankCardStarted:wa}=D.o.outputs;(0,l.sample)({and:[{clock:va,fn:()=>({type:"click_walks"}),target:fa.n.inputs.sendEvent}],or:{sid:"-iwakfp"}}),(0,l.sample)({and:[{clock:ae,filter:ya.U.outputs.$isWayAwayBrand,fn:()=>({type:"plus_purchase"}),target:fa.n.inputs.sendEvent}],or:{sid:"-iszsvj"}}),(0,l.sample)({and:[{clock:ha,fn:()=>({type:"click_more"}),target:fa.n.inputs.sendEvent}],or:{sid:"-idlk9f"}}),(0,l.sample)({and:[{clock:ba,fn:()=>({type:"click_support"}),target:fa.n.inputs.sendEvent}],or:{sid:"-hyr48o"}}),(0,l.sample)({and:[{clock:[ka,_a,ga],fn:()=>({type:"click_buy_button"}),target:fa.n.inputs.sendEvent}],or:{sid:"-hvgcoi"}}),(0,l.sample)({and:[{clock:[wa,$a,Sa],fn:()=>({type:"submit_form_purchase"}),target:fa.n.inputs.sendEvent}],or:{sid:"-heeqab"}});const Ca=(0,r.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/premium/services/analytics/index.ts",api:{inputs:{...la,...ce,...de,...Oe,...pe,...Me,...ve,...ye}}})},66092:function(e,a,t){t.d(a,{U:function(){return M}});var r=t(30091),s=t(98116),o=t(68346),n=t(39777),i=t(76588),c=t(80472),u=t(35529),d=t(62423),l=t(6560),p=t(35255),m=t(64783),y=t(51862);const f=(0,u.Record)({status:(0,u.Literal)("success"),success:(0,u.Record)({order_id:u.String,is_referral_program_enabled:(0,u.Optional)(u.Boolean),screen_type:(0,u.Union)((0,u.Literal)("default"),(0,u.Literal)("trial"),(0,u.Literal)("referral"))})}),v=(0,u.Record)({status:(0,u.Union)((0,u.Literal)("payment_error"),(0,u.Literal)("error")),order_id:u.String}),{$commonParams:h,$headers:b}=l.s.outputs,k=(0,s.withFactory)({sid:"qictzg",fn:()=>(0,i.s5)({name:"actualize_status_query",params:(0,s.withFactory)({sid:"-u2pzdk",fn:()=>(0,i.t6)()}),request:{credentials:"include",method:"GET",url:(0,p.l)({endpoint:d.vG.ActualizeStatus}),query:{source:h,fn:y.s},headers:{source:b,fn:(e,a)=>a}},response:{contract:(0,c.v)((0,u.Union)(f,v))}})});(0,s.withFactory)({sid:"mu7joq",fn:()=>(0,i.XD)(k,m.z)});const _=k.$status,g=_.map((e=>({isIdle:"initial"===e,isProcessing:"pending"===e,isPaymentSuccess:"done"===e,isFail:"fail"===e}))),$=(0,s.createEvent)({sid:"otxkv9"}),{requestSuccessfullyCompleted:S,requestFailed:w,contractValidationFailed:C}=(0,n.E)(k);(0,s.sample)({and:[{clock:$,target:k.start}],or:{sid:"lnvkys"}});const{paymentSuccess:A,paymentError:P}=(0,s.split)({and:[S,{paymentSuccess:f.guard,paymentError:v.guard}],or:{sid:"-o2j5li"}}),x=A.map((e=>({orderId:e.success.order_id,isReferralProgramEnabled:Boolean(e.success.is_referral_program_enabled),screenType:"referral"===e.success.screen_type?"default":e.success.screen_type}))),q=P.map((e=>({orderId:e.order_id})));(0,s.sample)({and:[{clock:C,fn:e=>({name:"PaymentThreeDsDto | PaymentThreeDsV2SuccessDto validation error",errorMessage:e.validationErrors,errorType:e.errorType,explanation:e.explanation,data:e.response}),target:o.R.inputs.logContractError}],or:{sid:"n3k8qq"}}),(0,s.sample)({and:[{clock:w,fn:e=>({message:"call to /status failed",payload:e}),target:o.R.inputs.warning}],or:{sid:"nlpgbn"}});const E={internals:{actualizeStatusQuery:k},inputs:{requested:$},outputs:{$state:_,$stateFlags:g,requestFailed:w,paymentCompletedSuccessfully:x,paymentFailed:q}},R={...E.inputs},O={...E.outputs},F={query:E.internals.actualizeStatusQuery},M=(0,r.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/premium/services/api_actualize_status/index.ts",api:{outputs:O,inputs:R,internals:F}})},84183:function(e,a,t){t.d(a,{k:function(){return K}});var r=t(30091),s=t(98116),o=t(82097),n=t(68346),i=t(62423),c=t(39777),u=t(35529),d=t(71049);const l=(0,u.Record)({status:(0,u.Literal)("success"),success:(0,u.Record)({paid_co2_tons:u.Number,is_amount_doubled:u.Boolean})}),p=(0,u.Record)({status:(0,u.Literal)("requested_error"),requested_error:(0,u.Record)({requested_cashback:d.gC,available_cashback:d.gC,requested_co2:d.gC.extend({provider:u.String})})});var m=t(44074),y=t(76588),f=t(80472),v=t(6560),h=t(35255);const{$headers:b,$commonParams:k}=v.s.outputs,_=(0,u.Union)(l,p),g=(0,s.withFactory)({sid:"qi618d",fn:()=>(0,y.tW)({params:(0,s.withFactory)({sid:"-u609oz",fn:()=>(0,y.t6)()}),request:{url:(0,h.l)({endpoint:i.vG.Payout}),credentials:"include",method:"POST",body:e=>e,query:{source:k,fn:(e,a)=>a},headers:{source:b,fn:(e,a)=>a}},response:{contract:(0,f.v)(_)}})});var $;!function(e){e[e.BankCard=0]="BankCard",e[e.BankAccount=1]="BankAccount",e[e.Tinkoff=2]="Tinkoff",e[e.Saved=3]="Saved",e[e.Co2=4]="Co2",e[e.Paypal=5]="Paypal"}($||($={}));const S=(0,s.createStore)(i.cO.Idle,{sid:"l8dys1"}),w=S.map((e=>({isIdle:e===i.cO.Idle,isProcessing:e===i.cO.Processing,isSuccess:e===i.cO.Success,isRequestedError:e===i.cO.RequestedError,isBadResponse:e===i.cO.BadResponse,isFail:e===i.cO.Fail}))),C=(0,s.createApi)({and:[S,{idle:()=>i.cO.Idle,processing:()=>i.cO.Processing,success:()=>i.cO.Success,requestedError:()=>i.cO.RequestedError,badResponse:()=>i.cO.BadResponse,fail:()=>i.cO.Fail}],or:{sid:"joip9f"}}),A=(0,s.createEvent)({sid:"-marns9"}),P=(0,s.createEvent)({sid:"uwsc9h"}),x=(0,s.createEvent)({sid:"fcw0gm"}),q=(0,s.createEvent)({sid:"kao38w"}),E=(0,s.createEvent)({sid:"-bx6vjv"}),R=(0,s.createEvent)({sid:"-ublbin"}),O=(0,s.createStore)(null,{sid:"-k2m23g"}).on(A,(()=>$.BankCard)).on(P,(()=>$.BankAccount)).on(x,(()=>$.Tinkoff)).on(q,(()=>$.Saved)).on(E,(()=>$.Co2)).on(R,(()=>$.Paypal)),{requestSuccessfullyCompleted:F,requestFailed:M,contractValidationFailed:D}=(0,c.E)(g);(0,s.sample)({and:[{clock:(0,s.sample)({and:[{clock:[A,P,x,q,E,R],fn:function(e){switch(e.type){case"bank_card":return(e=>({requested_cashback:{currency_code:e.currency,value:e.requestedCashback},requested_co2:{provider:e.co2Provider,currency_code:e.currency,value:e.requestedCo2},payment_type:{type:"bank_card",value:{card_number:e.cardNumber,card_holder:e.cardHolder},save:e.save}}))(e);case"bank_account":return(e=>({requested_cashback:{currency_code:e.currency,value:e.requestedCashback},requested_co2:{provider:e.co2Provider,currency_code:e.currency,value:e.requestedCo2},payment_type:{type:"bank",value:{bik:e.bik,account_number:e.accountNumber,full_name:e.fullName,corr_account_number:e.corrAccountNumber,bank_name:e.bankName},save:e.save}}))(e);case"tinkoff":return(e=>({requested_cashback:{currency_code:e.currency,value:e.requestedCashback},requested_co2:{provider:e.co2Provider,currency_code:e.currency,value:e.requestedCo2},payment_type:{type:"tinkoff",value:{agreement_number:e.agreementNumber},save:e.save}}))(e);case"co2":return(e=>({requested_cashback:{currency_code:e.currency,value:e.requestedCashback},requested_co2:{provider:e.co2Provider,currency_code:e.currency,value:e.requestedCo2}}))(e);case"paypal":return(e=>({requested_cashback:{currency_code:e.currency,value:e.requestedCashback},requested_co2:{provider:e.co2Provider,currency_code:e.currency,value:e.requestedCo2},payment_type:{type:"paypal",value:{receiver:e.receiver},save:e.save}}))(e);case"saved":return(e=>({requested_cashback:{currency_code:e.currency,value:e.requestedCashback},requested_co2:{provider:e.co2Provider,currency_code:e.currency,value:e.requestedCo2},payment_type:{id:e.savedMethodId}}))(e);default:return null}}}],or:{sid:"-s18l7c"}}),filter:Boolean,target:g.start}],or:{sid:"lbcy25"}});const{withdrawSuccess:W,withdrawError:B}=(0,s.split)({and:[F,{withdrawSuccess:l.guard,withdrawError:p.guard}],or:{sid:"3xp5cl"}}),I=W.map((e=>({paidTons:e.success.paid_co2_tons,isAmountDoubled:e.success.is_amount_doubled}))),z=B.map((e=>{const{currency_code:a,value:t,provider:r}=e.requested_error.requested_co2;return{requestedCashback:(0,m.zO)(e.requested_error.requested_cashback),availableCashback:(0,m.zO)(e.requested_error.available_cashback),requestedCo2:{...(0,m.zO)({currency_code:a,value:t}),provider:r}}})),T=(0,s.sample)({and:[{clock:I,source:O,filter:e=>e===$.BankCard,fn:(e,a)=>a}],or:{sid:"-sszirz"}}),j=(0,s.sample)({and:[{clock:I,filter:(0,s.withFactory)({sid:"24xjmv",fn:()=>(0,o.f)(O,$.BankAccount)})}],or:{sid:"4z4wl2"}}),U=(0,s.sample)({and:[{clock:I,filter:(0,s.withFactory)({sid:"4i5nlu",fn:()=>(0,o.f)(O,$.Tinkoff)})}],or:{sid:"5ip7y9"}}),L=(0,s.sample)({and:[{clock:I,filter:(0,s.withFactory)({sid:"gtbtuw",fn:()=>(0,o.f)(O,$.Saved)})}],or:{sid:"o40u5q"}}),N=(0,s.sample)({and:[{clock:I,filter:(0,s.withFactory)({sid:"j6jxtv",fn:()=>(0,o.f)(O,$.Co2)})}],or:{sid:"f5pjk4"}}),G=(0,s.sample)({and:[{clock:I,filter:(0,s.withFactory)({sid:"vhq42x",fn:()=>(0,o.f)(O,$.Paypal)})}],or:{sid:"8lffcv"}});(0,s.split)({and:[{source:g.$status,match:e=>e,cases:{initial:C.idle,pending:C.processing,fail:C.fail}}],or:{sid:"yk2ki8"}}),(0,s.sample)({and:[{clock:W,target:C.success}],or:{sid:"z146wf"}}),(0,s.sample)({and:[{clock:B,target:C.requestedError}],or:{sid:"zfeubt"}}),(0,s.sample)({and:[{clock:D,target:C.badResponse}],or:{sid:"zi5tam"}}),(0,s.sample)({and:[{clock:D,fn:e=>({name:"WithdrawSuccessDto | WithdrawErrorDto validation error",errorMessage:e.validationErrors,errorType:e.errorType,explanation:e.explanation,data:e.response}),target:n.R.inputs.logContractError}],or:{sid:"-z307h1"}});const V={inputs:{bankCardWithdrawStart:A,bankAccountWithdrawStart:P,tinkoffWithdrawStart:x,savedMethodWithdrawStart:q,fullBalanceToCo2WithdrawStart:E,paypalWithdrawStart:R},outputs:{$state:S,$stateFlags:w,completedWithBadResponse:D,bankCardWithdrawSuccess:T,bankAccountWithdrawSuccess:j,tinkoffWithdrawSuccess:U,savedMethodWithdrawSuccess:L,co2WithdrawSuccess:N,paypalWithdrawSuccess:G,withdrawError:z,requestFailed:M},internals:{withdrawMutation:g,stubs:{withdrawSuccessDtoStub:{status:"success",success:{paid_co2_tons:10,is_amount_doubled:!0}},withdrawSuccessStub:{paidTons:10,isAmountDoubled:!0},withdrawErrorDtoStub:{status:"requested_error",requested_error:{requested_cashback:{value:1e3,currency_code:"usd"},available_cashback:{value:700,currency_code:"usd"},requested_co2:{value:500,currency_code:"usd",provider:"default"}}},withdrawErrorStub:{requestedCashback:{value:1e3,currency:"usd"},availableCashback:{value:700,currency:"usd"},requestedCo2:{value:500,currency:"usd",provider:"default"}},newBankCardWithdrawParamsStub:{type:"bank_card",currency:"usd",requestedCashback:100,requestedCo2:0,co2Provider:"test",save:!1,cardNumber:"4111111111111111",cardHolder:"TEST TEST"},newBankCardWithdrawParamsDtoStub:{requested_cashback:{currency_code:"usd",value:100},requested_co2:{provider:"test",currency_code:"usd",value:0},payment_type:{type:"bank_card",value:{card_number:"4111111111111111",card_holder:"TEST TEST"},save:!1}},savedMethodWithdrawParamsStub:{type:"saved",currency:"usd",requestedCashback:100,requestedCo2:0,co2Provider:"test",savedMethodId:"1"},savedMethodWithdrawParamsDtoStub:{requested_cashback:{currency_code:"usd",value:100},requested_co2:{provider:"test",currency_code:"usd",value:0},payment_type:{id:"1"}},fullBalanceToCo2WithdrawParamsStub:{type:"co2",currency:"usd",requestedCashback:100,requestedCo2:0,co2Provider:"test"},fullBalanceToCo2WithdrawParamsDtoStub:{requested_cashback:{currency_code:"usd",value:100},requested_co2:{provider:"test",currency_code:"usd",value:0}},paypalWithdrawParamsStub:{type:"paypal",currency:"usd",requestedCashback:100,requestedCo2:20,co2Provider:"default",save:!1,receiver:"test"},paypalWithdrawParamsDtoStub:{requested_cashback:{currency_code:"usd",value:100},requested_co2:{provider:"default",currency_code:"usd",value:20},payment_type:{type:"paypal",value:{receiver:"test"},save:!1}}}}},Q={...V.inputs},X={...V.outputs},H={mutation:V.internals.withdrawMutation,stubs:{...V.internals.stubs}},K=(0,r.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/premium/services/api_withdraw/index.ts",api:{outputs:X,inputs:Q,internals:H}})},64012:function(e,a,t){t.d(a,{c:function(){return ze}});var r=t(30091),s=t(98116),o=t(68346),n=t(62423),i=t(39777),c=t(76588),u=t(80472),d=t(6560),l=t(35255),p=t(64783),m=t(35529),y=t(71049);const f=y.gC,v=(0,m.Record)({value:m.Number}),h=(0,m.Record)({fixed:f.nullable().optional(),percent:v.nullable().optional(),min_fixed:f.nullable().optional()}),b=(0,m.Record)({amount:y.gC,description:m.String}),k=(0,m.Record)({commission:h,estimate_days:m.Number,min_amount:y.gC,max_amount:y.gC}),_=(0,m.Record)({currency_code:m.String,rules:k,commission_amount:y.gC}),g=_,$=_,S=_,w=_.extend({legal_url:m.String}),C=(0,m.Record)({type:(0,m.Literal)("bank_card"),name:m.String,id:m.String}),A=(0,m.Record)({type:(0,m.Literal)("bank"),name:m.String,id:m.String}),P=(0,m.Record)({type:(0,m.Literal)("tinkoff"),name:m.String,id:m.String}),x=(0,m.Record)({type:(0,m.Literal)("paypal"),name:m.String,id:m.String}),q=(0,m.Union)(C,x,A,P),E=(0,m.Array)((0,m.Union)(q,m.Unknown)),R=(0,m.Record)({bank_card:(0,m.Optional)(g),bank:(0,m.Optional)($),tinkoff:(0,m.Optional)(S),paypal:(0,m.Optional)(w)}),O=(0,m.Record)({price_per_ton:y.gC,co2_range:(0,m.Array)(b)}),F=(0,m.Record)({provider:(0,m.Literal)("default"),default:O}),M=(0,m.Record)({provider:(0,m.Literal)("offsetted"),offsetted:O}),D=(0,m.Record)({provider:(0,m.Literal)("sustainable"),sustainable:O}),W=(0,m.Union)(M,D,F),B=(0,m.Record)({types:R,payment_details:E,carbon_footprint:(0,m.Optional)(W),available_balance:y.gC}),{$headers:I,$commonParams:z}=d.s.outputs,T=(0,s.withFactory)({sid:"20gbv9",fn:()=>(0,c.s5)({name:"withdraw_scheme_query",request:{credentials:"include",method:"GET",url:(0,l.l)({endpoint:n.vG.Payout}),query:{source:z,fn:(e,a)=>a},headers:{source:I,fn:(e,a)=>a}},response:{contract:(0,u.v)(B)}})});(0,s.withFactory)({sid:"-indki2",fn:()=>(0,c.XD)(T,p.z)});var j=t(44074);const U=e=>({minFixed:e.min_fixed?(0,j.zO)(e.min_fixed):null,fixed:e.fixed?(0,j.zO)(e.fixed):null,percent:e.percent?.value??0}),L=e=>({amount:(0,j.zO)(e.amount),description:e.description}),N=e=>({commission:U(e.commission),estimateDays:e.estimate_days,minAmount:(0,j.zO)(e.min_amount),maxAmount:(0,j.zO)(e.max_amount)}),G=e=>{const{commission:a,minAmount:t,maxAmount:r,estimateDays:s}=N(e.rules);return{commission:a,minAmount:t,maxAmount:r,estimateDays:s,currency:e.currency_code,totalCommission:(0,j.zO)(e.commission_amount)}},V=e=>{const{commission:a,minAmount:t,maxAmount:r,estimateDays:s}=N(e.rules);return{commission:a,minAmount:t,maxAmount:r,estimateDays:s,currency:e.currency_code,totalCommission:(0,j.zO)(e.commission_amount),legalUrl:e.legal_url}},Q=e=>({type:e.type,name:e.name,id:e.id}),X=e=>{const a={bank_card:Q,bank:Q,tinkoff:Q,paypal:Q};return e.filter(q.guard).map((e=>a[e.type](e)))},H=e=>({bankCard:e.bank_card?G(e.bank_card):null,paypal:e.paypal?V(e.paypal):null,bankAccount:e.bank?G(e.bank):null,tinkoff:e.tinkoff?G(e.tinkoff):null}),K=e=>({pricePerTon:(0,j.zO)(e.price_per_ton),co2Range:e.co2_range.map(L)}),Y={currency_code:"usd",value:100},J={currency:"usd",value:100},Z={value:10},ee={commission:{fixed:Y,percent:Z,min_fixed:{currency_code:"usd",value:35}},estimate_days:9,min_amount:{currency_code:"usd",value:200},max_amount:{currency_code:"usd",value:1e3}},ae={commission:{fixed:J,percent:10,minFixed:{currency:"usd",value:35}},estimateDays:9,minAmount:{currency:"usd",value:200},maxAmount:{currency:"usd",value:1e3}},te={currency_code:"usd",rules:ee,commission_amount:{currency_code:"usd",value:300}},re={...ae,currency:"usd",totalCommission:{currency:"usd",value:300}},se={currency_code:"rub",rules:ee,commission_amount:{currency_code:"rub",value:500}},oe={...ae,currency:"rub",totalCommission:{currency:"rub",value:500}},ne={currency_code:"usd",rules:ee,commission_amount:{currency_code:"usd",value:1e3}},ie={...ae,currency:"usd",totalCommission:{currency:"usd",value:1e3}},ce={currency_code:"usd",rules:ee,commission_amount:{currency_code:"usd",value:300},legal_url:"https://test.com"},ue={...ae,currency:"usd",totalCommission:{currency:"usd",value:300},legalUrl:"https://test.com"},de={type:"bank_card",name:"test_name",id:"1"},le={type:"paypal",name:"test_name",id:"2"},pe={bank_card:te,paypal:ce,bank:se,tinkoff:ne},me={bankCard:re,paypal:ue,bankAccount:oe,tinkoff:ie},ye={provider:"offsetted",offsetted:{price_per_ton:{currency_code:"usd",value:1},co2_range:[{amount:{currency_code:"usd",value:100},description:"test_description"}]}},fe={provider:"offsetted",pricePerTon:{currency:"usd",value:1},co2Range:[{amount:{currency:"usd",value:100},description:"test_description"}]},ve={types:pe,payment_details:[de,le],carbon_footprint:ye,available_balance:{currency_code:"usd",value:1e4}},he={availableWithdrawMethods:me,savedWithdrawMethods:[de,le],availableBalance:{currency:"usd",value:1e4},co2Scheme:fe},be=(0,s.createStore)(n.li.Idle,{sid:"-ect0ey"}),ke=be.map((e=>({isIdle:e===n.li.Idle,isProcessing:e===n.li.Processing,isSuccess:e===n.li.Success,isBadResponse:e===n.li.BadResponse,isFail:e===n.li.Fail}))),_e=(0,s.createApi)({and:[be,{idle:()=>n.li.Idle,processing:()=>n.li.Processing,success:()=>n.li.Success,badResponse:()=>n.li.BadResponse,fail:()=>n.li.Fail}],or:{sid:"-upll65"}}),ge=(0,s.createEvent)({sid:"qar6n8"}),{requestSuccessfullyCompleted:$e,requestFailed:Se,contractValidationFailed:we}=(0,i.E)(T);(0,s.split)({and:[{source:T.$status,match:e=>e,cases:{initial:_e.idle,pending:_e.processing,fail:_e.fail,done:_e.success}}],or:{sid:"-ie0vg2"}}),(0,s.sample)({and:[{clock:we,target:_e.badResponse}],or:{sid:"-hwfggi"}}),(0,s.sample)({and:[{clock:ge,target:T.start}],or:{sid:"-hghf91"}});const Ce=$e.map((e=>{const a=e.carbon_footprint?(e=>{const a=(()=>{switch(e.provider){case"offsetted":return K(e.offsetted);case"sustainable":return K(e.sustainable);case"default":return K(e.default);default:return null}})();return a?{provider:e.provider,...a}:null})(e.carbon_footprint):null;return{availableWithdrawMethods:H(e.types),savedWithdrawMethods:X(e.payment_details),availableBalance:(0,j.zO)(e.available_balance),co2Scheme:a}})),Ae=Ce.map((e=>e.availableWithdrawMethods)),Pe=(0,s.sample)({and:[{clock:Ce,filter:({savedWithdrawMethods:e})=>e.length>0,fn:({savedWithdrawMethods:e})=>e}],or:{sid:"-4vls9b"}}),xe=Ce.map((e=>e.availableBalance)),qe=(0,s.sample)({and:[{clock:Ce.map((e=>e.co2Scheme)),filter:Boolean}],or:{sid:"-lyoaqa"}}),Ee=qe.map((e=>e.provider)),Re=(0,s.sample)({and:[{clock:Ae.map((e=>e.bankCard)),filter:Boolean}],or:{sid:"-1c1jeo"}}),Oe=(0,s.sample)({and:[{clock:Ae.map((e=>e.bankAccount)),filter:Boolean}],or:{sid:"-svgwim"}}),Fe=(0,s.sample)({and:[{clock:Ae.map((e=>e.tinkoff)),filter:Boolean}],or:{sid:"s1y75e"}}),Me=(0,s.sample)({and:[{clock:Ae.map((e=>e.paypal)),filter:Boolean}],or:{sid:"127tq"}});(0,s.sample)({and:[{clock:we,fn:e=>({name:"WithdrawSchemeDto validation error",errorMessage:e.validationErrors,errorType:e.errorType,explanation:e.explanation,data:e.response}),target:o.R.inputs.logContractError}],or:{sid:"-17athe"}});const De={inputs:{requested:ge},outputs:{$state:be,$stateFlags:ke,availableWithdrawMethodsReceived:Ae,savedWithdrawMethodsReceived:Pe,bankCardSchemeReceived:Re,bankAccountSchemeReceived:Oe,tinkoffSchemeReceived:Fe,paypalSchemeReceived:Me,co2SchemeReceived:qe,availableBalanceReceived:xe,requestFailed:Se,completedWithBadResponse:we,co2ProviderReceived:Ee,withdrawSchemeReceived:Ce},internals:{withdrawSchemeQuery:T,stubs:{fixedCommissionDtoStub:Y,fixedCommissionStub:J,percentCommissionDtoStub:Z,percentCommissionStub:10,withdrawalRulesDtoStub:ee,withdrawalRulesStub:ae,bankCardSchemeDtoStub:te,bankCardSchemeStub:re,paypalSchemeDtoStub:ce,paypalSchemeStub:ue,bankCardWithdrawMethodStub:de,paypalWithdrawMethodStub:le,availableWithdrawMethodsDtoStub:pe,availableWithdrawMethodsStub:me,carbonFootprintDtoStub:ye,carbonFootprintStub:fe,withdrawSchemeDtoStub:ve,withdrawSchemeStub:he}}},We={...De.inputs},Be={...De.outputs},Ie={query:De.internals.withdrawSchemeQuery,stubs:{...De.internals.stubs}},ze=(0,r.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/premium/services/api_withdraw_scheme/index.ts",api:{outputs:Be,inputs:We,internals:Ie}})},97047:function(e,a,t){t.d(a,{t:function(){return h}});var r=t(30091),s=t(98116),o=t(59399),n=t(47047),i=t(15863);const{$enabled:c,turnOn:u,turnOff:d}=(0,s.withFactory)({sid:"jx3mlu",fn:()=>(0,n.d)(i.qs,!1)}),l=(0,s.createEvent)({sid:"-78oa0a"}),p=(0,s.restore)(l.map((e=>"string"==typeof e?0:e.resetDelay??0)),0,{sid:"-w0j3ch"}),m=(0,s.createEffect)((e=>navigator.clipboard.writeText(e)),{sid:"-1s2ux"}),y=m.done;(0,s.sample)({and:[{clock:l,fn:e=>"string"==typeof e?e:e.text,target:m}],or:{sid:"pbvirl"}}),(0,s.sample)({and:[{clock:y,source:p,filter:e=>e>0,target:u}],or:{sid:"pu0qci"}}),(0,s.withFactory)({sid:"q9eyym",fn:()=>(0,o.g)({source:u,timeout:p,target:d})});const f={copyClicked:l},v={$isCopied:c,copiedSuccessfully:y},h=(0,r.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/premium/services/copy/index.ts",api:{inputs:{...f},outputs:{...v}}})},57790:function(e,a,t){t.d(a,{o:function(){return _}});var r=t(98116),s=t(47047),o=t(15863),n=t(42177),i=t(63246),c=t(4119),u=t(54428),d=t(24991),l=t(86042);const{$featuredOfferId:p,findOfferId:m,offersListReceived:y,$selectedOfferId:f}=d.C.outputs,{offerSelected:v}=d.C.inputs,{turnOn:h,turnOff:b,$enabled:k}=(0,r.withFactory)({sid:"-w3m7re",fn:()=>(0,s.d)(o.qs,!1)});(0,r.sample)({and:[{clock:n.X.inputs.entryPointInteracted,target:h}],or:{sid:"lrsdps"}}),(0,r.sample)({and:[{clock:b,target:n.X.inputs.resetEntryPoint}],or:{sid:"m7qex9"}}),(0,r.sample)({and:[{clock:h,filter:i.y.outputs.$isClient,fn:()=>({title:c.bW.MoreProductLanding}),target:l.A.inputs.sendUxFeedback}],or:{sid:"mahdw2"}}),(0,r.sample)({and:[{clock:u.O.outputs.loggedIn,filter:k,target:d.C.inputs.launch}],or:{sid:"n469xk"}}),(0,r.sample)({and:[{clock:y,source:{selectedOfferId:f,featuredOfferId:p},filter:k,fn:({selectedOfferId:e,featuredOfferId:a},t)=>m(e,a,t),target:v}],or:{sid:"nlrox4"}});const _={inputs:{showInproductPurchase:h,hideInproductPurchase:b},outputs:{$isInproductPurchaseVisible:k}}},94730:function(e,a,t){t.d(a,{G:function(){return v}});var r=t(30091),s=(t(21703),t(98116)),o=t(59051),n=t.n(o),i=t(63246);const c=(0,s.createStore)(null,{sid:"w3023o"}),u=(0,s.createEvent)({sid:"bbjzna"}),d=(0,s.createEvent)({sid:"-c62z8f"}),l=(0,s.createEffect)((()=>!n()(navigator.share)),{sid:"-a1qr1u"}),p=(0,s.createEffect)((e=>{if(n()(navigator.share))throw Error("Web Share Api is not supported on this device or environment");return navigator.share({text:e})}),{sid:"qzsney"}),m=p.done;(0,s.sample)({and:[{clock:u,filter:i.y.outputs.$isClient,target:l}],or:{sid:"2tuxc9"}}),(0,s.sample)({and:[{clock:l.doneData,target:c}],or:{sid:"2x5owf"}}),(0,s.sample)({and:[{clock:d,filter:c,target:p}],or:{sid:"3bgcbt"}});const y={shareClicked:d,checkShareApiAvailability:u},f={$isWebShareApiAvailable:c,sharedSuccessfully:m},v=(0,r.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/premium/services/share/index.ts",api:{inputs:{...y},outputs:{...f}}})},52932:function(e,a,t){t.d(a,{N:function(){return le}});var r=t(98116),s=t(64012);const o=(0,r.createEvent)({sid:"81zhqe"}),n=s.c.outputs.savedWithdrawMethodsReceived,i=(0,r.restore)(s.c.outputs.availableBalanceReceived,null,{sid:"-4aq9h5"}),c=(0,r.restore)(s.c.outputs.co2ProviderReceived,"default",{sid:"ixk3rd"});(0,r.sample)({and:[{clock:o,target:s.c.inputs.requested}],or:{sid:"-kwsgwn"}});const u={launch:o,$availableBalance:i,$co2Provider:c,launched:n},d=e=>{const a=e.map((e=>e.totalCommission)),t=e.map((e=>e.commission.fixed)),s=e.map((e=>e.commission.minFixed)),o=e.map((e=>e.commission.percent)),n=e.map((e=>e.minAmount)),i=e.map((e=>e.maxAmount)),c=e.map((e=>e.currency)),d=e.map((e=>e.estimateDays)),l=(0,r.restore)(a,null,{sid:"-9gue3a"}),p=(0,r.restore)(t,null,{sid:"wp3pme"}),m=(0,r.restore)(s,null,{sid:"-uds2k1"}),y=(0,r.restore)(o,0,{sid:"-h9fui"}),f=(0,r.restore)(n,null,{sid:"gsduaj"}),v=(0,r.restore)(i,null,{sid:"-afnhkr"}),h=(0,r.restore)(c,null,{sid:"-bdw9rv"});return{$totalCommission:l,$fixedCommission:p,$minFixedCommission:m,$percentCommission:y,$minAmount:f,$maxAmount:v,$currency:h,$estimateDays:(0,r.restore)(d,null,{sid:"cd1uey"}),$isAvailable:(0,r.combine)({and:[l,f,u.$availableBalance,(e,a,t)=>!!(e&&a&&t)&&!(t.value<a.value)&&t.value>e.value],or:{sid:"czshfj"}}),$notEnoughAmount:(0,r.combine)({and:[l,f,h,u.$availableBalance,(e,a,t,r)=>e&&a&&t&&r?r.value<a.value?{currency:t,value:a.value-r.value}:r.value>=e.value?null:{currency:t,value:e.value-r.value}:null],or:{sid:"-b6tuny"}})}},{bankCardSchemeReceived:l}=s.c.outputs,{$currency:p,$estimateDays:m,$fixedCommission:y,$isAvailable:f,$maxAmount:v,$minAmount:h,$minFixedCommission:b,$notEnoughAmount:k,$percentCommission:_,$totalCommission:g}=d(l),$={$totalCommission:g,$fixedCommission:y,$minFixedCommission:b,$percentCommission:_,$minAmount:h,$maxAmount:v,$currency:p,$estimateDays:m,$isAvailable:f,$notEnoughAmount:k},{bankAccountSchemeReceived:S}=s.c.outputs,{$currency:w,$estimateDays:C,$fixedCommission:A,$isAvailable:P,$maxAmount:x,$minAmount:q,$minFixedCommission:E,$notEnoughAmount:R,$percentCommission:O,$totalCommission:F}=d(S),M={$totalCommission:F,$fixedCommission:A,$minFixedCommission:E,$percentCommission:O,$minAmount:q,$maxAmount:x,$currency:w,$estimateDays:C,$isAvailable:P,$notEnoughAmount:R},{tinkoffSchemeReceived:D}=s.c.outputs,{$currency:W,$estimateDays:B,$fixedCommission:I,$isAvailable:z,$maxAmount:T,$minAmount:j,$minFixedCommission:U,$notEnoughAmount:L,$percentCommission:N,$totalCommission:G}=d(D),V={$totalCommission:G,$fixedCommission:I,$minFixedCommission:U,$percentCommission:N,$minAmount:j,$maxAmount:T,$currency:W,$estimateDays:B,$isAvailable:z,$notEnoughAmount:L},{paypalSchemeReceived:Q}=s.c.outputs,{$currency:X,$estimateDays:H,$fixedCommission:K,$isAvailable:Y,$maxAmount:J,$minAmount:Z,$notEnoughAmount:ee,$percentCommission:ae,$totalCommission:te}=d(Q),re=Q.map((e=>e.legalUrl)),se={$totalCommission:te,$fixedCommission:K,$percentCommission:ae,$minAmount:Z,$maxAmount:J,$currency:X,$estimateDays:H,$legalUrl:(0,r.restore)(re,"/",{sid:"-bgt22i"}),$isAvailable:Y,$notEnoughAmount:ee},oe=(0,r.restore)(s.c.outputs.savedWithdrawMethodsReceived,[],{sid:"-vviqkt"}),ne=(0,r.combine)({and:[$.$isAvailable,M.$isAvailable,V.$isAvailable,oe,(e,a,t,r)=>{const s={bank_card:e,bank:a,tinkoff:t,paypal:!1},o=r.filter((({type:e})=>s[e]||!1));return o.length?o[0]:null}],or:{sid:"dfs5hv"}}),ie=oe.map((e=>e.length>0)),ce={$firstAvailableSavedWithdrawMethod:ne,$savedWithdrawMethods:oe,$isSavedWithdrawMethodsExists:ie};var ue=t(62423);const de=(0,r.combine)({and:[$.$isAvailable,M.$isAvailable,V.$isAvailable,(e,a,t)=>e?ue.S1.BankCard:a?ue.S1.BankAccount:t?ue.S1.Tinkoff:null],or:{sid:"f8tp2k"}}),le={inputs:{launch:u.launch},outputs:{launched:u.launched,$availableBalance:u.$availableBalance,$co2Provider:u.$co2Provider,$firstAvailableSavedWithdrawMethod:ce.$firstAvailableSavedWithdrawMethod,$firstAvailableNewWithdrawMethod:de,$bankCardTotalCommission:$.$totalCommission,$bankCardFixedCommission:$.$fixedCommission,$bankCardMinFixedCommission:$.$minFixedCommission,$bankCardPercentCommission:$.$percentCommission,$bankCardMinAmount:$.$minAmount,$bankCardMaxAmount:$.$maxAmount,$bankCardCurrency:$.$currency,$bankCardEstimateDays:$.$estimateDays,$isBankCardAvailable:$.$isAvailable,$bankCardNotEnoughAmount:$.$notEnoughAmount,$bankAccountTotalCommission:M.$totalCommission,$bankAccountFixedCommission:M.$fixedCommission,$bankAccountMinFixedCommission:M.$minFixedCommission,$bankAccountPercentCommission:M.$percentCommission,$bankAccountMinAmount:M.$minAmount,$bankAccountMaxAmount:M.$maxAmount,$bankAccountCurrency:M.$currency,$bankAccountEstimateDays:M.$estimateDays,$isBankAccountAvailable:M.$isAvailable,$bankAccountNotEnoughAmount:M.$notEnoughAmount,$tinkoffTotalCommission:V.$totalCommission,$tinkoffFixedCommission:V.$fixedCommission,$tinkoffMinFixedCommission:V.$minFixedCommission,$tinkoffPercentCommission:V.$percentCommission,$tinkoffMinAmount:V.$minAmount,$tinkoffMaxAmount:V.$maxAmount,$tinkoffCurrency:V.$currency,$tinkoffEstimateDays:V.$estimateDays,$isTinkoffAvailable:V.$isAvailable,$tinkoffNotEnoughAmount:V.$notEnoughAmount,$paypalTotalCommission:se.$totalCommission,$paypalFixedCommission:se.$fixedCommission,$paypalPercentCommission:se.$percentCommission,$paypalMinAmount:se.$minAmount,$paypalMaxAmount:se.$maxAmount,$paypalCurrency:se.$currency,$paypalEstimateDays:se.$estimateDays,$paypalLegalUrl:se.$legalUrl,$isPaypalAvailable:se.$isAvailable,$paypalNotEnoughAmount:se.$notEnoughAmount,$savedWithdrawMethods:ce.$savedWithdrawMethods,$isSavedWithdrawMethodsExist:ce.$isSavedWithdrawMethodsExists}}}}]);
//# sourceMappingURL=https://private-static.prod.k8s.int.avs.io/selene-source-maps/shared-b869b46b07d12cb17e1cae9905711c3210809975.b272dd0f6986f8dab5ef.min.js.map