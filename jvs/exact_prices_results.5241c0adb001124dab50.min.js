"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[72288],{31482:function(e,t,n){n.d(t,{u:function(){return g},m:function(){return b}});var r=n(67294),s=n(94184),i=n.n(s),a=n(4190),o=n(49963),c=n(44619),l=n(1156),u=n(39535),d=n(38387),m=n(33864),h=n(97405),f={container:"s__C7USyWle8fC170afVtrQ",icon:"s__prngFx82x0qU33OmayFc",title:"s__VtCrt42A8X_cJsOTuKjM",message:"s__svye5St7soZIecGFnkP7",button:"s__w8xM8UoV4GmCmFx_iZMF"},p=n(85893);const y=i().bind(f);function g({icon:e,title:t,text:n,onButtonClick:s,buttonText:i,dataTestId:g,layoutClassName:x,containerClassName:b,titleClassName:v,descriptionClassName:_}){const w=(0,a.useUnit)(d.l.outputs.$isMobile),j=(0,r.cloneElement)(e,{className:y(e.props.className,f.icon)}),C=(0,r.useCallback)((e=>{s&&(e.preventDefault(),e.stopPropagation(),s())}),[s]);return(0,p.jsx)(m.A,{"data-test-id":g,className:x,children:(0,p.jsx)(h.fw,{in:!0,name:"fade",appear:!0,children:(0,p.jsxs)(m.A.Block,{className:y(f.container,b),children:[j,t&&(0,p.jsx)(o.x,{tag:"h2",transformOnMobile:!0,type:c.y.Title2Bold,className:y(f.title,v),mobileType:c.y.Title4Bold,children:t}),Array.isArray(n)?n.map(((e,t)=>(0,p.jsx)(o.x,{tag:"p",transformOnMobile:!0,type:c.y.Body1Paragraph,className:f.message,mobileType:c.y.Body2Paragraph,children:e},t))):(0,p.jsx)(o.x,{tag:"p",transformOnMobile:!0,type:c.y.Body1Paragraph,className:y(f.message,_),mobileType:c.y.Body2Paragraph,children:n}),i&&(0,p.jsx)(l.z,{type:u.Ji.Primary,size:w?u.qE.S:u.qE.M,className:f.button,onClick:C,children:i})]})})})}const x=i().bind(f);function b({icon:e,title:t,text:n,onButtonClick:s,buttonText:i,dataTestId:m,containerClassName:h,titleClassName:y,descriptionClassName:g}){const b=(0,a.useUnit)(d.l.outputs.$isMobile),v=(0,r.cloneElement)(e,{className:x(e.props.className,f.icon)});return(0,p.jsxs)("div",{"data-test-id":m,className:x(f.container,h),children:[v,t&&(0,p.jsx)(o.x,{tag:"h2",transformOnMobile:!0,type:c.y.Title2Bold,className:x(f.title,y),mobileType:c.y.Title4Bold,children:t}),Array.isArray(n)?n.map(((e,t)=>(0,p.jsx)(o.x,{tag:"p",transformOnMobile:!0,type:c.y.Body1Paragraph,className:f.message,mobileType:c.y.Body2Paragraph,children:e},t))):(0,p.jsx)(o.x,{tag:"p",transformOnMobile:!0,type:c.y.Body1Paragraph,className:x(f.message,g),mobileType:c.y.Body2Paragraph,children:n}),(0,p.jsx)(l.z,{type:u.Ji.Primary,size:b?u.qE.S:u.qE.M,className:f.button,onClick:s,children:i})]})}},96354:function(e,t,n){n.d(t,{$:function(){return k},t:function(){return q}});var r=n(98116),s=n(67294),i=n(65752),a=n(72942),o=n(61750),c=n(85893),l=n(47166),u=n(52326),d=n(49963),m=n(44619),h=n(34611),f=n(1945),p=n(11343),y={root:"s__qe0_dP8cRP55U0Dbq86S",carrier:"s__p6IOgjUxD374IvTxn4OQ",carriers_count:"s__U0PHbUM6C2a2AehcAxVj"};const g=l.bind(y),x=({carrier:e,getAirlineName:t,imageScale:n=2})=>{const{airlineId:r,transportType:s}=e,i=t(r),a=(0,p.D)(s);return(0,c.jsx)(h.p,{className:g("carrier"),marketingCarrierIata:r,marketingCarrierName:i,fallbackIconType:a,size:f.R.Small,imageScale:n})},b=l.bind(y),v=(0,s.memo)((({layout:e=u.q.Normal,carriers:t,getAirlineName:n})=>{const r=t.length;if(!(e===u.q.Small&&r>0))return null;const s=2===r,i=r>2,a=e===u.q.Small?4:5,o=b("root",`root_layout_${e}`);return(0,c.jsxs)("div",{className:o,children:[(0,c.jsx)(x,{carrier:t[0],getAirlineName:n,imageScale:a}),s&&(0,c.jsx)(x,{carrier:t[1],getAirlineName:n,imageScale:a}),i&&(0,c.jsx)("div",{className:b("carriers_count"),children:(0,c.jsxs)(d.x,{type:m.y.Body3Bold,children:["+",r-1]})})]})}));v.displayName="TicketPreviewCarriers";var _=n(42911),w=n(51007),j=n(49548),C=n(38387);const{$isMobile:N}=C.l.outputs;function S({price:e,places:t,isMobile:n,layout:r,badgeSlot:i,testId:l,onClick:d,onOpenTicket:m,isHoverable:h=!0,backgroundType:f=a.A.Normal,isCalendarVisible:p=!1,isHeaderVisible:y=!1,shouldShowCarriersOnTop:g=!1,shouldShowTransfersInRow:x=!1,isCashbackAvailable:b=!1}){const C=r||n?u.q.Small:u.q.Normal,N=(0,s.useCallback)((e=>t.airlines?.[e]?.name?.su||e),[t.airlines]),S=(0,s.useCallback)((e=>t.cities?.[e]?.name?.su||t.airports?.[e]?.cityName?.su||e),[t.airports,t.cities]),k=(0,s.useCallback)((e=>t.airports?.[e]?.name?.su||e),[t.airports]),T=(0,s.useCallback)((e=>{d&&d(),m&&(e.preventDefault(),m())}),[d,m]),D=(0,c.jsx)(o.y,{layout:C,price:e.value,previousPrice:e.oldPrice,currency:e.currency,cashback:e.cashback,isCashbackAvailable:b}),M=g&&"small"===C,F=g?(0,c.jsx)(v,{layout:C,getAirlineName:N,carriers:e.carriers.flat()}):null,P=(0,c.jsx)(_.s,{layout:C,children:e.segments.map(((t,n)=>(0,c.jsx)(w.G,{layout:C,segment:t,carriers:M?[]:e.carriers[n],getAirlineName:N,getCityName:S,getPlaceName:k,isCalendarVisible:p,isHeaderVisible:y,showTransfersInRow:x},n)))});return(0,c.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:e.ticketLink,onClick:T,"data-test-id":l,children:(0,c.jsx)(j.$,{layout:C,badgeSlot:i,priceSlot:D,carriersSlot:F,segmentsSlot:P,isHoverable:h,backgroundType:f})})}const k=(0,r.withFactory)({sid:"sk92e1",fn:()=>(0,i.SC)({view:S,bind:{isMobile:N}})});var T=n(72207),D=n(88293),M=n(89421),F=n(47420);const{$theme:P}=M.H.outputs,{$isMobile:Z}=C.l.outputs,{$isOneWay:B}=F.i.outputs,A=(0,r.combine)({and:[B,e=>e?1:2],or:{sid:"-4p60uo"}}),E=(0,r.combine)({and:[P,e=>e===D.B.Dark?D.B.Dark:D.B.Light],or:{sid:"-2xuht"}}),$=(0,r.combine)({and:[Z,e=>e?u.q.Small:u.q.Normal],or:{sid:"-uox2oc"}}),q=(0,r.withFactory)({sid:"-7gjzni",fn:()=>(0,i.SC)({view:T.I,bind:{segmentsCount:A,variant:E,layout:$}})})},73558:function(e,t,n){n.d(t,{X:function(){return r},U:function(){return s}});const r=Symbol("DirectionScreenBlockPlugin"),s=Symbol("DirectionScreenQueryBlockPlugin")},27633:function(e,t,n){n.d(t,{p:function(){return r}});const r=Symbol("ExactPricesResultsBlockPlugin")},30313:function(e,t,n){n.d(t,{s:function(){return r}});const r=Symbol("FlexiblePricesResultsBlockPlugin")},34918:function(e,t,n){n.d(t,{Y:function(){return r}});const r=Symbol("WeekendsPricesResultsBlockPlugin")},74714:function(e,t,n){n.d(t,{v:function(){return $},n:function(){return E}});var r=n(98116),s=n(65752),i=n(73558),a=n(27633),o=n(30313),c=n(34918),l=n(55057),u=n(31482),d=n(72675),m=n(38032),h=n(24926),f=n(82097),p=n(47420),y=n(43175),g=n(53788),x=n(79403),b=n(78194),v=n(82203);const{$searchCanBeStarted:_,$autosearchEnabled:w}=y.J.outputs,{tryToStartSearch:j}=y.J.inputs,{$isEconomy:C}=p.i.outputs,{$market:N}=g.D.outputs,{$isWayAwayBrand:S}=x.U.outputs,{translated:k}=b.J.outputs,{forceStartDateChoice:T,changeCurrentDateCase:D}=p.i.inputs,M=(0,r.withFactory)({sid:"tdjae2",fn:()=>(0,d.x)((0,r.withFactory)({sid:"-7g80oh",fn:()=>(0,m.f)(C)}),(0,r.withFactory)({sid:"-7fo834",fn:()=>(0,h.w)({filter:w,then:(0,r.withFactory)({sid:"-o3wf2",fn:()=>(0,m.f)(_)}),other:!0})}))}),F=(0,r.withFactory)({sid:"lx9yiz",fn:()=>(0,h.w)({filter:(0,r.withFactory)({sid:"89sdre",fn:()=>(0,d.x)(S,(0,r.withFactory)({sid:"-2q4irp",fn:()=>(0,f.f)(N,"us")}))}),then:(0,r.withFactory)({sid:"50oxq7",fn:()=>(0,h.w)({filter:_,then:k("widget_business_stub:submitFormOnlyBusiness"),other:k("widget_business_stub:fixFormOnlyBusiness")})}),other:(0,r.withFactory)({sid:"svc82e",fn:()=>(0,h.w)({filter:_,then:k("widget_business_stub:submitForm"),other:k("widget_business_stub:fixForm")})})})}),P=(0,r.withFactory)({sid:"dm0ftj",fn:()=>(0,h.w)({filter:_,then:k("widget_business_stub:submitFormButtonText"),other:k("widget_business_stub:fixFormButtonText")})}),Z=(0,r.createEvent)({sid:"-g93hqw"});(0,r.sample)({and:[{clock:Z,filter:_,target:j}],or:{sid:"-xttdaw"}}),(0,r.sample)({and:[{clock:Z,filter:(0,r.withFactory)({sid:"-j76fxu",fn:()=>(0,m.f)(_)}),fn:()=>v.M4.Exact,target:[T,D]}],or:{sid:"-xeyxa5"}});var B=n(85893);const A=(0,r.withFactory)({sid:"rhntok",fn:()=>(0,s.SC)({view:u.u,bind:{icon:(0,B.jsx)(l.q,{}),text:F,onButtonClick:Z,buttonText:P,layoutClassName:"s__QfmPHILliGwK3EdqI6Sd"}})}),E={name:"businessStubPlugin",Component:(0,r.withFactory)({sid:"-rwp9am",fn:()=>(0,s.bU)({if:M,then:A})}),type:a.p||o.s||c.Y},$={name:"businessStubPlugin",$visible:M,Component:A,type:i.X}},8022:function(e,t,n){n.d(t,{N:function(){return v}});var r=n(98116),s=n(65752),i=n(27633),a=n(30313),o=n(94184),c=n.n(o),l=n(85893);const u=({children:e,className:t,nowrap:n=!0,center:r=!0})=>(0,l.jsx)("ul",{className:c()("s__dRwLSMZYeV7VehYpsaif",n&&"s__Hw5SUAJPTRgpa9ZFS7M7",r&&"s__i5OY_agD7VbHONouft5x",t),children:e});u.Item=({children:e,className:t})=>(0,l.jsx)("li",{className:c()("s___ZQ4lUqSdK4800bYu8QF",t),children:e}),u.Divider=()=>(0,l.jsx)("li",{className:"s__UvgMQ8F5ZJBiz6VjwcUM","aria-hidden":!0});var d=n(85513);const{DirectFilter:m,WithoutVisaTransfersFilter:h,WithBaggageFilter:f}=d.j.containers;function p(){return(0,l.jsxs)(u,{className:"s__YFeJCJvUJ5RaMZYeIqp6",children:[(0,l.jsx)(u.Item,{children:(0,l.jsx)(m,{})}),(0,l.jsx)(u.Item,{children:(0,l.jsx)(h,{})}),(0,l.jsx)(u.Item,{children:(0,l.jsx)(f,{})})]})}var y=n(72675);const{$isFiltersServiceEnabled:g,$isFiltersServiceValidContext:x}=d.j.outputs,b=(0,r.withFactory)({sid:"-4fx0t1",fn:()=>(0,y.x)(g,x)}),v={name:"filtersBlockPlugin",Component:(0,r.withFactory)({sid:"7hnqsr",fn:()=>(0,s.bU)({if:b,then:p})}),type:i.p||a.s}},66215:function(e,t,n){n.r(t),n.d(t,{ExactPricesResultsContainer:function(){return nt}});var r=n(98116),s=n(65752),i=n(24943),a=n(33864),o=n(94408),c=n(94537),l=n(67294),u=n(28225),d=n(17550),m=n(31482),h=n(78194),f=n(43175);const{tryToStartSearch:p}=f.J.inputs,y=(0,r.createEvent)({sid:"-i3715u"});(0,r.sample)({and:[{clock:y,target:p}],or:{sid:"d05jz"}});var g=n(85893);const{translated:x}=h.J.outputs,b=(0,r.withFactory)({sid:"4bj7qy",fn:()=>(0,s.SC)({view:m.u,bind:{icon:(0,g.jsx)(d.g,{}),text:x("widget_prices:emptyState.startSearch.title"),buttonText:x("widget_prices:emptyState.startSearch.buttonText"),dataTestId:"stub-no-prices",onButtonClick:y,layoutClassName:"s__nTYbd_dktp4QfjnysWyI"}})});var v=n(94184),_=n.n(v),w=n(66028),j=n(86523),C=n(49963),N=n(44619),S=n(67948),k=n(4958),T=["years","months","weeks","days","hours","minutes","seconds"];function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var n=(null==t?void 0:t.format)||T,r=(null==t?void 0:t.locale)||k.Z,s=(null==t?void 0:t.zero)||!1,i=(null==t?void 0:t.delimiter)||" ",a=n.reduce((function(t,n){var i="x".concat(n.replace(/(^.)/,(function(e){return e.toUpperCase()})));return"number"==typeof e[n]&&(s||e[n])&&r.formatDistance?t.concat(r.formatDistance(i,e[n])):t}),[]).join(i);return a}var M=n(95877);const F=(e,t)=>{const n=((e,t)=>{const n=e/60;if(n<60){const e=D({minutes:Math.round(n)},t);return e.replace(/(\d\s)(.{3}).*/g,"$1$2")}if(n<90)return D({hours:1},t);if(n<=105)return D({hours:2},t).replace("2",1.5.toLocaleString(t.locale.code));const r=n/60;if(r>=8)return D({hours:Math.round(r)},t);const s=e%3600/60;if(s>45)return D({hours:Math.ceil(r)},t);if(s<=15)return D({hours:Math.floor(r)},t);const i=Math.floor(r);return D({hours:i},t).replace(`${i}`,(i+.5).toLocaleString(t.locale.code))})(e,t);return n.replace(/\s/g,M.Xz)};var P=n(62034);const Z=({segments:e,className:t})=>{const{t:n}=(0,u.useTranslation)("component_transfer"),{dateFnsLocale:r}=(0,P.P)(),{caption:s,inconvenient:i,duration:a,countryCode:o}=(e=>{const t=e.map((e=>e.transfers)).flat().sort(((e,t)=>t.duration-e.duration));if(!t.length)return{caption:"noTransfer"};const n=t.find((e=>e.visaRules.required&&"GB"===e.countryCode));if(n)return{caption:"visaRequiredTransfer",duration:60*n.duration,countryCode:"UK",inconvenient:!0};const r=t.find((e=>e.arrivalAirport!==e.departureAirport));if(r)return{caption:"airportChangeTransfer",duration:60*r.duration,inconvenient:!0};const s=t.find((e=>e.nightTransfer));if(s)return{caption:"nightTransfer",duration:60*s.duration,inconvenient:!0};const i=t[t.length-1];if(60*i.duration<=3600)return{caption:"transfer",duration:60*i.duration,inconvenient:!0};const a=t[0];return{caption:"transfer",duration:60*a.duration,inconvenient:60*a.duration>=14400}})(e);return(0,g.jsx)(C.x,{className:_()("s__BhQ2Q39VMf8JFknaGdbJ",i&&"s__hYJHuDQ9S3c98bwPdPks",t),type:N.y.Body2Regular,tag:"p",children:n(s,{countryCode:o,duration:a&&F(a,{locale:r})})})};var B=n(87115),A=n(34701);const E={cheapest:B.JV.Green,cheapestDirect:B.JV.Purple,cheapestConvenient:B.JV.Blue},$=({type:e,className:t})=>{const{t:n}=(0,u.useTranslation)("widget_prices");return(0,g.jsx)(A.C,{className:t,color:E[e],size:B.OD.S,children:n(`badge.${e}`)})},q=(0,l.memo)($);var O=n(49474),R=n(90389),I=n(59910),U=n(13882),L=n(93645);function V(e,t,n){(0,U.Z)(2,arguments);var r=(0,I.Z)(e,t)/1e3;return(0,L.u)(null==n?void 0:n.roundingMethod)(r)}var J=n(19013),Y=n(52149);function H(e){return(0,Y.Z)({},e)}var z=n(24262),Q=1440,X=43200;function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,U.Z)(2,arguments);var r=n.locale||k.Z;if(!r.formatDistance)throw new RangeError("locale must contain formatDistance property");var s=(0,O.Z)(e,t);if(isNaN(s))throw new RangeError("Invalid time value");var i,a,o=H(n);o.addSuffix=Boolean(n.addSuffix),o.comparison=s,s>0?(i=(0,J.Z)(t),a=(0,J.Z)(e)):(i=(0,J.Z)(e),a=(0,J.Z)(t));var c,l=V(a,i),u=((0,z.Z)(a)-(0,z.Z)(i))/1e3,d=Math.round((l-u)/60);if(d<2)return n.includeSeconds?l<5?r.formatDistance("lessThanXSeconds",5,o):l<10?r.formatDistance("lessThanXSeconds",10,o):l<20?r.formatDistance("lessThanXSeconds",20,o):l<40?r.formatDistance("halfAMinute",null,o):l<60?r.formatDistance("lessThanXMinutes",1,o):r.formatDistance("xMinutes",1,o):0===d?r.formatDistance("lessThanXMinutes",1,o):r.formatDistance("xMinutes",d,o);if(d<45)return r.formatDistance("xMinutes",d,o);if(d<90)return r.formatDistance("aboutXHours",1,o);if(d<Q){var m=Math.round(d/60);return r.formatDistance("aboutXHours",m,o)}if(d<2520)return r.formatDistance("xDays",1,o);if(d<X){var h=Math.round(d/Q);return r.formatDistance("xDays",h,o)}if(d<86400)return c=Math.round(d/X),r.formatDistance("aboutXMonths",c,o);if((c=(0,R.Z)(a,i))<12){var f=Math.round(d/X);return r.formatDistance("xMonths",f,o)}var p=c%12,y=Math.floor(c/12);return p<3?r.formatDistance("aboutXYears",y,o):p<9?r.formatDistance("overXYears",y,o):r.formatDistance("almostXYears",y+1,o)}var W=6e4,K=1440,ee=43200,te=525600;function ne(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,U.Z)(2,arguments);var r=n.locale||k.Z;if(!r.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var s=(0,O.Z)(e,t);if(isNaN(s))throw new RangeError("Invalid time value");var i,a,o=H(n);o.addSuffix=Boolean(n.addSuffix),o.comparison=s,s>0?(i=(0,J.Z)(t),a=(0,J.Z)(e)):(i=(0,J.Z)(e),a=(0,J.Z)(t));var c,l=null==n.roundingMethod?"round":String(n.roundingMethod);if("floor"===l)c=Math.floor;else if("ceil"===l)c=Math.ceil;else{if("round"!==l)throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");c=Math.round}var u,d=a.getTime()-i.getTime(),m=d/W,h=(0,z.Z)(a)-(0,z.Z)(i),f=(d-h)/W;if("second"===(u=null==n.unit?m<1?"second":m<60?"minute":m<K?"hour":f<ee?"day":f<te?"month":"year":String(n.unit))){var p=c(d/1e3);return r.formatDistance("xSeconds",p,o)}if("minute"===u){var y=c(m);return r.formatDistance("xMinutes",y,o)}if("hour"===u){var g=c(m/60);return r.formatDistance("xHours",g,o)}if("day"===u){var x=c(f/K);return r.formatDistance("xDays",x,o)}if("month"===u){var b=c(f/ee);return 12===b&&"month"!==n.unit?r.formatDistance("xYears",1,o):r.formatDistance("xMonths",b,o)}if("year"===u){var v=c(f/te);return r.formatDistance("xYears",v,o)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}var re=n(60792),se=n(2437);const ie=e=>(0,re.Z)(new Date,e)?"":e.getFullYear();var ae={root:"s__HrWbQZOW8LVM56Qm0G1e",priceWrapper:"s__AAQxGiY_oG77LFV6ZlVM",price:"s__e9rvQs0qRL8ZjnHNmKEY",additional:"s__M0DlOW7qKkefkNzVbWXA",dates:"s__wuuNOYubTNXgCCSnBw_c",hidden:"s__nlGqfYDFbl9LFldsQKmS",button:"s__NUboe4OrWgeAmEvZQpSQ",icon:"s__dA9WOg2PnP22Wvv09EdC","focus-visible":"s__MKoym5YPG7OpV4fL4Rrm",badge:"s__XwCzTilVdNRdgTViKStA",col3:"s__mfeCJQxN7dnM1xDivX9e",col2:"s__yBRct6X7g_1Znd3O4kYy"};const oe=({value:e,currency:t,foundAt:n,withDates:r,departDate:s,returnDate:i,segments:a,buttonIcon:o,onClick:c,badge:l})=>{const{t:d}=(0,u.useTranslation)("widget_prices"),{date:m,weekday:h,interval:f,duration:p,timeAgo:y}=((e,t,n)=>{const{dateFnsLocale:r}=(0,P.P)(),s=(0,j.d)("interval_date"),i=(0,j.d)("ts_day_month"),a=(0,j.d)("ts_day_short"),o=function(e,t){return(0,U.Z)(1,arguments),ne(e,Date.now(),t)}(new Date(n),{locale:r});return t?{interval:s(new se.Xp({start:e,end:t})),duration:G(t,e,{locale:r}),year:ie(t),timeAgo:o}:{date:i(e),weekday:a(e),year:ie(e),timeAgo:o}})(s,i,n),x=(0,j.d)("price_short");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("article",{className:_()(ae.root,r?ae.col3:ae.col2),children:[(0,g.jsxs)("div",{className:ae.priceWrapper,children:[(0,g.jsx)(C.x,{transformOnMobile:!0,className:ae.price,tag:"h3",type:N.y.Title3Bold,children:x({value:e,currency:t.toUpperCase()})}),(0,g.jsx)(C.x,{transformOnMobile:!0,className:ae.additional,tag:"span",type:N.y.Body2Regular,children:d("foundAt",{at:y})})]}),(0,g.jsxs)(C.x,{className:_()(ae.dates,!r&&ae.hidden),type:N.y.Body2Regular,children:[m||f,(0,g.jsxs)("span",{className:ae.additional,children:[", ",h||p]})]}),(0,g.jsx)(Z,{className:ae.transfer,segments:a})]}),(0,g.jsxs)("button",{className:_()(ae.button),onClick:c,children:[(0,g.jsx)("span",{className:S.Z.visuallyHidden,children:d("select")}),(0,g.jsx)("span",{className:ae.icon,children:o})]}),l&&(0,g.jsx)(q,{className:ae.badge,type:l})]})};const ce=({price:e,onClick:t,withDates:n})=>(0,g.jsx)(a.A.Block,{className:_()("s__O_vSJV1MB8apWdGAuX8o"),"data-test-id":"best-prices-ticket",children:(0,g.jsx)(oe,{...e,badge:e.badge,withDates:n,buttonIcon:(0,g.jsx)(w.Z,{}),onClick:t})}),{bestPrices:le}=c.G.outputs,ue=(0,r.withFactory)({sid:"-ibt3hh",fn:()=>(0,s.SC)({view:ce,bind:{withDates:le.$withDates}})});var de=n(1156),me=n(39535);const{tryToStartSearch:he}=f.J.inputs,fe=(0,r.createEvent)({sid:"-hrtmlp"});(0,r.sample)({and:[{clock:fe,target:he}],or:{sid:"-elrn2x"}});const pe=({onButtonClick:e,className:t})=>{const{t:n}=(0,u.useTranslation)("widget_prices");return(0,g.jsx)(de.z,{className:_()("s__pbOh2g4yQcgBCYNTY_x5",t),size:me.qE.M,priority:me.Ji.Primary,testId:"show-all-tickets-button",onClick:e,children:n("allTickets")})},ye=(0,r.withFactory)({sid:"-x1buef",fn:()=>(0,s.SC)({view:pe,bind:{onButtonClick:fe}})});var ge=n(96354),xe=n(6540),be=n(6328),ve=n(99491),_e=n(38387);const{$isMobile:we}=_e.l.outputs,je=(0,r.combine)({and:[we,e=>e?ve.Ey.M:ve.Ey.L],or:{sid:"xvt03g"}}),Ce=(0,r.withFactory)({sid:"bapbfb",fn:()=>(0,s.SC)({view:be.$,bind:{size:je}})}),{$ticketPreviewEnabledInBestPrices:Ne}=xe.r.outputs,Se=(0,r.withFactory)({sid:"p5go1q",fn:()=>(0,s.bU)({if:Ne,then:()=>(0,g.jsx)(ge.t,{skeletonsCount:1}),else:()=>(0,g.jsx)(Ce,{})})});const{SubscriptionButton:ke,SubscriptionsLayout:Te}=o.Q.containers,De=({isEmpty:e,isFailed:t,isLoading:n,cheapestDirectPrice:r,cheapestConvenientPrice:s,cheapestPrice:i,onTicketClick:o,withSubscriptionButton:c=!1,showAllTicketsButton:d=!0})=>{const{t:m}=(0,u.useTranslation)("widget_prices"),h=(0,l.useCallback)(((e,t,n)=>()=>o({departDate:e,returnDate:t,price:n})),[o]);return e||t?(0,g.jsx)(b,{}):(0,g.jsxs)("div",{"data-test-id":"best-prices-widget",className:c?"":"s__iZRT8dsGtaNhWKcr8Vhy",children:[(0,g.jsx)(a.A.Header,{children:(0,g.jsx)(a.A.Title,{children:m("bestPrices")})}),n?(0,g.jsx)(Se,{}):(0,g.jsxs)("div",{className:"s__zkChXjj0BTQFK1fq1zoz",children:[i&&(0,g.jsx)(ue,{price:i,onClick:h(i.departDate,i.returnDate,i.value)}),r&&(0,g.jsx)(ue,{price:r,onClick:h(r.departDate,r.returnDate,r.value)}),s&&(0,g.jsx)(ue,{price:s,onClick:h(s.departDate,s.returnDate,s.value)}),d&&(0,g.jsx)(ye,{})]})]})},Me=e=>(0,g.jsxs)(Te,{children:[(0,g.jsx)(Te.LeftSide,{children:(0,g.jsx)(ke,{})}),(0,g.jsx)(Te.Content,{children:(0,g.jsx)(De,{...e})}),(0,g.jsx)(Te.Bottom,{children:(0,g.jsx)(ye,{})})]});var Fe=n(72675),Pe=n(38032),Ze=n(47420),Be=n(41832),Ae=n(82203),Ee=n(41520);const{$origin:$e,$destination:qe,$isEconomy:Oe}=Ze.i.outputs,{$currency:Re}=Be.y.outputs,{$autosearchEnabled:Ie}=f.J.outputs,{bestPrices:Ue}=c.G.outputs,{exactPricesResultsScreen:Le}=i.q.outputs,{$exploreFlowEnabled:Ve}=Ee.l.outputs,{startSimpleSearchByParams:Je}=f.J.inputs,Ye=(0,r.withFactory)({sid:"-q8q8bs",fn:()=>(0,Fe.x)(Ve,(0,r.withFactory)({sid:"-q9lfou",fn:()=>(0,Pe.f)(Ie)}),Oe)});(0,r.sample)({and:[{clock:Le.opened,target:Ue.query.refresh}],or:{sid:"-71kr2z"}}),(0,r.sample)({and:[{clock:Le.closed,target:Ue.query.reset}],or:{sid:"-6yts46"}});const He=(0,r.createEvent)({sid:"-gbcjvp"});(0,r.sample)({and:[{clock:He,source:{origin:$e,destination:qe,currency:Re},fn:({origin:e,destination:t,currency:n},{departDate:r,returnDate:s,price:i})=>({origin:e,destination:t,departDate:r,returnDate:s,requestSource:Ae.MJ.BestPrices,expectedPrice:{value:i,currency:n,source:Ae.fN.BestPrices}}),target:Je}],or:{sid:"-6h8d4m"}});const{$shouldShowSubscriptionButton:ze}=o.Q.outputs,{bestPrices:Qe}=c.G.outputs,Xe=(0,r.withFactory)({sid:"182rro",fn:()=>(0,s.bU)({if:Ye,then:(0,r.withFactory)({sid:"rh4lms",fn:()=>(0,s.bU)({if:ze,then:(0,r.withFactory)({sid:"bp1i5",fn:()=>(0,s.SC)({view:Me,bind:{isEmpty:Qe.$isEmpty,isFailed:Qe.$isFailed,isLoading:Qe.$isLoading,cheapestDirectPrice:Qe.$cheapestDirectPrice,cheapestConvenientPrice:Qe.$cheapestConvenientPrice,cheapestPrice:Qe.$cheapestPrice,onTicketClick:He,withSubscriptionButton:!0,showAllTicketsButton:!1}})}),else:(0,r.withFactory)({sid:"-mak8qn",fn:()=>(0,s.SC)({view:De,bind:{isEmpty:Qe.$isEmpty,isFailed:Qe.$isFailed,isLoading:Qe.$isLoading,cheapestDirectPrice:Qe.$cheapestDirectPrice,cheapestConvenientPrice:Qe.$cheapestConvenientPrice,cheapestPrice:Qe.$cheapestPrice,onTicketClick:He}})})})})})});function Ge({blocks:e}){return(0,g.jsxs)(a.A,{noPadding:!0,children:[e?.map((({Component:e,name:t})=>(0,g.jsx)(e,{},t))),(0,g.jsx)(Xe,{})]})}var We=n(8022),Ke=n(74714);const et=[We.N,Ke.n],{exactPricesResultsScreen:tt}=i.q.outputs,nt=(0,r.withFactory)({sid:"-7n8c3n",fn:()=>(0,s.bU)({if:tt.$active,then:(0,r.withFactory)({sid:"3yshr3",fn:()=>(0,s.SC)({view:Ge,bind:{blocks:et}})})})})},49474:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(19013),s=n(13882);function i(e,t){(0,s.Z)(2,arguments);var n=(0,r.Z)(e),i=(0,r.Z)(t),a=n.getTime()-i.getTime();return a<0?-1:a>0?1:a}},90389:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(19013),s=n(13882);function i(e,t){(0,s.Z)(2,arguments);var n=(0,r.Z)(e),i=(0,r.Z)(t),a=n.getFullYear()-i.getFullYear(),o=n.getMonth()-i.getMonth();return 12*a+o}var a=n(49474);function o(e){(0,s.Z)(1,arguments);var t=(0,r.Z)(e);return t.setHours(23,59,59,999),t}var c=n(4135);function l(e){(0,s.Z)(1,arguments);var t=(0,r.Z)(e);return o(t).getTime()===(0,c.Z)(t).getTime()}function u(e,t){(0,s.Z)(2,arguments);var n,o=(0,r.Z)(e),c=(0,r.Z)(t),u=(0,a.Z)(o,c),d=Math.abs(i(o,c));if(d<1)n=0;else{1===o.getMonth()&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-u*d);var m=(0,a.Z)(o,c)===-u;l((0,r.Z)(e))&&1===d&&1===(0,a.Z)(e,c)&&(m=!1),n=u*(d-Number(m))}return 0===n?0:n}},4135:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(19013),s=n(13882);function i(e){(0,s.Z)(1,arguments);var t=(0,r.Z)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}},17550:function(e,t,n){n.d(t,{g:function(){return a}});var r=n(85893),s=n(67294);const i=({className:e,...t},n)=>(0,r.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:n,style:{display:"inline-block"},...t,children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.965 11.026a5 5 0 1 1 1.06-1.06l3.005 3.004-1.06 1.06-3.005-3.004ZM10.5 7a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z"})}),a=(0,s.memo)((0,s.forwardRef)(i));a.displayName="Icon16ControlsSearch"},14711:function(e,t,n){n.d(t,{p:function(){return m}});var r=n(85893),s=n(67294),i=n(94184),a=n(49963),o=n(44619),c=n(80191),l={tableCell:"s__M8njCacQJr_0KjtoyqEm",title:"s__kXMpHHdQh1NAdSEJiEUG",subtitle:"s__faKUT1c57DUMAmin3_As",content:"s__VHwLO_1h1D8c4cv_JGWL",cell:"s__grHlAhVTfBCndz4ItejZ",divider:"s__pvf0en6SeuMDnP2Uqzmz",preventHoverState:"s__RZJWzinGGTO4JIML0D5p",disabled:"s__uzrNgEpV8STrAVOwTRBy",leftSide:"s__KYlUOiUmifA_PPy3ojKe",rightSideAddition:"s__deCdu79vljV5JF3Sdfhe",rightSide:"s__SOYvTQoRs13_JlgZbl34",label:"s__eDxmSopi3L7qKM3pMOuB",mainText:"s__LI48T8KqYO4pUNnzOE9w",subText:"s__JGVZ5ZvZMdieHitZnRZZ"};n(19959);const u=e=>{switch(e){case"title":return o.y.Title3Bold;case"subtitle":return o.y.Body1Bold;default:return o.y.Body1Regular}},d=({cellType:e="cell",mainText:t,subText:n,mainTextTruncateMode:d,subTextTruncateMode:m,renderAs:h="div",hideRightSideAddition:f=!1,preventHoverState:p=!1,className:y,leftSideClassName:g,labelClassName:x,rightSideAdditionClassName:b,rightSideClassName:v,leftSideContent:_,labelContent:w,rightSideAdditionContent:j,rightSideContent:C,testId:N,...S},k)=>{const T="subtitle"!==e,D=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.i,{className:l.divider}),(0,r.jsxs)("div",{className:l.content,children:[T&&(0,r.jsx)("div",{className:i(l.leftSide,g),children:_}),(0,r.jsx)("div",{className:i(l.label,x),children:w??(0,r.jsxs)(r.Fragment,{children:[t&&(0,r.jsx)(a.x,{type:u(e),transformOnMobile:!0,className:l.mainText,truncateMode:d,children:t}),n&&(0,r.jsx)(a.x,{type:o.y.Body3Regular,className:l.subText,truncateMode:m,children:n})]})}),!f&&T&&(0,r.jsx)("div",{className:i(l.rightSideAddition,b),children:j}),T&&(0,r.jsx)("div",{className:i(l.rightSide,v),children:C})]})]});return s.createElement(h,{"data-test-id":N,className:i(l.tableCell,l[e],{[l.preventHoverState]:p,[l.disabled]:S.disabled},y),ref:k,...S},D)},m=(0,s.memo)((0,s.forwardRef)(d))},72207:function(e,t,n){n.d(t,{I:function(){return p}});var r=n(85893),s=n(67294),i=n(47166),a=n(77620),o=n(24561);const c={light:{background:"#eff1f4",foreground:"#ffffff"},dark:{background:"#3d3f43",foreground:"#2e3035"}},l=(0,s.memo)((({segmentsCount:e})=>{const t=(0,s.useMemo)((()=>a(0,e)),[e]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("rect",{x:"0",y:"0",width:"80",height:"32"}),t.map((e=>(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)("rect",{x:"0",y:56+50*e,width:"24",height:"16"}),(0,r.jsx)("rect",{x:"36",y:56+50*e,width:"88",height:"16"}),(0,r.jsx)("rect",{x:"148",y:56+50*e,width:"80",height:"16"}),(0,r.jsx)("rect",{x:"36",y:74+50*e,width:"72",height:"16"}),(0,r.jsx)("rect",{x:"148",y:74+50*e,width:"100",height:"16"})]},e)))]})}));l.displayName="TicketPreviewSkeletonContentSmall";const u=(0,s.memo)((({segmentsCount:e})=>{const t=(0,s.useMemo)((()=>a(0,e)),[e]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("rect",{x:"0",y:"0",width:"240",height:"36"}),t.map((e=>(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)("rect",{x:"0",y:66+62*e,width:"120",height:"18"}),(0,r.jsx)("rect",{x:"164",y:66+62*e,width:"240",height:"18"}),(0,r.jsx)("rect",{x:"460",y:66+62*e,width:"104",height:"18"}),(0,r.jsx)("rect",{x:"164",y:86+62*e,width:"120",height:"18"}),(0,r.jsx)("rect",{x:"460",y:86+62*e,width:"188",height:"18"})]},e)))]})}));u.displayName="TicketPreviewSkeletonContentNormal";var d={root:"s__Ukt6MBjCDoTLSxFRmq6Z",root_layout_small:"s__OcAMs1ZVpDpm8NINwrMX",root_layout_normal:"s__ZoVbCiNEX8KIXWIIH317",root_variant_light:"s__LF_dYQogIDP9A1kT711k",root_variant_dark:"s__Mbik1Ma18NAWmuf_1Suu",list_item:"s__Zsia6Ej_Ojo6utu_a7eT"};const m=i.bind(d),h=(0,s.memo)((({variant:e="light",layout:t="normal",segmentsCount:n=1,className:s})=>{if(0===n)return null;const i=m(s,"root",`root_layout_${t}`,`root_variant_${e}`),a=c[e],d="small"===t?256:648,h="small"===t?40+50*n:42+62*n,f="small"===t?l:u;return(0,r.jsx)("div",{className:i,children:(0,r.jsx)(o.ZP,{speed:2,width:d,height:h,viewBox:`0 0 ${d} ${h}`,backgroundColor:a.background,foregroundColor:a.foreground,children:(0,r.jsx)(f,{segmentsCount:n})})})}));h.displayName="TicketPreviewSkeleton";const f=i.bind(d),p=(0,s.memo)((({variant:e="light",layout:t="normal",segmentsCount:n=1,skeletonsCount:i=0,className:o,skeletonClassName:c})=>{const l=f(c,"list_item"),u=(0,s.useMemo)((()=>a(0,i)),[i]);return 0===i?null:(0,r.jsx)("div",{className:o,children:u.map((s=>(0,r.jsx)(h,{className:l,segmentsCount:n,layout:t,variant:e},s)))})}));p.displayName="TicketPreviewSkeletonList"}}]);
//# sourceMappingURL=https://private-static.prod.k8s.int.avs.io/selene-source-maps/exact_prices_results.5241c0adb001124dab50.min.js.map