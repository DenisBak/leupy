"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[53127],{96060:function(e,t,r){r.d(t,{U:function(){return H}});var i=r(30091),a=r(98116),s=r(21247),n=r(20611),c=r(80094),o=r(78194),l=r(74663),d=r(34390),p=r(83636),u=r(85893);const m=()=>(0,u.jsx)(d.B,{width:24,height:24}),g=()=>(0,u.jsx)(p.K,{width:24,height:24}),k="TICKET_DIFF_SNACKBAR";var h=r(43639);const f=(0,a.createDomain)("ticket_deeplink",{sid:"t4tqyk"}),{$isReady:y}=n.D.outputs,{createQueryParameterApi:x}=n.D.inputs,C=x({name:"t",clientOnly:!0}),S=f.createEvent({sid:"e2obiq"}),j=f.createEvent({sid:"-3mmnl9"}),v=f.createEvent({sid:"-gca80h"}),b=f.createEvent({sid:"iai8pj"}),_=f.createStore(null,{sid:"-5on7mp"}),N=f.createStore(null,{sid:"-xvztsu"}).reset(v),P=f.createStore(null,{sid:"m6m1tm"}).reset(j),D=f.createStore(!1,{sid:"6irdow"}).on(S,(()=>!0)).reset(j),E=(0,a.sample)({and:[{clock:y,filter:Boolean}],or:{sid:"-jwyyd0"}});(0,a.sample)({and:[{clock:E,source:{tParam:C.$value},fn:({tParam:e})=>{const t=e||"",[r,i,a]=t.split("_");return{ticketSign:i??null,deeplinkExpectedUnifiedPrice:Number(a)}},target:(0,a.withFactory)({sid:"-7ul78j",fn:()=>(0,s.h)({ticketSign:_,deeplinkExpectedUnifiedPrice:N})})}],or:{sid:"r9xfq0"}}),(0,a.sample)({and:[{clock:b,source:{translate:o.J.outputs.$t,localize:h.J.outputs.$localize},filter:(e,t)=>Number.isFinite(t.value)&&0!==t.value,fn:({translate:e,localize:t},r)=>{const i=t("price_regular",{value:Math.abs(r.value),currency:r.currency.toUpperCase()});return r.value<0?{id:k,message:e("service_ticket_deeplink:priceDiffSnackbar.sameFare.cheaperTicketMessage",{priceDiff:i}),autoCloseDelay:8e3,icon:m}:{id:k,message:e("service_ticket_deeplink:priceDiffSnackbar.sameFare.moreExpensiveTicketMessage",{priceDiff:i}),autoCloseDelay:8e3,icon:g}},target:c.B.inputs.showNotification}],or:{sid:"scf19a"}});const $={soldOutDialogClosed:j,soldOutDialogOpened:S,priceDiffSnackbarShowed:b,resetDeeplinkExpectedUnifiedPrice:v,$soldOutDialogExpectedPrice:P},F={$ticketSign:_,$soldOutDialogExpectedPrice:P,$isSoldOutDialogVisible:D,$deeplinkExpectedUnifiedPrice:N};var U=r(47166),w=r.n(U),T=r(4190),B=r(28225),I=r(38694),R=r(33622),A=r(49963),z=r(44619),O=r(1156);const L=w().bind({root:"s__mSrrxlMb39zx1CauWei_","text-wrapper":"s__NXlB0NLQBrBFGgXuTOdH",description:"s__u9oBNH9To09cDTVJt2hB","submit-button":"s__jSKnQLBE73B5lddyFqWN"}),X={SoldOutDialogContainer:()=>{const{t:e}=(0,B.useTranslation)("service_ticket_deeplink"),{isVisible:t,ticketPrice:r,handleClose:i}=(0,T.useUnit)({isVisible:F.$isSoldOutDialogVisible,ticketPrice:F.$soldOutDialogExpectedPrice,handleClose:$.soldOutDialogClosed});return r?(0,u.jsx)(R.V,{visible:t,noAutoFocus:!0,children:(0,u.jsxs)("div",{className:L("root"),children:[(0,u.jsxs)("div",{className:L("text-wrapper"),children:[(0,u.jsx)(A.x,{type:z.y.Body1Bold,children:e("soldOutDialog.title")}),(0,u.jsx)(A.x,{type:z.y.Body2Regular,className:L("description"),children:(0,u.jsx)(B.Trans,{t:e,i18nKey:"soldOutDialog.description",components:{price:(0,u.jsx)(I.t,{value:r.value,currency:r.currency})}})})]}),(0,u.jsx)(O.z,{onClick:i,className:L("submit-button"),children:e("soldOutDialog.button")})]})}):null}};var K=r(23588),M=r(4449),q=r(41832);(0,a.sample)({and:[{clock:F.$ticketSign,filter:Boolean,target:K.z.inputs.ticketDeeplinkOpenedFx}],or:{sid:"2sip29"}}),(0,a.sample)({and:[{clock:K.z.outputs.soldOutDialogOpened,source:{currency:q.y.outputs.$currency,currencyRates:q.y.outputs.$currencyRates,deeplinkExpectedUnifiedPrice:F.$deeplinkExpectedUnifiedPrice},fn:({currency:e,currencyRates:t,deeplinkExpectedUnifiedPrice:r})=>(0,l.z)(r??0,"rub",e,t),target:$.$soldOutDialogExpectedPrice}],or:{sid:"37d530"}}),(0,a.sample)({and:[{clock:K.z.outputs.soldOutDialogOpened,target:$.soldOutDialogOpened}],or:{sid:"3oyk2k"}}),(0,a.sample)({and:[{clock:K.z.outputs.calculateTicketDeeplinkPriceDiff,source:{currency:q.y.outputs.$currency,currencyRates:q.y.outputs.$currencyRates,deeplinkExpectedUnifiedPrice:F.$deeplinkExpectedUnifiedPrice},fn:({currency:e,currencyRates:t,deeplinkExpectedUnifiedPrice:r},{price:i})=>{const a=(0,l.z)(r??0,"rub",e,t).value??0,s=Math.round(i.value-a);return{value:Math.abs(i.value-a)/((i.value+a)/2)<=.005||0===a?0:s,currency:e}},target:$.priceDiffSnackbarShowed}],or:{sid:"3rpj1d"}}),(0,a.sample)({and:[{clock:[K.z.outputs.ticketPopupClosed,K.z.outputs.resetSearchResultsPage],fn:()=>k,target:c.B.inputs.hideNotification}],or:{sid:"49ay0x"}}),(0,a.sample)({and:[{clock:M.X.inputs.ticketChangeHandlerSourceUpdated,target:$.resetDeeplinkExpectedUnifiedPrice}],or:{sid:"4psrtr"}});const H=(0,i.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/serp/services/ticket_deeplink/index.ts",api:{containers:X,inputs:$,outputs:F}})},66849:function(e,t,r){r.d(t,{y:function(){return l}});var i=r(67294),a=r(55057),s=r(47166),n=r.n(s),c=r(85893);const o=n().bind({"icon-wrapper":"s__UNWqCpjqUkWbVBefrgjM",icon:"s__Y1XwGGtwpTFs05q7rA_b"}),l=(0,i.forwardRef)((({src:e,alt:t,className:r,imageClassName:s},n)=>{const{hasLoaded:l,hasError:d}=(e=>{const[t,r]=(0,i.useState)(!1),[a,s]=(0,i.useState)(!1),[n,c]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{c(!0),r(!1),s(!1);const t=new Image;t.src=e;const i=()=>{s(!0)},a=()=>{r(!0),s(!1)};return t.onerror=i,t.onload=a,()=>{t.removeEventListener("error",i),t.removeEventListener("load",a)}}),[e]),{hasLoaded:t,hasError:a,hasStartedInitialFetch:n}})(e);return(0,c.jsxs)("div",{ref:n,className:r,children:[(d||!l)&&(0,c.jsx)("div",{className:o("icon-wrapper"),children:(0,c.jsx)(a.q,{className:o("icon")})}),l&&(0,c.jsx)("img",{alt:t,src:e,className:s})]})}));l.displayName="LogoImage"},69195:function(e,t,r){r.d(t,{r:function(){return Ae}}),r(21703);var i=r(98116),a=r(21247),s=r(20611),n=r(53788),c=r(41832),o=r(31401),l=r(23588),d=r(4449),p=r(38352),u=r(90722),m=r(52112),g=r(37213),k=r(28258),h=r(61653),f=r(28398),y=r(80094),x=r(96060),C=r(31736),S=r.n(C),j=(r(26699),r(27636)),v=r(38387),b=r(4517),_=r(83049),N=r.n(_),P=r(36519);const D=(0,i.createDomain)("ticket",{sid:"-hit75z"}),E=D.createEvent({sid:"-gqddew"}),$=D.createEvent({sid:"7vcgsu"}),F=D.createEvent({sid:"xopwxr"}),U=D.createEvent({sid:"kibefq"}),w=D.createEvent({sid:"u53clx"}),T=D.createEvent({sid:"-hwre6s"}),B=D.createStore(null,{sid:"-qlq7oj"}).on(E,((e,t)=>t)).reset($),I=D.createStore(null,{sid:"n80n4d"}).on(U,((e,t)=>t)).reset($),R=D.createStore(null,{sid:"-2hkysu"}).on(l.z.outputs.deviceSearchIdUpdated,((e,t)=>t)),A=D.createStore(!1,{sid:"44do3u"}).on(F,((e,t)=>t)).reset($),z=D.createStore(null,{sid:"7z67lo"}).on(w,((e,t)=>t)).reset($),O=B.map(Boolean),L=(0,i.combine)({and:[v.l.outputs.$isMobile,e=>e?"topHeader":"bottom"],or:{sid:"w1f8c1"}}),[X,K]=(0,i.withFactory)({sid:"-4fyiap",fn:()=>(0,j.K)((0,i.combine)({and:[B,m.o.outputs.$ticketCollection,(e,t)=>{if(!e)return null;return t[e]||null}],or:{sid:"2oeeyo"}}))}),[M,q]=(0,i.withFactory)({sid:"j5eo9p",fn:()=>(0,j.K)((0,i.combine)({and:[B,m.o.outputs.$ticketProposalCollection,m.o.outputs.$proposalCollection,(e,t,r)=>{if(!e)return null;const i=t[e];return i?S()(((e,t)=>i.includes(t)),r):null}],or:{sid:"-mda8tm"}}))}),H=(0,i.combine)({and:[{faresFlag:b.r.outputs.$faresFlag,faresV2Flag:b.r.outputs.$faresV2Flag},({faresFlag:e,faresV2Flag:t})=>e.enabled||t.enabled],or:{sid:"fga1fs"}}),V=(0,i.combine)({and:[{proposalsCollection:M,hasBaggage:A,fareKey:d.X.outputs.$currentFareKey,isFaresFlagEnabled:H,ticket:X},({proposalsCollection:e,hasBaggage:t,fareKey:r,isFaresFlagEnabled:i,ticket:a})=>(({proposalsCollection:e,hasBaggage:t,fareKey:r,isFaresFlagEnabled:i,ticket:a})=>{if(!e||!a)return null;const s=r?(a.extraFares?.[r]||[]).map((({proposalId:e})=>e)):[],n=Object.values(e),c=n.filter((e=>!t||Boolean(e.worstBags[P.F.Baggage]?.count))),o=i?n.filter((({id:e})=>s.includes(e))):[],l=[...i?o:c].sort(((e,t)=>e.price===t.price?t.weight-e.weight:e.price-t.price)),d=N()((e=>e.agentId),l),p=d.findIndex((e=>e.fromMainAirline));if(p>1){const e=d.splice(p,1)[0];d.splice(1,0,e)}return d})({proposalsCollection:e,hasBaggage:t,fareKey:r,isFaresFlagEnabled:i,ticket:a})],or:{sid:"anbeaz"}}),G={ticketSignUpdated:E,ticketDataReset:$,ticketIndexUpdated:U,ticketHasBaggageUpdated:F,sourceChanged:w,refetchTicketSearch:T},Z={$ticket:X,$ticketProposals:M,$filteredTicketProposals:V,$ticketSign:B,$ticketShow:O,$hasBaggage:A,$deviceSearchId:R,$ticketIndex:I,$ticketSnackbarPosition:L,$openTicketSource:z,refetchTicketSearch:T},J={$ticketProposalsOverride:q,$ticketOverride:K};(0,i.sample)({and:[{clock:[l.z.outputs.ticketPopupClosed,l.z.outputs.resetSearchResultsPage],target:[G.ticketDataReset,d.X.inputs.ticketSearchDataReset,d.X.inputs.currentFareKeyReset,d.X.inputs.abortBletApi]}],or:{sid:"-24mo3k"}}),(0,i.sample)({and:[{clock:l.z.outputs.ticketPopupClosed,target:x.U.inputs.resetDeeplinkExpectedUnifiedPrice}],or:{sid:"-1lxnxa"}}),(0,i.withFactory)({sid:"-17n0hw",fn:()=>(0,a.h)({source:l.z.outputs.ticketPopupOpen,targets:{hasBaggage:d.X.inputs.ticketSearchHasBaggageUpdated,fareKey:d.X.inputs.currentFareKeyUpdated,signature:d.X.inputs.ticketSearchSignatureUpdated}})}),(0,i.withFactory)({sid:"-r56p2",fn:()=>(0,a.h)({source:l.z.outputs.ticketPopupOpen,targets:{hasBaggage:G.ticketHasBaggageUpdated,signature:G.ticketSignUpdated,ticketIndex:G.ticketIndexUpdated}})}),(0,i.sample)({and:[{clock:l.z.outputs.ticketPopupOpen,fn:({source:e})=>e||null,target:G.sourceChanged}],or:{sid:"-ancw8"}}),(0,i.sample)({and:[{clock:l.z.outputs.ticketPopupOpen,target:d.X.inputs.fetchBletApi}],or:{sid:"-7clc2"}}),(0,i.sample)({and:[{clock:[l.z.outputs.ticketFareSelected,l.z.outputs.ticketHasBaggageUpdated],fn:()=>"change_fare",target:G.sourceChanged}],or:{sid:"6y23c"}}),(0,i.sample)({and:[{clock:l.z.outputs.ticketFareSelected,filter:({hasBaggage:e})=>void 0!==e,fn:({hasBaggage:e})=>Boolean(e),target:d.X.inputs.ticketSearchHasBaggageUpdated}],or:{sid:"nfvw6"}}),(0,i.sample)({and:[{clock:l.z.outputs.ticketFareSelected,source:d.X.outputs.$currentFareKey,filter:(e,{fareKey:t})=>e!==t,fn:(e,{fareKey:t})=>t,target:[d.X.inputs.currentFareKeyUpdated,d.X.inputs.fetchBletApi]}],or:{sid:"rag1p"}}),(0,i.sample)({and:[{clock:l.z.outputs.ticketHasBaggageUpdated,source:Z.$hasBaggage,filter:(e,t)=>e!==t,fn:(e,t)=>t,target:[d.X.inputs.ticketSearchHasBaggageUpdated,G.ticketHasBaggageUpdated,d.X.inputs.fetchBletApi]}],or:{sid:"-ceo8bt"}}),(0,i.sample)({and:[{clock:l.z.outputs.ticketPopupOpen,source:n.D.outputs.$market,fn:e=>({title:[o.qb.TicketOpen,e].join("_")}),target:u.x.inputs.sendUxFeedback}],or:{sid:"-bubudg"}}),(0,i.sample)({and:[{clock:l.z.outputs.ticketPopupOpen,source:{direction:p.s.outputs.$direction,market:n.D.outputs.$market},fn:({direction:e,market:t})=>{const r=e.origin?.countryIata,i=e.destination?.countryIata,a=e.origin?.cityIata,s=e.destination?.cityIata;return{title:[o.qb.TicketOpen,t,r,i,a,s].join("_")}},target:u.x.inputs.sendUxFeedback}],or:{sid:"-bbmu76"}}),(0,i.sample)({and:[{clock:l.z.outputs.ticketSharingModalOpened,source:{ticketCollection:m.o.outputs.$ticketCollection,proposalCollection:m.o.outputs.$proposalCollection,currencyRates:c.y.outputs.$currencyRates,currency:c.y.outputs.$currency,marker:g.b.outputs.$marker,searchSession:k.E.outputs.$searchSession,searchParams:p.s.outputs.$searchParams},fn:({ticketCollection:e,proposalCollection:t,currencyRates:r,currency:i,marker:a,searchSession:s,searchParams:n},{ticketSign:c,proposalId:o})=>{const l=e[c],d=t[o],p=(0,h.YU)(n),u=(0,h.qp)({agentLabel:d.agentLabel,ticket:l,proposal:d,unifiedPrice:d?.unifiedPrice,currencyRates:r,currentCurrency:i,marker:a||"",searchId:s?.searchId,baseSearchUrl:p});return{source:f.L.TicketInfo,ticketUrl:u,ticketSign:c}},target:f.d.inputs.ticketSharingPopupOpened}],or:{sid:"-9x1rly"}}),y.B.inputs.notificationsViewContext({overrides:{position:Z.$ticketSnackbarPosition},setupOn:l.z.outputs.ticketPopupOpen,dropOn:[l.z.outputs.ticketPopupClosed,l.z.outputs.resetSearchResultsPage]}),(0,i.sample)({and:[{clock:l.z.outputs.expiredTicketReload,filter:({skipReload:e})=>!e,fn:({ticketUrl:e})=>{const t=new URL(e);return{pathname:t.pathname,search:t.searchParams,type:"reload"}},target:s.D.inputs.navigateTo}],or:{sid:"37taom"}}),(0,i.sample)({and:[{clock:l.z.outputs.ticketFareSelectedByUser,fn:()=>"fare",target:d.X.inputs.ticketChangeHandlerSourceUpdated}],or:{sid:"3t99tp"}});var W=r(27183),Q=r.n(W),Y=r(89421);const ee=({commonDeeplinkParams:e,isNightTheme:t,currency:r,ticket:i,ticketProposals:a,searchSession:s,passengers:n,direction:c,departDateTimestamp:o,returnDateTimestamp:l},d)=>{const{lang:p,brand:u,market:m,searchId:g,resultsHostUrl:k,currencyRates:f,marker:y,baseSearchUrl:x}=e;return d.map(((e,d)=>{const C=a?.[e.id],S=e.agent.isAssisted&&i&&y?(0,h.qp)({agentLabel:e.agent.title,ticket:i,proposal:C,unifiedPrice:C?.unifiedPrice,currencyRates:f,currentCurrency:r,marker:y,searchId:s?.searchId,baseSearchUrl:x}):"",j=(0,h.A)({lang:p,brand:u,market:m,searchId:g,resultsHostUrl:k,proposalId:e.id,agentId:e.agent.id,agentLabel:e.agent.title,isAssisted:e.agent.isAssisted,isCharter:C?.tags.includes("charter"),currency:C?.currency,assistedFallback:S,marker:y,passengers:n,priceValue:e.price.value,destination:{departureCity:c.departureCity,arrivalCity:c.arrivalCity},departDateTimestamp:o,returnDateTimestamp:l}),v=t?e.agent.iconInfo.darkURL:e.agent.iconInfo.lightURL,b=e.informers?.map((e=>({iconUrl:t?e.endIcon?.darkURL:e.endIcon?.lightURL,color:t?e.textColor.dark:e.textColor.light,backgroundColor:t?e.backgroundColor.dark:e.backgroundColor.light,text:e.text,isStickyDrawerVisible:e.isStickyDrawerVisible})));return{id:e.id,agentId:e.agent.id,agentLabel:e.agent.title,agentImageUrl:v,isAirline:e.agent.isAirline,isAssisted:e.agent.isAssisted,typeTitle:e.typeTitle||"",currency:e.price.currencyCode.toLowerCase(),price:e.price.value,cashback:e.cashback?.value,position:d,isPrimaryButton:Boolean(e.isPrimaryButton),deeplink:j,acceptedCards:e.acceptedCards,informers:b}}))};var te=r(19848),re=r(74169);(0,i.sample)({and:[{clock:d.X.outputs.chunksLoaded,source:{commonDeeplinkParams:re.j.outputs.$commonDeeplinkParams,isNightTheme:Y.H.outputs.$isNight,currency:c.y.outputs.$currency,ticket:Z.$ticket,ticketProposals:Z.$ticketProposals,searchSession:k.E.outputs.$searchSession,passengers:p.s.outputs.$passengers,direction:p.s.outputs.$direction,firstSegmentDirection:p.s.outputs.$firstSegmentDirection},fn:(e,t)=>{const r=Q()([],["data","search","ticket","drawerProposals"],t);return ee({commonDeeplinkParams:e.commonDeeplinkParams,isNightTheme:e.isNightTheme,currency:e.currency,ticket:e.ticket,ticketProposals:e.ticketProposals,searchSession:e.searchSession,passengers:e.passengers,direction:{departureCity:e.firstSegmentDirection.origin?.name??"",arrivalCity:e.firstSegmentDirection.destination?.name??""},returnDateTimestamp:e.direction.returnDate??0,departDateTimestamp:e.direction.departDate??0},r)},target:re.j.inputs.drawerProposalsUpdated}],or:{sid:"-iwy7in"}}),(0,i.sample)({and:[{clock:d.X.outputs.chunksLoaded,source:{commonDeeplinkParams:re.j.outputs.$commonDeeplinkParams,isNightTheme:Y.H.outputs.$isNight,currency:c.y.outputs.$currency,ticket:Z.$ticket,ticketProposals:Z.$ticketProposals,searchSession:k.E.outputs.$searchSession,passengers:p.s.outputs.$passengers,direction:p.s.outputs.$direction,firstSegmentDirection:p.s.outputs.$firstSegmentDirection},fn:(e,t)=>{const r=Q()([],["data","search","ticket","proposals"],t);return ee({commonDeeplinkParams:e.commonDeeplinkParams,isNightTheme:e.isNightTheme,currency:e.currency,ticket:e.ticket,ticketProposals:e.ticketProposals,searchSession:e.searchSession,passengers:e.passengers,direction:{departureCity:e.firstSegmentDirection.origin?.name??"",arrivalCity:e.firstSegmentDirection.destination?.name??""},returnDateTimestamp:e.direction.returnDate??0,departDateTimestamp:e.direction.departDate??0},r)},target:re.j.inputs.bletProposalsUpdated}],or:{sid:"-gzo4r5"}}),(0,i.sample)({and:[{clock:d.X.outputs.chunksLoaded,fn:e=>Q()(null,["data","search","ticket","drawerProposalsButtonText"],e),target:re.j.inputs.drawerProposalsButtonTextUpdated}],or:{sid:"-yytsr6"}}),(0,i.sample)({and:[{clock:d.X.outputs.chunksLoaded,fn:e=>Q()(null,["data","search","ticket","drawerWidgetHeader"],e),target:re.j.inputs.drawerWidgetHeaderUpdated}],or:{sid:"-yjzcqf"}}),(0,i.sample)({and:[{clock:d.X.outputs.chunksLoaded,fn:e=>Q()(0,["data","search","ticket","stickyDrawerProposalsShowAmount"],e),target:re.j.inputs.stickyDrawerProposalsShowAmountChanged}],or:{sid:"-y54wpo"}}),(0,i.sample)({and:[{clock:Z.refetchTicketSearch,source:{marker:g.b.outputs.$marker,currency:c.y.outputs.$currency,currencyRates:c.y.outputs.$currencyRates,searchSession:k.E.outputs.$searchSession,searchParams:p.s.outputs.$searchParams},fn:({marker:e,currency:t,currencyRates:r,searchSession:i,searchParams:a},s)=>{const n=(0,h.YU)(a),c=(0,h.qp)({ticket:s,marker:e||"",currencyRates:r,currentCurrency:t,searchId:i?.searchId,baseSearchUrl:n}),o=new URL(c);return{pathname:o.pathname,search:o.searchParams,type:"reload"}},target:s.D.inputs.navigateTo}],or:{sid:"-y1u55i"}}),(0,i.sample)({and:[{clock:te.o.outputs.refetchSearch,source:Z.$ticket,filter:e=>null!==e,target:G.refetchTicketSearch}],or:{sid:"-w8emjj"}});var ie=r(30091),ae=r(4190),se=r(89677),ne=r(67294),ce=r(5393),oe=r(46531),le=r(9071),de=r(85893),pe=r(28225),ue=r(34611),me=r(1945),ge=r(94184),ke=r(49963),he=r(44619),fe=r(66991),ye="s__aTNnft4fu4EX_lG9oPir";const xe=(0,ne.memo)((e=>{const{iconType:t,title:r,children:i,className:a,customIcon:s}=e,n="custom"===t;return(0,de.jsxs)("div",{className:ge("s__IZRuoeebP12z9n2Zrdk7","s__w2o6RZ14wES8rSNPXKMP",a),children:[t&&!n&&(0,de.jsx)("div",{className:ye,children:(0,de.jsx)(fe.J,{type:t})}),n&&(0,de.jsx)("div",{className:ye,children:s}),(0,de.jsx)(ke.x,{type:he.y.Title3Bold,className:"s__a0Ki2jqjj9qScV5UnlTp",children:r}),(0,de.jsx)("div",{children:i})]})}));xe.displayName="ContentView";var Ce="s__ld5zQyO6swZYsmqyXbsT",Se="s__ViJ_N91Glo2AI6fpxZV1";const je=(0,ne.memo)((({children:e})=>(0,de.jsx)(ke.x,{type:he.y.Body1Paragraph,className:ge("s__A4f_qCdHmd9vEpOQymbA","s__L4KqFRGJQJ_vagv5Wg2f"),children:e})));je.displayName="ContentText";const ve=(0,ne.memo)((({marketingCarrierName:e,operatingCarrierIata:t,operatingCarrierName:r})=>{const{t:i}=(0,pe.useTranslation)("uiKit"),a=(0,de.jsx)(ue.p,{marketingCarrierIata:t,marketingCarrierName:r,size:me.R.Large});return(0,de.jsx)(xe,{title:i("ticket.differentCarriers.title",{operatingCarrierName:r}),iconType:"custom",customIcon:a,children:(0,de.jsxs)(je,{children:[(0,de.jsx)("p",{className:Ce,children:i("ticket.differentCarriers.p1",{marketingCarrierName:e,operatingCarrierName:r})}),(0,de.jsxs)("ul",{className:"s__B7X0xC99v5UwCX6TrKkl",children:[(0,de.jsx)("li",{className:Se,children:i("ticket.differentCarriers.l1",{operatingCarrierName:r})}),(0,de.jsx)("li",{className:Se,children:i("ticket.differentCarriers.l2",{operatingCarrierName:r})})]}),(0,de.jsx)("p",{className:Ce,children:i("ticket.differentCarriers.p2",{marketingCarrierName:e})})]})})}));ve.displayName="ContentCarriers";var be=r(47166),_e=r.n(be),Ne=r(66849);const Pe=_e().bind({wrapper:"s__IeGlBLxaxq8WbXHJacyJ",title:"s__tVhM18RoNTa3QXzy424e",icon:"s__FhFSPiN9hehnC2Et3Prh",root:"s__R2Z5qV68yZEA9PT4wkeh",paragraph:"s__vOfJfH7dPiqi1R7c1fhO",list:"s__mA9JYjlucNywoDglxHtK",item:"s__MMxbC0HF1c0WliXi0KRC","inner-icon":"s__s8yafivh0v9nmgcER4gS",image:"s__cMMulTcF6CRDnYECuSFp"}),De=(0,ne.memo)((({marketingAirlineName:e,operatingAirlineName:t,icon:r,isNight:i})=>{const{t:a}=(0,pe.useTranslation)("component_ticket_different_carriers_content"),s=i?r.darkURL:r.lightURL;return(0,de.jsxs)("div",{className:Pe("wrapper"),children:[(0,de.jsx)("div",{className:Pe("icon"),children:(0,de.jsx)(Ne.y,{src:s,className:Pe("inner-icon"),imageClassName:Pe("image"),alt:""})}),(0,de.jsx)(ke.x,{type:he.y.Title3Bold,className:Pe("title"),children:a("title",{operatingAirlineName:t})}),(0,de.jsx)("div",{children:(0,de.jsxs)(ke.x,{type:he.y.Body1Paragraph,className:Pe("root"),children:[(0,de.jsx)("p",{className:Pe("paragraph"),children:a("p1",{marketingAirlineName:e,operatingAirlineName:t})}),(0,de.jsxs)("ul",{className:Pe("list"),children:[(0,de.jsx)("li",{className:Pe("item"),children:a("l1",{operatingAirlineName:t})}),(0,de.jsx)("li",{className:Pe("item"),children:a("l2",{operatingAirlineName:t})})]}),(0,de.jsx)("p",{className:Pe("paragraph"),children:a("p2",{marketingAirlineName:e})})]})})]})}));De.displayName="BletDifferentCarriersContent";var Ee=r(65454);const $e=()=>{const{contentData:e,isBletFlightInfoFlagEnabled:t,flightAirlineInformer:r,isNight:i}=(0,ae.useUnit)({contentData:Ee._1.$contentData,isBletFlightInfoFlagEnabled:Ee._1.$isBletFlightInfoFlagEnabled,flightAirlineInformer:Ee._1.$airlineInformer,isNight:Y.H.outputs.$isNight});if(t&&r)return(0,de.jsx)(De,{marketingAirlineName:r?.marketingAirlineName,operatingAirlineName:r?.operatingAirlineName,icon:r?.icon,isNight:i});if(null===e)return null;const{operatingCarrierIata:a,marketingCarrierIata:s,operatingCarrierName:n,marketingCarrierName:c}=e;return(0,de.jsx)(ve,{operatingCarrierIata:a,marketingCarrierIata:s,operatingCarrierName:n,marketingCarrierName:c})},Fe=(0,ie.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/serp_ticket/services/different_carriers/index.ts",api:{containers:{DifferentCarriersPopupContainer:()=>{const{isVisible:e}=(0,ae.useUnit)({isVisible:Ee._1.$isVisible}),t=(0,ae.useUnit)(Ee.FU.popupClosed);return(0,de.jsxs)(oe.G,{visible:e,onClose:t,children:[(0,de.jsx)(oe.G.Navigation,{children:(0,de.jsx)(le.w.RightAccessory,{children:(0,de.jsx)(ce.P,{onClick:t})})}),(0,de.jsx)($e,{})]})}}}});var Ue=r(19603);const{FaresModalContainer:we,FareInformerModalContainer:Te}=se.K.containers,{DifferentCarriersPopupContainer:Be}=Fe.containers,{TicketDrawerOldContainer:Ie}=re.j.containers,{BletInformerContainer:Re}=Ue.a.containers,Ae=(0,ie.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/serp_ticket/services/ticket/index.ts",api:{inputs:G,outputs:Z,containers:{TicketContainer:()=>{const{ticketShow:e,bletError:t}=(0,ae.useUnit)({ticketShow:Z.$ticketShow,bletError:te.o.outputs.$bletError});return e&&null===t?(0,de.jsxs)(de.Fragment,{children:[(0,de.jsx)(Ie,{type:"mobile"}),(0,de.jsx)(Be,{}),(0,de.jsx)(we,{}),(0,de.jsx)(Te,{}),(0,de.jsx)(Re,{})]}):null}},internals:J},attachTestApi:()=>{throw new Error("Test API is not available in production")}})},19848:function(e,t,r){r.d(t,{o:function(){return N}});var i=r(30091),a=r(98116),s=r(4449),n=r(27497),c=(r(26699),r(55902));const o=[c.PB.NoTicketFound,c.PB.NoBrandTicketFound],l=(0,a.createEvent)({sid:"-cbdghh"}),d=(0,a.createEvent)({sid:"epal4d"}),p=(0,a.createEvent)({sid:"6ub1ge"}),u=(0,a.createEvent)({sid:"4xfnse"}),m=(0,a.createEvent)({sid:"2smad8"}),g=(0,a.createStore)(null,{sid:"j1540k"}).on(l,((e,t)=>t)).reset(d),k=g.map((e=>null!==e&&o.includes(e))),h=g.map((e=>e===c.PB.NoSearchFound));(0,a.sample)({and:[{clock:p,source:{noSearchError:h,noTicketError:k},filter:({noSearchError:e,noTicketError:t})=>!e&&!t,target:u}],or:{sid:"-nzjc8z"}}),(0,a.sample)({and:[{clock:p,source:h,filter:e=>e,target:m}],or:{sid:"-nfqqvz"}});const f={ticketErrorUpdated:l,resetError:d,handleRefetchClicked:p},y={$bletError:g,$noSearchError:h,$noTicketError:k,refetchBlet:u,refetchSearch:m,handleRefetchClicked:p},x={outputs:y,inputs:f};(0,a.sample)({and:[{clock:s.X.outputs.fetchBletApi,target:f.resetError}],or:{sid:"4wp0j2"}}),(0,a.sample)({and:[{clock:s.X.outputs.searchFailed,filter:n.N.outputs.$isSearchFinished,fn:e=>e.type,target:f.ticketErrorUpdated}],or:{sid:"5eafim"}}),(0,a.sample)({and:[{clock:y.refetchBlet,target:[s.X.inputs.currentFareKeyReset,s.X.inputs.fetchBletApi]}],or:{sid:"5vc1wt"}});var C=r(23588);(0,a.sample)({and:[{clock:x.inputs.handleRefetchClicked,source:x.outputs.$noTicketError,filter:e=>e,fn:()=>({action:"close"}),target:C.z.inputs.ticketErrorActionClickedFx}],or:{sid:"lp0jy5"}}),(0,a.sample)({and:[{clock:x.outputs.refetchBlet,fn:()=>({action:"reset"}),target:C.z.inputs.ticketErrorActionClickedFx}],or:{sid:"m75rj2"}}),(0,a.sample)({and:[{clock:x.outputs.$bletError,fn:e=>({isShown:null!=e}),target:C.z.inputs.ticketErrorShownChangedFx}],or:{sid:"mm07jt"}});var S=r(4190),j=r(28225),v=r(50730),b=r(57729),_=r(85893);const N=(0,i.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/serp_ticket/services/ticket_error/index.ts",api:{inputs:f,outputs:y,containers:{TicketErrorContainer:()=>{const{t:e}=(0,j.useTranslation)("component_serp_ticket_error"),{bletError:t,noTicketError:r,handleRefetchClick:i}=(0,S.useUnit)({bletError:y.$bletError,noTicketError:y.$noTicketError,handleRefetchClick:f.handleRefetchClicked});if(!t)return null;const a=r?(0,_.jsx)(v.r,{}):void 0,s=r?e("noTicket.title"):void 0,n=r?e("noTicket.content"):void 0,c=r?e("noTicket.buttonText"):void 0;return(0,_.jsx)(b.t,{icon:a,customTitle:s,customContent:n,customButtonText:c,onActionButtonClick:i})}}}})},83636:function(e,t,r){r.d(t,{K:function(){return n}});var i=r(85893),a=r(67294);const s=({className:e,...t},r)=>(0,i.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:r,style:{display:"inline-block"},...t,children:[(0,i.jsxs)("g",{clipPath:"url(#EmojiFaceSad__a)",children:[(0,i.jsx)("path",{d:"M12 .75C5.786.75.75 5.786.75 12S5.786 23.25 12 23.25 23.25 18.214 23.25 12 18.214.75 12 .75Z",fill:"url(#EmojiFaceSad__b)"}),(0,i.jsx)("path",{d:"M10.226 13.106c-1.114.822-3.12.878-4.324 0-.277-.202-.738-.063-.637.173 1.05 2.407 4.549 2.403 5.599 0 .101-.233-.364-.375-.638-.173ZM13.777 13.106c1.114.822 3.12.878 4.324 0 .278-.202.739-.063.638.173-1.05 2.407-4.549 2.403-5.599 0-.105-.233.36-.375.637-.173ZM9.334 19.875c1.372-.964 3.847-1.027 5.329 0 .345.236.91.071.783-.206-1.297-2.828-5.606-2.82-6.9 0-.124.277.446.442.788.206Z",fill:"#1A1626"}),(0,i.jsx)("path",{d:"M5.644 8.415c-3.672 2.171-1.332 2.64 1.995 1.185 1.875-.821.42-2.617-1.995-1.185ZM18.356 8.419c-2.415-1.429-3.87.364-1.995 1.185 3.326 1.455 5.666.986 1.995-1.185Z",fill:"#D69600"})]}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("linearGradient",{id:"EmojiFaceSad__b",x1:12,y1:23.25,x2:12,y2:.75,gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#FF9500"}),(0,i.jsx)("stop",{offset:.192,stopColor:"#FFAD00"}),(0,i.jsx)("stop",{offset:.545,stopColor:"#FFD500"}),(0,i.jsx)("stop",{offset:.827,stopColor:"#FFED00"}),(0,i.jsx)("stop",{offset:1,stopColor:"#FFF600"})]}),(0,i.jsx)("clipPath",{id:"EmojiFaceSad__a",children:(0,i.jsx)("path",{fill:"#fff",d:"M0 0h24v24H0z"})})]})]}),n=(0,a.memo)((0,a.forwardRef)(s));n.displayName="EmojiFaceSad"}}]);
//# sourceMappingURL=https://private-static.prod.k8s.int.avs.io/selene-source-maps/shared-532074c62ab2d78c514e6657c53021c9f3eb220a.f82b26672983c6c616ff.min.js.map