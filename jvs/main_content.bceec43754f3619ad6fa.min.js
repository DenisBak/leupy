(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[61497],{22861:function(e,t,n){"use strict";n.d(t,{A:function(){return c}}),n(26699);var i=n(67294),s=n(37254),o=n(94539),a=n(85893);const r=["tzs","uzs","kes","ron"],c=(0,i.memo)((({showCurrencySign:e,currency:t,value:n,...c})=>{const l=!r.includes(t)&&e,d=(0,i.useMemo)((()=>({exponent:(0,o.Q)(n)})),[n]);return(0,a.jsx)(s.X,{value:n,currency:t,showCurrencySign:l,formatOptions:d,...c})}));c.displayName="LocalizedShortPrice"},78449:function(e,t,n){"use strict";n.d(t,{EV:function(){return i.EV},Kn:function(){return i.Kn},gh:function(){return s.gh},nG:function(){return s.nG},p4:function(){return s.p4}});var i=n(12566),s=n(47530)},94539:function(e,t,n){"use strict";n.d(t,{Q:function(){return o}});var i=n(59854),s=n.n(i);const o=(e,t=1)=>e?e<1e5?0:s()(e/1e3,t)%1!=0?t:0:0},56862:function(e,t,n){"use strict";n.d(t,{H:function(){return A}});var i=n(30091),s=n(98116),o=n(24036),a=n(15126),r=n(47420),c=n(82203);const{$tripType:l,$tripClass:d,$passengers:u,$origin:p,$destination:m,exact:{$departDate:h,$returnDate:y}}=r.i.outputs,{createAdverisementModel:g}=a.H.inputs,_=(0,s.combine)({and:[l,e=>({[c.X9.RoundTrip]:o.D.RoundTrip,[c.X9.OneWay]:o.D.OneWay,[c.X9.MultiWay]:o.D.Multiway}[e])],or:{sid:"6qug4r"}}),f=g((0,s.combine)({and:[{origin:p,destination:m,tripClass:d,passengers:u,departDate:h,returnDate:y,tripDirection:_},e=>e],or:{sid:"z7c9fx"}})),{createAdverisementContainer:k}=a.H.inputs,x=k({model:f});var v=n(30040),b=n(47047),j=n(21247),C=n(10924);const{createReporter:w}=C.I.inputs,{$slotByPlacement:S}=f.outputs,{adRendered:N,adRequested:E,adClicked:T,adLoaded:P}=f.inputs,I=(0,s.withFactory)({sid:"-1boht3",fn:()=>(0,b.s)((e=>{const t=(n=e,function(e){return e===n});var n;const i=(0,s.combine)({and:[S,t=>t[e]?.type??null],or:{sid:"g52a7d"}}),o=(0,s.createStore)(null,{sid:"-fs9y2e"}),a=(0,s.createStore)(null,{sid:"-s9id37"}),r=(0,s.createStore)(null,{sid:"-70oksy"}),c=(0,s.sample)({and:[{clock:E,filter:t}],or:{sid:"-108f9"}}),l=(0,s.sample)({and:[{clock:P,filter:e=>t(e.placement)}],or:{sid:"bh5anh"}});(0,s.sample)({and:[{clock:l,fn:e=>({campaignId:e.campaignId??null,placeId:e.placeId??null,bannerId:e.bannerId??null}),target:(0,s.withFactory)({sid:"y6iywg",fn:()=>(0,j.h)({campaignId:o,placeId:a,bannerId:r})})}],or:{sid:"gbhz2l"}});const d=(0,s.sample)({and:[{clock:N,filter:t}],or:{sid:"-dm5ewq"}}),u=(0,s.sample)({and:[{clock:T,filter:t}],or:{sid:"-tf6tqe"}}),p=w({data:{service:v.t6.Explore,category:"ad",label:"placement"},payload:{placement:e,type:i,campaignId:o,placeId:a,bannerId:r}});p({clock:c,data:{action:"requested"}}),p({clock:d,data:{action:"showed"}}),p({clock:u,data:{action:"clicked"}})}))}),B=[a.L.DirectionScreen,a.L.MainMarketing];for(const e of B)(0,s.withFactory)({sid:"-otgkdz",fn:()=>(0,b.d)(I,e)});const A=(0,i.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/explore/services/advertisement/index.ts",api:{inputs:f.inputs,outputs:f.outputs,containers:{AdvertisementContainer:x}}})},54870:function(e,t,n){"use strict";n.d(t,{C:function(){return M}});var i=n(30091),s=(n(21703),n(98116)),o=n(76588),a=n(5500),r=n(47047),c=n(72675),l=n(8681),d=n(47420),u=n(63762),p=n(99186),m=n(79403),h=n(63246),y=n(87722),g=n(78260),_=n(35529),f=n(45711);const k=(0,_.Literal)("NATIONAL_PARK"),x=(0,_.Record)({ark_id:f.Jm,type:k,name:(0,_.Dictionary)(f.Cu,_.String),slug:_.String,iata:_.String.nullable()}),v=(0,_.Record)({entity:x}),b=(0,_.Record)({locations_main_page_v1:(0,_.Array)(v)}),j=(e,t)=>{const[n]=e.locations_main_page_v1,{entity:i}=n;return{id:i.ark_id,type:i.type,name:i.name[t],slug:i.slug,iata:i.iata}},{createAriadneQuery:C}=l.a.inputs,{$language:w}=p.l.outputs,{$brand:S}=m.U.outputs,{$destination:N}=d.i.outputs,{changeDestination:E}=d.i.inputs,{nationalParkScreen:T}=u.n.outputs,{$isClient:P}=h.y.outputs,I=(0,s.createEvent)({sid:"-sxv8g"}),B=(0,s.withFactory)({sid:"4ytivr",fn:()=>(0,r.d)((()=>C({params:(0,s.withFactory)({sid:"phdyqi",fn:()=>(0,o.t6)()}),enabled:(0,s.withFactory)({sid:"-iyqh1f",fn:()=>(0,c.x)(T.$active,P)}),graphQL:{query:"\n  query GetNationalPark($arkIds: [String!]!, $locales: [String!]!, $brand: Brand!) {\n    locations_main_page_v1(\n      brand: $brand,\n      input: { \n        ark_ids: $arkIds,\n      }\n    ) {\n      entity {\n        ark_id\n        type\n        name(filters: { locales: $locales })\n        slug\n        iata\n      }\n    }\n  }\n",operationName:"national_parks",variables:{source:(0,s.combine)({and:[{brand:S,locales:(0,s.combine)({and:[w,e=>[e]],or:{sid:"-61trjx"}})}],or:{sid:"vni5d2"}}),fn:(e,t)=>({...t,arkIds:e?[e]:null})}},contract:b,mapData:{source:w,fn:j}})))});(0,s.sample)({and:[{clock:T.opened,source:N,filter:e=>(0,y.J_)(e)&&((0,y.Ao)(e)||(0,y.Tu)(e)),fn:e=>(0,y.Mo)(e),target:B.start}],or:{sid:"sl7qf6"}}),(0,s.sample)({and:[{clock:B.finished.success,fn:({result:e})=>({name:e.name.su,iata:e.id,type:a.A.NationalPark,slug:e.slug,isVirtual:!1}),target:E}],or:{sid:"t29ctd"}});const A=(0,g.cr)("explore",{name:"national_parks"});(0,s.sample)({and:[{clock:B.finished.failure,fn:({error:e,params:t})=>{const{errorType:n,...i}=e;return{msg:"Failed to load national park",error:new Error(n),extra:{arkId:t,...i}}},target:A.sendErrorLog}],or:{sid:"typ7to"}}),(0,s.withFactory)({sid:"ttia52",fn:()=>(0,o.Fs)(B,{adapter:(0,s.withFactory)({sid:"-i6tplq",fn:()=>(0,o.P3)({maxEntries:100})}),staleAfter:"10m"})});const M=(0,i.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/explore/services/national_park/index.ts",lifecycle:{start:I},api:{outputs:{$park:B.$data},internals:{nationalParkQuery:B}}})},15335:function(e,t,n){"use strict";n.d(t,{G:function(){return d}});var i=n(98116),s=n(47420),o=n(82203);const{updateAnalyticsDirectionSource:a}=s.i.inputs,r=(0,i.createEvent)({sid:"12p2e7"}),c=(0,i.createEvent)({sid:"q48gvy"}),l=(0,i.createStore)(null,{sid:"-ucmdis"}).on(c,((e,t)=>t)).on(r,(()=>o.yh.SearchForm));(0,i.sample)({and:[{clock:l,filter:e=>null!==e,fn:e=>e,target:a}],or:{sid:"-w8ow1u"}});const d={outputs:{},inputs:{sourceSelected:c,hideMap:r},internals:{}}},38135:function(e,t,n){"use strict";n.d(t,{w:function(){return v}});var i=n(30091),s=n(41609),o=n.n(s),a=n(98116),r=n(16243),c=n(11763),l=n(47420),d=n(87722);const{$isAviaFormActive:u}=c.B.outputs,{toAviaForm:p}=c.B.inputs,{$destination:m,$isSimpleSearch:h,$activeService:y}=l.i.outputs,{changeDestination:g,toSimpleSearch:_,changeService:f}=l.i.inputs,k=(0,a.createEvent)({sid:"jqm2vt"}),x=(0,r.J)({parameters:{destination:(0,r.C)({read:m,write:g}),service:(0,r.C)({read:y,write:f}),aviaFormIsActive:(0,r.C)({read:u,write:p}),searchModeIsSimple:(0,r.C)({read:h,write:_})},checkActive:({destination:e,service:t,aviaFormIsActive:n,searchModeIsSimple:i})=>n&&i&&(o()(e)||(0,d.Tu)(e))&&o()(t),beforeOpen:(e,t)=>({destination:null,service:null,aviaFormIsActive:!0,searchModeIsSimple:!0}),initialized:k}),v=(0,i.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/explore/services/screen_main/index.ts",lifecycle:{start:k},api:{outputs:{mainScreen:x}}})},40038:function(e,t,n){"use strict";n.d(t,{L:function(){return q}});var i=n(30091),s=n(98116),o=n(38032),a=n(72675),r=n(87722),c=n(40254),l=n(16243),d=n(82672),u=n(11763),p=n(47420),m=n(20611),h=n(82203),y=n(83781),g=n(77195),_=n(80094),f=n(43175),k=n(78194),x=n(38387);const{$searchParams:v}=m.D.outputs,{navigateTo:b}=m.D.inputs,{matchPage:j,pages:C}=d.$.outputs,{$isAviaFormActive:w}=u.B.outputs,{toAviaForm:S}=u.B.inputs,{$isSimpleSearch:N,$origin:E,$activeService:T}=p.i.outputs,{toSimpleSearch:P,changeOrigin:I,changeService:B,changeCurrentDateCase:A,updateAnalyticsDirectionSource:M}=p.i.inputs,{notify:D,notificationsViewContext:R}=_.B.inputs,{tryToStartSearch:$}=f.J.inputs,{translated:L}=k.J.outputs,{$isMobile:z}=x.l.outputs,O=(0,s.createEvent)({sid:"cckj0s"}),U=j(C.MainPage).$isOpen,F=(0,s.createEvent)({sid:"-6u8sj0"});(0,s.sample)({and:[{clock:F,source:v,filter:(0,s.withFactory)({sid:"8pj083",fn:()=>(0,o.f)(U)}),fn:e=>({pathname:"/",searchParams:e,type:"push"}),target:b}],or:{sid:"lkuz0t"}});const V=(0,l.J)({parameters:{isMainPage:(0,l.C)({read:U,write:F}),origin:(0,l.C)({read:E,write:I}),service:(0,l.C)({read:T,write:B}),aviaFormIsActive:(0,l.C)({read:w,write:S}),searchModeIsSimple:(0,l.C)({read:N,write:P})},checkActive:({isMainPage:e,origin:t,service:n,aviaFormIsActive:i,searchModeIsSimple:s})=>Boolean((0,c.uH)(n)&&!(0,r.Tu)(t)&&s&&i&&e),beforeOpen:(e,t)=>({origin:t.origin,service:e.service,datesIsValid:!0,aviaFormIsActive:!0,searchModeIsSimple:!0,isMainPage:!0,isGuidesPage:!1}),initialized:O});(0,s.sample)({and:[{clock:V.opened,target:(0,y.Sy)((0,y.ZE)("service/helios/weekends_screen/opened"))}],or:{sid:"-f39sur"}}),(0,s.sample)({and:[{clock:V.closed,target:(0,y.Sy)((0,y.ZE)("service/helios/weekends_screen/closed"))}],or:{sid:"-eoz5fd"}}),(0,s.sample)({and:[{clock:V.opened,target:g.H}],or:{sid:"-em86gk"}}),(0,s.sample)({and:[{clock:V.opened,fn:()=>h.M4.Weekends,target:A}],or:{sid:"-e9kwt9"}}),D({clock:{show:(0,s.sample)({and:[{clock:$,filter:V.$active}],or:{sid:"-7caqsj"}}),hide:V.closed},message:L("widget_weekends:pickCity"),icon:"warning",autoClose:!1}),(0,s.sample)({and:[{clock:V.open,filter:e=>Boolean(e.analytics?.directionSource),fn:e=>e.analytics?.directionSource??h.yh.Deeplink,target:M}],or:{sid:"-dc1gm8"}}),R({overrides:{position:"bottom"},setupOn:(0,s.sample)({and:[{clock:[z.updates,V.$active.updates],filter:(0,s.withFactory)({sid:"-q38d9d",fn:()=>(0,a.x)(z,V.$active)})}],or:{sid:"uyn51i"}}),dropOn:(0,s.sample)({and:[{clock:[V.closed,(0,s.sample)({and:[{clock:z.updates,filter:(0,s.withFactory)({sid:"-n8yki3",fn:()=>(0,o.f)(z)})}],or:{sid:"-b3b1l8"}})]}],or:{sid:"-6jbhvw"}})});const q=(0,i.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/explore/services/screen_weekends/index.ts",lifecycle:{start:O},api:{outputs:{weekendsScreen:V}}})},9292:function(e,t,n){"use strict";n.d(t,{J:function(){return He}});var i=n(35529),s=n(45711),o=n(73684),a=n(78449);const r=(0,i.Record)({__typename:(0,i.Literal)("ContentlessBlock"),type:i.String}),c=(r.extend({type:(0,i.Literal)("choose_destination")}),r.extend({type:(0,i.Literal)("price_map")}),r.extend({type:(0,i.Literal)("premium")})),l=r.extend({type:(0,i.Literal)("blog")}),d=(0,i.Record)({__typename:(0,i.Literal)("MarketingAdBlock")}),u=(0,i.Record)({__typename:(0,i.Literal)("PopularDestinationsBlock"),origin_city:a.Kn,directions:(0,i.Array)((0,i.Record)({country_iata:i.String,image_url:i.String,min_price:o.R9})),places:(0,i.Record)({countries:(0,i.Array)(a.EV)})}),p=(0,i.Dictionary)(i.String,i.String),m=(0,i.Record)({ark_id:s.Jm,type:i.String,name:(0,i.Dictionary)(s.Cu,i.String),slug:i.String,iata:i.String.nullable()}),h=(0,i.Record)({__typename:(0,i.Literal)("POIContent"),ark_id:s.Jm,poi_id:i.Number,tabs_entities:(0,i.Array)((0,i.Record)({id:i.Number})),start_date:i.String.nullable().optional(),description:(0,i.Dictionary)(i.String,i.String),images:(0,i.Array)((0,i.Record)({image_url:i.String}))}),y=(0,i.Record)({__typename:(0,i.Literal)("CityContent"),ark_id:s.Jm,images_urls:(0,i.Array)(i.String)}),g=(0,i.Record)({__typename:(0,i.Literal)("NationalParkContent"),ark_id:s.Jm,description:(0,i.Dictionary)(i.String,i.String),images_urls:(0,i.Array)(i.String)}),_=(0,i.Record)({__typename:(0,i.Literal)("IslandContent"),ark_id:s.Jm,images_urls:(0,i.Array)(i.String)}),f=(0,i.Record)({__typename:(0,i.Literal)("CountryContent"),ark_id:s.Jm,images_urls:(0,i.Array)(i.String)}),k=(0,i.Record)({__typename:(0,i.Literal)("RegionContent"),ark_id:s.Jm,images_urls:(0,i.Array)(i.String)}),x=(0,i.Record)({main_tag:p,min_price:o.R9.nullable(),entity:m.nullable()}),v=x.And((0,i.Record)({content:y})),b=x.And((0,i.Record)({content:h})),j=x.And((0,i.Record)({content:g})),C=(0,i.Union)(y,g,_,f,k),w=x.And((0,i.Record)({content:C})),S=(0,i.Record)({__typename:(0,i.Literal)("CityPOIsBlock"),city:v,pois:(0,i.Array)(b)}),N=(0,i.Record)({__typename:(0,i.Literal)("CityPOIBlock"),city:v,poi:b}),E=(0,i.Record)({__typename:(0,i.Literal)("POICompilationBlock"),ark_id:s.Jm,title:i.String,cta_button_text:i.String.nullable(),pois:(0,i.Array)((0,i.Record)({location:w,poi:b}))}),T=(0,i.Record)({__typename:(0,i.Literal)("CityPOICollectionBlock"),city:v,pois:(0,i.Array)(b)}),P=(0,i.Record)({__typename:(0,i.Literal)("NationalParksCollectionBlock"),parks:(0,i.Array)(j)}),I=(0,i.Record)({__typename:(0,i.Literal)("NationalParkPOIBlock"),park:j,poi:b}),B=(0,i.Record)({__typename:(0,i.Literal)("LocationsCompilationBlock"),title:i.String,tag:i.String,locations:(0,i.Array)(w)}),A=(0,i.Record)({__typename:(0,i.Literal)("HotTicketsBlock"),offers:(0,i.Array)((0,i.Record)({price:o.Nf,old_price:o.u1.optional()})),cities:(0,i.Array)(o.yy),airports:(0,i.Array)(o.X6),airlines:(0,i.Array)(o.vc)}),M=(0,i.Record)({__typename:(0,i.Literal)("PromoKorocheBlock"),guide:(0,i.Record)({ark_id:s.Jm,city_iata:i.String,title:i.String,image_url:i.String,depart_date:i.String.nullable(),badge:(0,i.Record)({text:i.String,style:(0,i.Record)({background_color:i.String}),icon:(0,i.Record)({svg:i.String})})})}),D=(0,i.Record)({depart_date:i.String,return_date:i.String.nullable(),value:i.Number,ticket_link:i.String,currency:i.String,origin_city_iata:i.String,destination_city_iata:i.String}),R=(0,i.Record)({__typename:(0,i.Literal)("WeekendsBlock"),weekend_prices:(0,i.Array)((0,i.Record)({price:D})),places:(0,i.Record)({cities:(0,i.Array)((0,i.Record)({image_url:i.String,city:a.Kn})),airports:(0,i.Array)(o.X6)})}),$=(0,i.Record)({__typename:(0,i.Literal)("CityVideoBlock"),image_url:i.String,video_url:i.String,text:i.String,city_info:(0,i.Record)({city:(0,i.Intersect)(a.Kn,(0,i.Record)({ark_id:s.Jm}))}),action_type:(0,i.Union)((0,i.Literal)("direction"),(0,i.Literal)("koroche")),min_price:o.R9.nullable().optional()}),L=(0,i.Record)({__typename:i.String}),z=(0,i.Record)({main_page_blocks_v1:(0,i.Record)({blocks:(0,i.Array)((0,i.Union)(S,N,E,r,T,P,I,B,A,d,M,R,$,u,L))})});n(21703);var O=n(98116),U=n(76588),F=n(72675),V=n(38032),q=n(29178),H=n(47047),G=n(54824),W=n(8681),Z=n(79403),Q=n(2503),Y=n(53788),J=n(99186),K=n(41832),X=n(47420),ee=n(96864),te=n(63246),ne=n(87722),ie=n(54428),se=n(78260),oe=n(89154),ae=n(91585),re=n(88677),ce=n(84959);const le=`\n  query MainContentQuery($brand: Brand!, $locales: [String!], $input: MainPageBlocksV1Input!) {\n    main_page_blocks_v1(input: $input, brand: $brand) {\n      blocks {\n        __typename\n\n        ... on ContentlessBlock {\n          type\n        }\n      \n        ... on CityPOIsBlock {\n          city {\n            ...locationMainPageFields\n          }\n          pois {\n            ...locationMainPageFields\n          }\n        }\n\n        ... on CityPOIBlock {\n          city {\n            ...locationMainPageFields\n          }\n          poi {\n            ...locationMainPageFields\n          }\n        }\n\n        ... on POICompilationBlock {\n          ark_id\n          title \n          cta_button_text\n          pois {\n            location {\n              ...locationMainPageFields\n            }\n            poi {\n              ...locationMainPageFields\n            }\n          }\n        }\n\n        ... on CityPOICollectionBlock {\n          city {\n            ...locationMainPageFields\n          }\n          pois {\n            ...locationMainPageFields\n          }\n        }\n\n        ... on NationalParksCollectionBlock {\n          parks {\n            ...locationMainPageFields\n          }\n        }\n\n        ... on NationalParkPOIBlock {\n          park {\n            ...locationMainPageFields\n          }\n          poi {\n            ...locationMainPageFields\n          }\n        }\n\n        ... on LocationsCompilationBlock {\n          title\n          tag\n          locations {\n            ...locationMainPageFields\n          } \n        }\n\n        ... on HotTicketsBlock {\n          offers {\n            price {\n              ...priceFields\n            }\n            old_price {\n              value\n            }\n          }\n          cities {\n            ...citiesFields\n          }\n          airlines {\n            ...airlinesFields\n          }\n          airports {\n            ...airportsFields\n          }\n        }\n\n        ... on PromoKorocheBlock {\n          guide {\n            ark_id\n            city_iata\n            title \n            image_url\n            depart_date\n            badge {\n              text\n              style {\n                background_color\n                text_color\n                is_promo\n              }\n              icon {\n                svg\n                pdf\n              }\n            }\n          }\n        }\n\n        ... on WeekendsBlock {\n          weekend_prices {\n            price {\n              depart_date\n              return_date\n              value\n              ticket_link\n              currency\n              origin_city_iata\n              destination_city_iata\n            }\n          }\n          places {\n            cities {\n              image_url\n              ...citiesFields\n            }\n            airports {\n              ...airportsFields\n            }\n          }\n        }\n        \n        ... on CityVideoBlock {\n          image_url\n          video_url\n          text\n          action_type\n          city_info {\n            ...citiesFields\n            city {\n              ark_id\n            }\n          }\n          min_price {\n            value\n            currency\n          }\n        }\n        \n        ... on PopularDestinationsBlock {\n          origin_city {\n            iata\n            translations(filters: {locales: $locales})\n          }\n          directions {\n            country_iata\n            image_url\n            min_price {\n              value\n              currency\n            }\n          }\n          places {\n            countries {\n              ...countriesFields\n            }\n          }\n        }\n      }\n    }\n  }\n\n  ${o.Hx}\n  ${o.Pe}\n  ${o.W3}\n  ${o.ld}\n  ${o.be}\n  ${o.Kn}\n`;var de=n(66604),ue=n.n(de),pe=n(24350),me=n.n(pe),he=n(5500),ye=n(81832);function ge(e,t){return t[e.iata]||null}var _e=n(14840),fe=n(26049);const ke=(e,t)=>({id:e.entity?.ark_id??"",name:e.entity?.name[t]??{su:""},iata:e.entity?.iata??"",slug:e.entity?.slug??"",price:e.min_price?{value:e.min_price.value,currency:e.min_price.currency}:null,tag:e.main_tag[t]??null}),xe=(e,t)=>(0,i.match)((0,i.when)(h,(e=>({images:e.images.map((e=>e.image_url)),layerId:e.tabs_entities[0].id,poiId:e.poi_id,description:(0,ye.R)(e.description[t]),startDate:(0,_e.sG)(e.start_date??null)}))),(0,i.when)(y,(e=>({images:e.images_urls}))),(0,i.when)(g,(e=>({images:e.images_urls,description:(0,ye.R)(e.description[t])}))),(0,i.when)(_,(e=>({images:e.images_urls}))),(0,i.when)(f,(e=>({images:e.images_urls}))),(0,i.when)(k,(e=>({images:e.images_urls}))),(0,i.when)(i.Unknown,(()=>null)))(e),ve=(e,t)=>({type:fe.V.LocationContentType.City,...ke(e,t),...xe(e.content,t)}),be=(e,t)=>({type:fe.V.LocationContentType.POI,...ke(e,t),...xe(e.content,t)}),je=(e,t)=>({type:fe.V.LocationContentType.NationalPark,...ke(e,t),...xe(e.content,t)}),Ce=(e,t)=>({type:e.entity?.type,...ke(e,t),...xe(e.content,t)}),we=e=>({departDate:new Date(e.depart_date),returnDate:e.return_date?new Date(e.return_date):null,value:e.value,ticketLink:e.ticket_link,currency:e.currency,originCityIata:e.origin_city_iata,destinationCityIata:e.destination_city_iata});function Se(e,t){const n=(0,o.pd)({...e.places,airlines:[]},t),i=e.weekend_prices.map((({price:e})=>({price:we(e)}))),s=ue()(me()(e.places.cities,"city.iata"),"image_url"),a=new Set;for(const{price:e}of i){const t=n.cities[e.originCityIata];if(!t)continue;const i=n.cities[e.destinationCityIata];if(!i)continue;const o=ge(i,s);if(!o)continue;const r={id:i.iata,imageUrl:o,originCityName:t.name?.su??t.iata,destinationCityName:i.name?.su??i.iata,ticketLink:e.ticketLink,price:{value:e.value,currency:e.currency},dates:{departDate:e.departDate,returnDate:e.returnDate}};a.add(r)}return function(e){const t=new Map;for(const n of e){const e=`${n.originCityName}-${n.destinationCityName}`,i=t.get(e);(!i||i.price.value>n.price.value)&&t.set(e,n)}return[...t.values()]}(a)}function Ne(e,{language:t,isMyCashbackMarket:n,priceMultiplier:p=1}){return e.main_page_blocks_v1.blocks.map((0,i.match)((0,i.when)(S,(e=>{if(!e.city?.entity?.iata||!e.pois.length)return null;const{city:n,pois:i}=e;return{type:fe.V.BlockType.CityPois,city:ve(n,t),pois:i.map((e=>be(e,t)))}})),(0,i.when)(N,(e=>{if(!e.city?.entity?.iata||!e.poi?.entity?.ark_id)return null;const{city:n,poi:i}=e;return{type:fe.V.BlockType.CityPoi,city:ve(n,t),poi:be(i,t)}})),(0,i.when)(E,(e=>{if(!e.pois.length)return null;const{pois:n}=e;return{type:fe.V.BlockType.PoiCompilation,title:e.title,arkId:e.ark_id,ctaButtonText:e.cta_button_text,pois:n.map((({location:e,poi:n})=>({location:Ce(e,t),poi:be(n,t)})))}})),(0,i.when)(T,(e=>{if(!e.city?.entity?.iata||!e.pois.length)return null;const{city:n,pois:i}=e;return{type:fe.V.BlockType.CityPoiCollection,city:ve(n,t),pois:i.map((e=>be(e,t)))}})),(0,i.when)(P,(e=>{if(!e.parks.length)return null;const{parks:n}=e;return{type:fe.V.BlockType.NationalParksCollection,parks:n.map((e=>je(e,t)))}})),(0,i.when)(I,(e=>{if(!e.park?.entity?.slug||!e.poi?.entity?.ark_id)return null;const{park:n,poi:i}=e;return{type:fe.V.BlockType.NationalParkPoi,park:je(n,t),poi:be(i,t)}})),(0,i.when)(B,(e=>{if(!e.locations.length)return null;const{title:n,locations:i,tag:s}=e;return{type:fe.V.BlockType.LocationsCompilation,title:n,tag:s,locations:i.map((e=>Ce(e,t)))}})),(0,i.when)(A,(({offers:e,cities:n,airlines:i,airports:s})=>e.length<1?null:{type:fe.V.BlockType.HotTickets,tickets:e.map((e=>(0,o.U7)({price:e.price,oldPrice:e.old_price,priceMultiplier:p}))),places:(0,o.pd)({cities:n,airlines:i,airports:s},t)})),(0,i.when)(M,(e=>e.guide?.city_iata&&e.guide?{type:fe.V.BlockType.PromoKoroche,arkId:e.guide.ark_id,iata:e.guide.city_iata,title:e.guide.title,imageUrl:e.guide.image_url,departDate:e.guide.depart_date?new Date(e.guide.depart_date):null,badge:{text:e.guide.badge.text,style:{backgroundColor:e.guide.badge.style.background_color},icon:{svg:e.guide.badge.icon.svg}}}:null)),(0,i.when)(R,(e=>e.weekend_prices.length&&e.places.cities.length?{type:fe.V.BlockType.Weekends,places:Se(e,t)}:null)),(0,i.when)(l,(()=>({type:fe.V.BlockType.Blog}))),(0,i.when)(c,(()=>({type:n?fe.V.BlockType.MyCashback:fe.V.BlockType.Premium}))),(0,i.when)(d,(()=>({type:fe.V.BlockType.MarketingAd}))),(0,i.when)($,(e=>{const n=(0,s.sc)({language:t,fallbackLanguage:"en"});return{type:fe.V.BlockType.CityVideo,imageUrl:e.image_url,videoUrl:e.video_url,text:e.text,city:{iata:e.city_info.city.iata,name:n(e.city_info.city,"su")??e.city_info.city.iata,type:he.A.City},arkId:e.city_info.city.ark_id,actionType:e.action_type,price:e.min_price?{value:e.min_price.value,currency:e.min_price.currency}:null}})),(0,i.when)(u,(e=>{const{places:n,directions:i,origin_city:s}=e,o=me()((0,a.p4)(n.countries,t),"iata");return{type:fe.V.BlockType.PopularDestinations,originCity:(0,a.nG)(s,t),directions:i.map((({image_url:e,min_price:t,country_iata:n})=>{const i=o[n].name?.su;return{iata:n,name:i??n,imageUrl:e,minPrice:{value:t.value,currency:t.currency}}}))}})),(0,i.when)(r,(({type:e})=>({type:e}))),(0,i.when)(i.Unknown,(()=>null)))).filter(Ee)}function Ee(e){return null!=e}const{$currency:Te}=K.y.outputs,{createAriadneQuery:Pe}=W.a.inputs,{$brand:Ie}=Z.U.outputs,{$auid:Be}=Q.Y.outputs,{$market:Ae,$isMyCashbackMarket:Me}=Y.D.outputs,{$language:De}=J.l.outputs,{$tripClass:Re,$origin:$e}=X.i.outputs,{$userCitizenship:Le}=ee.W.outputs,{$isClient:ze}=te.y.outputs,{$jwt:Oe}=ie.O.outputs,{$weekendsAvailableInMainContent:Ue}=oe.h.outputs,{$aviaPriceMultiplier:Fe}=ae.t.outputs,Ve=(0,O.combine)({and:[$e,ne.Mo],or:{sid:"-3ft725"}}),qe=(0,O.createStore)(!1,{sid:"y2djq"}),He=(0,O.withFactory)({sid:"s1ig6m",fn:()=>(0,H.d)((()=>Pe({params:G.z,enabled:(0,O.withFactory)({sid:"-kan2p",fn:()=>(0,F.x)(ze,ce.l$,(0,O.withFactory)({sid:"-npci4y",fn:()=>(0,V.f)((0,O.withFactory)({sid:"-npci1i",fn:()=>(0,q.c)(Ve)}))}))}),initialData:[],graphQL:{query:le,operationName:"main_page_blocks_v1",variables:(0,O.combine)({and:[{brand:Ie,auid:Be,market:Ae,language:De,origin:Ve,currency:Te,trip_class:Re,passport_country:Le,shouldAddExtraDays:qe,weekendsAvailableInMainContent:Ue},({brand:e,language:t,shouldAddExtraDays:n,weekendsAvailableInMainContent:i,...s})=>({brand:e,locales:[t],input:{...s,language:t,application:"selene",poi_compilation_limit:28,countries_limit:30,weekends_params:{dates:{},add_extra_days:n},features:{weekends:i}}})],or:{sid:"542xjv"}})},contract:z,mapData:{source:(0,O.combine)({and:[{language:De,isMyCashbackMarket:Me,priceMultiplier:Fe}],or:{sid:"-3697xg"}}),fn:Ne},headers:(0,O.combine)({and:[Oe,e=>{const t={};return e&&(t.Authorization=`Bearer ${e}`),t}],or:{sid:"4ajw3w"}})})))});(0,O.withFactory)({sid:"-ytfcnx",fn:()=>(0,U.Vs)(He,{after:"30s"})}),(0,O.withFactory)({sid:"-ysbrh7",fn:()=>(0,U.XD)(He,{filter:U.eE,delay:(0,O.withFactory)({sid:"-8k8rgw",fn:()=>(0,U.ZR)(1e3,{randomize:{spread:50}})}),times:3})}),(0,O.withFactory)({sid:"-ydhbgg",fn:()=>(0,U.Np)(He,{automatically:!0,triggers:[Fe.updates]})}),(0,O.sample)({and:[{clock:re.X,target:He.refresh}],or:{sid:"-xvvwgw"}});const Ge=(0,se.cr)("explore",{name:"main_content"});(0,O.sample)({and:[{clock:He.finished.failure,fn:({error:e})=>({error:Error("Failed to load data for widget main_content"),extra:e}),target:Ge.sendErrorLog}],or:{sid:"-xh1gg5"}})},27662:function(e,t,n){"use strict";n.d(t,{r:function(){return M},l:function(){return te}});var i=n(4190),s=n(97405),o=n(56862),a=n(98116),r=(n(26699),n(30040)),c=n(51717),l=n(59399),d=n(38032),u=n(65740),p=n(24926),m=n(47047),h=n(35529),y=n(47420),g=n(15126),_=n(10924),f=n(87722),k=n(78364),x=n(37613);function v(e,t){return e===t}var b=n(26049);const{adNotRendered:j,adLoaded:C,adClicked:w}=o.H.inputs,{$visiblePlacements:S}=o.H.outputs,{createReporter:N}=_.I.inputs,{$origin:E}=y.i.outputs,{createFlag:T}=k.f.inputs,P=(0,a.withFactory)({sid:"-wt4iy6",fn:()=>(0,m.d)((()=>T({name:"ex-feat-mainSimpleAdBanner",contract:(0,h.Record)({enabled:h.Boolean,config:(0,h.Record)({link:h.String,image_url:h.String}).optional()}),defaultValue:{enabled:!1}})))}),{$simpleAdBannerConfig:I,$isSimpleAdBannerEnabled:B}=(0,a.withFactory)({sid:"-mpiv6d",fn:()=>(0,c.X)({source:P.$value,shape:{$simpleAdBannerConfig:({config:e})=>e??null,$isSimpleAdBannerEnabled:({enabled:e})=>e}})}),A=(0,a.createStore)(g.L.MainMarketing,{sid:"eirbcq"}),M=(0,a.combine)({and:[S,A,(e,t)=>e.includes(t)],or:{sid:"-5zhguq"}}),D=(0,a.createEvent)({sid:"rtatyh"}),R=(0,a.createEvent)({sid:"-eihgbu"}),$=(0,a.createStore)(null,{sid:"w8afyu"});(0,a.sample)({and:[{clock:D,fn:({order:e})=>e,target:$}],or:{sid:"-41owsf"}});const L=(0,a.sample)({and:[{clock:j,source:A,filter:v}],or:{sid:"k9pgze"}}),z=(0,a.sample)({and:[{clock:C,source:A,filter:(e,{placement:t})=>v(t,e)}],or:{sid:"-ulhucs"}}),O=(0,a.createStore)(!1,{sid:"-y4gcf4"}).reset(D).on([L,z],(()=>!0)),U=(0,a.createEvent)({sid:"-qfrh2l"}),F=(0,a.createStore)(!1,{sid:"-fzlq3c"}).reset(D).on([U],(()=>!0)),V=(0,a.sample)({and:[{clock:w,source:A,filter:v}],or:{sid:"-tdiz62"}}),q=(0,a.createEvent)({sid:"mlikv1"}),H=(0,a.sample)({and:[{clock:[L,(0,a.sample)({and:[{clock:(0,a.withFactory)({sid:"pjozdb",fn:()=>(0,l.g)(D,1e3)}),filter:(0,a.withFactory)({sid:"-n1mvrd",fn:()=>(0,d.f)(O)})}],or:{sid:"-tarla9"}})]}],or:{sid:"-8f8mbj"}}),G=(0,a.createEvent)({sid:"-mp15q4"});(0,a.withFactory)({sid:"20om13",fn:()=>(0,u.s)({source:H,if:B,then:U,else:G})}),(0,a.sample)({and:[{clock:G,fn:()=>b.V.BlockType.MarketingAd,target:x.C0}],or:{sid:"24j66m"}});const W=N({data:{category:b.c.Category.ZeroState,label:b.c.Label.MarketingAd,service:r.t6.Explore},payload:{origin:(0,a.combine)({and:[E,f.Mo],or:{sid:"-qb7n14"}}),blockOrder:$,source:(0,a.withFactory)({sid:"-664xk5",fn:()=>(0,p.w)(F,"config","advertisement")})}});W({clock:(0,a.sample)({and:[{clock:[V,q]}],or:{sid:"-r2hmj8"}}),data:{action:b.c.Action.Clicked}}),W({clock:R,data:{action:b.c.Action.Showed}});const{$adLayout:Z}=o.H.outputs,Q=Z;(0,a.sample)({and:[{clock:Q,fn:()=>b.V.BlockType.MarketingAd,target:x.Ur}],or:{sid:"-wvhd0g"}});const Y=(0,i.createGate)({and:[],or:{sid:"3c4qt9"}});(0,a.sample)({and:[{clock:Y.open,target:D}],or:{sid:"-wdc5fj"}});var J=n(4407),K=n(85893);function X(){const{simpleAdBannerConfig:e,simpleAdBannerClick:t}=(0,i.useUnit)({simpleAdBannerConfig:I,simpleAdBannerClick:q});return e?(0,K.jsx)("a",{className:"s__ZWM6ZLxHYwa5OeEpVTfc",href:e.link,target:"_blank",rel:"noopener noreferrer",onClick:()=>t(),children:(0,K.jsx)(J.E,{width:388,height:388,className:"s__f__aSreh8AMPYzuaG0gV",src:e.image_url,alt:""})}):null}const{AdvertisementContainer:ee}=o.H.containers;function te({order:e}){const{containerKey:t,onShow:n,placement:o,fallbackPlacement:a}=(0,i.useUnit)({containerKey:Q,onShow:R,placement:A,fallbackPlacement:F}),r=(0,s.LT)(n);return(0,i.useGate)(Y,{order:e}),(0,K.jsx)("div",{className:"s__lf_WnZ0BD5RHG_Al1RoL",ref:r,children:a?(0,K.jsx)(X,{}):(0,K.jsx)(ee,{placementId:o})},t)}},48792:function(e,t,n){"use strict";n.d(t,{Ev:function(){return s},x9:function(){return o}});var i=n(26049);const s={[i.V.BlockType.ChooseDestination]:{square:!1,cols:2},[i.V.BlockType.PriceMap]:{square:!1,cols:2},[i.V.BlockType.CityPoi]:{square:!0,cols:1},[i.V.BlockType.Blog]:{square:!1,cols:2},[i.V.BlockType.NationalParkPoi]:{square:!0,cols:1},[i.V.BlockType.CityPois]:{square:!0,cols:1},[i.V.BlockType.Premium]:{square:!1,cols:1},[i.V.BlockType.MyCashback]:{square:!1,cols:2},[i.V.BlockType.CityPoiCollection]:{square:!1,cols:2},[i.V.BlockType.NationalParksCollection]:{square:!1,cols:2},[i.V.BlockType.LocationsCompilation]:{square:!1,cols:2},[i.V.BlockType.PoiCompilation]:{square:!1,cols:2},[i.V.BlockType.HotTickets]:{square:!1,cols:1},[i.V.BlockType.PopularDestinations]:{square:!1,cols:2},[i.V.BlockType.MarketingAd]:{square:!1,cols:1},[i.V.BlockType.PromoKoroche]:{square:!1,cols:2},[i.V.BlockType.Weekends]:{square:!1,cols:2},[i.V.BlockType.CityVideo]:{square:!0,cols:1},[i.V.BlockType.Unknown]:{}};function o({blocks:e,hotTickets:t,popularDestinations:n,marketingAdVisible:s,gridMap:o,maxColsInRow:a}){const r=e.filter((e=>function({block:e,hotTickets:t,popularDestinations:n,marketingAdVisible:s}){switch(e.type){case i.V.BlockType.ChooseDestination:case i.V.BlockType.Blog:case i.V.BlockType.PriceMap:case i.V.BlockType.Premium:case i.V.BlockType.MyCashback:case i.V.BlockType.NationalParksCollection:case i.V.BlockType.LocationsCompilation:case i.V.BlockType.PoiCompilation:case i.V.BlockType.CityVideo:return!0;case i.V.BlockType.MarketingAd:return s;case i.V.BlockType.CityPoi:return Boolean(e.poi.id);case i.V.BlockType.NationalParkPoi:return Boolean(e.poi.id&&e.park.id);case i.V.BlockType.CityPois:case i.V.BlockType.CityPoiCollection:return Boolean(e.city.iata&&e.pois.length);case i.V.BlockType.HotTickets:return t&&t.length>=1;case i.V.BlockType.PopularDestinations:return n&&n.length>=3;case i.V.BlockType.PromoKoroche:return Boolean(e.iata);case i.V.BlockType.Weekends:return Boolean(e.places);default:return!1}}({block:e,hotTickets:t,popularDestinations:n,marketingAdVisible:s})));return function(e,t){const n=e=>Array.isArray(e),i=[];return e.forEach((({item:e,cols:s})=>{if(s===t)return void i.push(e);const o=i.findIndex((e=>n(e)&&e.length<t));-1===o?i.push([e]):i[o].push(e)})),i.filter((e=>!n(e)||e.length===t)).flat(1)}(r.map((e=>({item:e,cols:o[e.type].cols}))),a)}},26996:function(e,t,n){"use strict";n.r(t),n.d(t,{MainContentWidget:function(){return Id}});var i=n(4190),s=n(94184),o=n.n(s),a={positioner:"s__SUUCJXpwdbx6qOxdoYA_",layout:"s__YrHZt599o3cfY8kkm6HP",item:"s__zzHeDc4V3KzW1l30vRJe",square:"s__uv7GNe8pHSk5HRXqJH5z",cols_1:"s__TzR_RLxXxWTrgWAVBKG7",cols_2:"s__n64p4ANMyIuGeqa1N7rj"},r=n(85893);const c=({children:e,className:t})=>(0,r.jsx)("div",{className:o()(a.positioner,t),children:(0,r.jsx)("div",{className:a.layout,children:e})});c.Item=({children:e,square:t=!1,cols:n=1,className:i})=>(0,r.jsx)("div",{className:o()(a.item,t&&a.square,a[`cols_${n}`],i),children:e});function l({className:e}){return(0,r.jsxs)("div",{className:o()("s__YjhbgLkUlk3oYc2AReFj",e),children:[(0,r.jsx)("div",{className:"s__ccIKmvOBfF9C3oqnE6vZ"}),(0,r.jsx)("div",{className:"s__A1a4VYyXmK0uyOKFrQRB"}),(0,r.jsx)("div",{className:"s__JRXGh9iOwfsL7EZzDcMg"})]})}var d="s__iH04sfO2GL75IswcRX6o",u="s__VnIl7qcV0Bb8eW2uIqm2",p="s__XFNOxV96UcZ2HR7jnSdp",m="s__JoUw2ghjcW2aCJuNUeag",h="s__pZqT5S1smKfmit3hZoqn";function y(){return(0,r.jsxs)(c,{children:[(0,r.jsx)(c.Item,{cols:2,children:(0,r.jsx)(g,{})}),(0,r.jsx)(c.Item,{cols:2,children:(0,r.jsx)(_,{})}),(0,r.jsx)(c.Item,{cols:2,children:(0,r.jsx)(g,{})})]})}function g(){return(0,r.jsxs)("div",{className:o()(u,"s__BzBUQ1CpX0QdigYz8fC5"),children:[(0,r.jsx)("div",{className:o()(d,p)}),(0,r.jsxs)("div",{className:o()("s__voa1Cl6U7RszC5lwLjMB"),children:[(0,r.jsx)("div",{className:o()(d,h)}),(0,r.jsx)("div",{className:o()(d,h)}),(0,r.jsx)("div",{className:o()(d,h)}),(0,r.jsx)("div",{className:o()(d,h)})]}),(0,r.jsx)("div",{className:o()(d,m)})]})}function _(){return(0,r.jsxs)("div",{className:o()(u,"s__gIxNJz93WuuI8gP3PsDn"),children:[(0,r.jsx)("div",{className:o()(d,p)}),(0,r.jsx)("div",{className:o()(d,"s__w3TVgccAmJYy1bAUPN6C")}),(0,r.jsx)("div",{className:o()(d,m)})]})}const f=({href:e,children:t,onClick:n,...i})=>{const s=o()("s__KWPoGkACMTpTVMBdnFfA",i.className);return e?(0,r.jsx)("a",{className:s,href:e,onClick:n,children:t}):(0,r.jsx)("button",{className:s,onClick:n,children:t})};const k=({children:e})=>(0,r.jsx)("noindex",{className:"s__mtSVSrZMgvsRAkC5Q8Mj",children:e});var x=n(67294),v=n(49963),b=n(44619),j=n(1156),C=n(39535),w=n(63155);const S=({children:e,dataTestId:t},n)=>(0,r.jsx)("div",{ref:n,className:"s__msltrttrostuxDzzh77w","data-test-id":t,children:e}),N=(0,x.forwardRef)(S);N.Title=({children:e,dataTest:t})=>(0,r.jsx)(v.x,{className:"s__aRRKrqLITIqp4dOmKoox",tag:"h3",type:b.y.Title1Bold,mobileType:b.y.Title3Bold,testId:"collection-title","data-test":t,children:e}),N.Slider=w.i,N.Button=({children:e,onClick:t})=>(0,r.jsx)("div",{className:"s__aBLLUam7dtGWmaHTpHHG",children:(0,r.jsx)(j.z,{className:"s__QJGWvMwpSlige0vXZq7v",size:C.qE.M,mod:C.Ly.Custom,onClick:t,testId:"collection-button",children:e})});var E=n(28225);const T=({className:e,...t},n)=>(0,r.jsxs)("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":!0,className:e,"data-test-id":"icon",ref:n,style:{display:"inline-block"},...t,children:[(0,r.jsx)("path",{d:"M8.512 1.15C7.81 8.987 6.378 10.399.375 11.225c6.003.826 7.434 2.238 8.137 10.075.704-7.838 2.134-9.249 8.138-10.075-6.004-.826-7.434-2.238-8.137-10.075Z",fill:"url(#EmojiSparkles__a)"}),(0,r.jsx)("path",{d:"M18.975.375c-.402 3.919-1.22 4.625-4.65 5.037 3.43.413 4.248 1.119 4.65 5.038.402-3.919 1.218-4.625 4.65-5.038C20.194 5 19.377 4.294 18.975.375Z",fill:"url(#EmojiSparkles__b)"}),(0,r.jsx)("path",{d:"M16.65 13.55c-.402 3.919-1.22 4.624-4.65 5.038 3.43.413 4.248 1.119 4.65 5.037.402-3.918 1.218-4.624 4.65-5.038-3.432-.413-4.248-1.118-4.65-5.037Z",fill:"url(#EmojiSparkles__c)"}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"EmojiSparkles__a",x1:8.51,y1:21.295,x2:8.51,y2:1.148,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#F90"}),(0,r.jsx)("stop",{offset:.022,stopColor:"#FF9C03"}),(0,r.jsx)("stop",{offset:.274,stopColor:"#FFB91D"}),(0,r.jsx)("stop",{offset:.524,stopColor:"#FFCE31"}),(0,r.jsx)("stop",{offset:.768,stopColor:"#FFDB3C"}),(0,r.jsx)("stop",{offset:1,stopColor:"#FFDF40"})]}),(0,r.jsxs)("linearGradient",{id:"EmojiSparkles__b",x1:18.974,y1:10.456,x2:18.974,y2:.373,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#6FAD00"}),(0,r.jsx)("stop",{offset:.039,stopColor:"#73B202"}),(0,r.jsx)("stop",{offset:.263,stopColor:"#87CC0F"}),(0,r.jsx)("stop",{offset:.493,stopColor:"#96DE17"}),(0,r.jsx)("stop",{offset:.734,stopColor:"#9EE91C"}),(0,r.jsx)("stop",{offset:1,stopColor:"#A1ED1E"})]}),(0,r.jsxs)("linearGradient",{id:"EmojiSparkles__c",x1:16.654,y1:23.625,x2:16.654,y2:13.551,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#7D0C7A"}),(0,r.jsx)("stop",{offset:.094,stopColor:"#930C90"}),(0,r.jsx)("stop",{offset:.254,stopColor:"#B30DAE"}),(0,r.jsx)("stop",{offset:.421,stopColor:"#CC0DC6"}),(0,r.jsx)("stop",{offset:.595,stopColor:"#DD0ED8"}),(0,r.jsx)("stop",{offset:.781,stopColor:"#E80EE2"}),(0,r.jsx)("stop",{offset:1,stopColor:"#EB0EE5"})]})]})]}),P=(0,x.memo)((0,x.forwardRef)(T));P.displayName="EmojiSparkles";var I=n(55057),B=n(86064),A=n(51057),M=n(85394),D=n(86523),R="s__pMMnj1r_6AYmKvgJYjYP";const $=parseInt("4400ms",10);var L=n(4407);const z=({places:e,currentPlace:t})=>(0,r.jsx)("div",{className:"s__JjbB_v0CdNCNzp7ktfZ_",children:e.map((e=>{const n=e.images.length?e.images[0]:void 0;return(0,r.jsx)(L.E,{width:388,height:388,srcTemplate:n??"",alt:e.name.su,className:o()("s__Du50uucFqe7cQoyPCWCm",e===t?"s__GA7BPyGFRDO9X_1wpwjX":"s__yxKus7zi40kjArq5S0ha"),draggable:!0},e.id)}))});var O=n(76323),U=n(36388);const F=({title:e})=>(0,r.jsx)(O.X,{className:"s__BXvQATkIuv98MMvxjydu",type:U.l.Title1Bold,mobileType:U.l.Title2Bold,tag:"h3",pretty:!1,children:e},e),V=[B.L.Mobile,B.L.MobileLandscape],q=({places:e,city:t,onClick:n,onPlaceChange:i})=>{const{name:s,price:o}=t,{t:a}=(0,E.useTranslation)("widget_main_content"),c=(0,M.c)(A.AV)?.is(V)??!1,{currentPlace:l}=(e=>{const[t,n]=(0,x.useState)(e[0]);return(0,x.useEffect)((()=>{const i=setTimeout((()=>{const i=(e.indexOf(t)+1)%e.length;n(e[i])}),$);return()=>clearTimeout(i)}),[t,e]),{currentPlace:t}})(e),d=(0,x.useCallback)((()=>n?.(l.id)),[n,l]);(0,x.useEffect)((()=>{i&&i(l.id)}),[l,i]);const u=a("cityPois.buttonText",{cityName:s.vi||s.su}),p=(0,D.d)("price_short");return(0,r.jsxs)("div",{className:"s__yb5UF_F3S08MKSRnmF8A",onClick:d,children:[(0,r.jsx)(z,{currentPlace:l,places:e}),(0,r.jsxs)("div",{className:"s__J_B6cM44MRuQnDAG_MUE",children:[(0,r.jsx)(v.x,{className:"s__XCiKE5lAMacxbOlrkaSt",tag:"h2",type:b.y.Body3AllCaps,children:l.tag}),(0,r.jsx)(F,{title:l.name.su}),o?(0,r.jsxs)(j.z,{className:R,size:c?C.qE.S:C.qE.M,mod:C.Ly.Custom,testId:"city-pois-button",children:[(0,r.jsx)(j.z.Icon,{className:"s__jNz_3tjd8xEm8OPAhZ7s",children:(0,r.jsx)(I.q,{})}),(0,r.jsx)(j.z.Label,{className:"s__g5dazxzlR4XGI9C3M0WG",children:(0,r.jsx)(E.Trans,{t:a,i18nKey:"cityPois.buttonTextWithPrice",values:{cityName:s.su,price:p({value:o.value,currency:o.currency.toUpperCase()})},components:{span:(0,r.jsx)("span",{className:"s__HPrnbiEFxCF7mDHBNfrQ"})}})})]}):(0,r.jsxs)(j.z,{className:R,size:c?C.qE.S:C.qE.M,mod:C.Ly.Custom,testId:"city-pois-button",children:[!c&&(0,r.jsx)(j.z.Icon,{children:(0,r.jsx)(P,{width:24,height:24})}),`${u}${c?" â€º":""}`]})]})]})};var H=n(34701),G=n(87115),W=n(74588),Z="s__nvr3b37S0rA6y2I2nVC0";const Q=[B.L.Mobile,B.L.MobileLandscape],Y=({label:e,title:t,description:n,imageUrl:i,city:s,onClick:o})=>{const{t:a}=(0,E.useTranslation)("widget_main_content"),c=(0,M.c)(A.AV)?.is(Q)??!1,l=(0,D.d)("price_short");return(0,r.jsxs)("div",{className:"s__cU5FbNUYadqqedThqrIY","data-test-id":"poi-card",children:[(0,r.jsx)(L.E,{className:"s__BvAOSR6seB6yPL29_Muq",srcTemplate:i,alt:e,width:388,height:388,draggable:!0}),(0,r.jsxs)("div",{className:"s__ysGl1Tb0SqxiBMkJ5zvt",children:[s?(0,r.jsxs)(H.C,{className:"s__eGisI0ZiMRB5MJdsSiX7",size:c?G.OD.M:G.OD.L,color:G.JV.Custom,borderStyle:G.Pk.Brick,children:[(0,r.jsx)(H.C.Icon,{children:(0,r.jsx)(I.q,{className:"s__RYCwiwGLxihoI9JTY6Ia"})}),s.price?(0,r.jsx)("span",{className:Z,children:(0,r.jsx)(E.Trans,{t:a,i18nKey:"cityPois.buttonTextWithPrice",values:{cityName:s.name.su,price:l({value:s.price.value,currency:s.price.currency.toUpperCase()})},components:{span:(0,r.jsx)("span",{className:"s__O7GHDKyPkKI41mKKzgHE"})}})}):(0,r.jsx)("span",{className:Z,children:s.name.su})]}):(0,r.jsx)(v.x,{tag:"h2",type:b.y.Body3AllCaps,className:"s__PB14ZmNsFghk2zmiHU5h",testId:"poi-card-name",children:e}),(0,r.jsx)(O.X,{tag:"h3",type:U.l.Title1Bold,className:"s__y5T6CqIehZFAiAaI0DfJ",pretty:!1,children:t}),(0,r.jsx)(v.x,{tag:"p",type:b.y.Body2Paragraph,truncateMode:b.k.TwoLines,className:"s__BY1RbxGhaeiVV28_5LEP",children:n})]}),o&&(0,r.jsx)(W.j,{className:"s__DWlz7ftXQjNuhzjIQ6En",onClick:o})]})};var J=n(47166),K=n.n(J),X=n(22861),ee={root:"s__jLy5PrMiEOMK9skDGyhm",imgWrapper:"s__ZED4TmIfXoHOe37pn7EV","focus-visible":"s__SmTy0enOWpHdyQ3ly0VG",caption:"s__mCrQRSF2YRRJThmoLCfJ",name:"s__PeOEZVMljiehQ7dYZv5K",location:"s__L9Otd8hRxQt6MLo6OKc1",price:"s__E8_sQDkmlHc_460SzSrL",priceContainer:"s__JtV5kIZUQnrO80vSMonn",planeIcon:"s__LWbFAVOaK5GnwNgbGWjQ",picture:"s__RdKTzYivHEeshbs_SJEN",calendar:"s__Yp8dongUP93zW7BvJjIP",calendarHeader:"s__QqByqlXjuIfer5JgtzGQ"};const te=K().bind(ee),ne=({imageUrl:e,name:t,location:n,minPrice:i,startDate:s,className:o})=>{const{t:a}=(0,E.useTranslation)("widget_main_content"),c=(0,D.d)("ts_month_short"),l=n?`${t}, ${n}`:t;return(0,r.jsxs)("figure",{className:te(ee.root,o),"data-test-id":"poi-item",children:[(0,r.jsxs)("div",{className:ee.picture,children:[(0,r.jsx)(L.E,{className:ee.imgWrapper,srcTemplate:e,alt:l,width:191,height:191,draggable:!0,contrastOverlay:!0}),s&&(0,r.jsxs)("div",{className:ee.calendar,children:[(0,r.jsx)("div",{className:ee.calendarHeader,children:(0,r.jsx)(v.x,{type:b.y.FootnoteAllCaps,truncateMode:b.k.SingleLine,children:c(s)})}),(0,r.jsx)(v.x,{type:b.y.Body3Regular,truncateMode:b.k.SingleLine,children:s.getDate()})]})]}),(0,r.jsxs)("figcaption",{className:ee.caption,title:l,children:[t&&(0,r.jsx)(v.x,{className:ee.name,type:b.y.Body1Regular,mobileType:b.y.Body2Regular,testId:"poi-item-name",children:t}),n&&(0,r.jsx)(v.x,{className:ee.location,type:b.y.Body1Regular,mobileType:b.y.Body2Regular,testId:"poi-item-name",children:n}),i&&(0,r.jsxs)("div",{className:ee.priceContainer,children:[(0,r.jsx)(I.q,{className:ee.planeIcon}),(0,r.jsx)(v.x,{className:ee.price,type:b.y.Body1Bold,mobileType:b.y.Body2Bold,children:(0,r.jsx)(E.Trans,{t:a,i18nKey:"poiCompilation.minPrice",components:{price:(0,r.jsx)(X.A,{value:i.value,currency:i.currency,showCurrencySign:!0,"data-test-id":"poi-compilation-item-price"})}})})]})]})]})};var ie={root:"s__yxdHuEZF_uWVbOVhTK6H"};const se=({children:e,className:t})=>(0,r.jsx)("ul",{className:o()(ie.root,t),children:e});se.Item=({children:e,className:t})=>(0,r.jsx)("li",{className:o()(ie.item,t),children:e});var oe=n(97405),ae=n(20466),re=n.p+"29dcf086e5453b90259a.png",ce=n.p+"5c5810daecfdcde60128.png",le=n.p+"be7f317d3851c976cd72.png",de=n.p+"883b2031c795a37cae87.png";function ue({onClick:e},t){const{t:n}=(0,E.useTranslation)("widget_main_content"),i=(()=>{const e=new Date;switch((0,ae.Z)(e)){case 0:case 3:return re;case 1:case 4:return ce;case 2:case 5:return de;default:return le}})();return(0,r.jsxs)("div",{className:"s__qN51E3ubuv67uKUyfFD3",ref:t,"data-test-id":"choose-destination-block",children:[(0,r.jsx)("img",{src:i,className:"s__zmN8ULbVeIs6_hsD2vBL"}),(0,r.jsx)(v.x,{className:"s__hP0wERRWOxmaGFBpa8tJ",tag:"h2",type:b.y.Title1Bold,mobileType:b.y.Title3Bold,children:n("chooseDestination.heading")}),(0,r.jsx)(v.x,{className:"s__lRXgapwtvbyiURjDlAmq",tag:"p",type:b.y.Body1Regular,mobileType:b.y.Body2Paragraph,children:n("chooseDestination.description")}),(0,r.jsx)(j.z,{className:"s__QG57CDYt18nQkX5cErTG",size:C.qE.M,onClick:e,testId:"choose-destination-button",children:n("chooseDestination.buttonText")})]})}const pe=(0,x.forwardRef)(ue);var me=n(98116),he=n(77195);const ye=(0,me.createEvent)({sid:"-w4wrqr"}),ge=(0,me.createEvent)({sid:"-puap9c"});(0,me.sample)({and:[{clock:ye,target:he.H}],or:{sid:"8fu3z2"}});var _e=n(30040),fe=n(10924),ke=n(47420),xe=n(79403),ve=n(39018),be=n(87722),je=n(26049);const{createReporter:Ce}=fe.I.inputs,{$origin:we}=ke.i.outputs,{$isWayAwayBrand:Se}=xe.U.outputs,{sendEvent:Ne}=ve.n.inputs,Ee=(0,i.createGate)({and:[],or:{sid:"-2wkdf0"}}),Te=Ce({data:{category:je.c.Category.ZeroState,label:je.c.Label.ChooseDestination,service:_e.t6.Explore},payload:{pageName:"main",source:null,origin:(0,me.combine)({and:[we,be.Mo],or:{sid:"-5p0d01"}}),blockOrder:(0,me.combine)({and:[Ee.state,e=>e?.order??null],or:{sid:"6xv2sl"}})}});Te({clock:ge,data:{action:je.c.Action.Showed},payload:{userEvent:!1}}),Te({clock:ye,data:{action:je.c.Action.Clicked},payload:{userEvent:!1}}),(0,me.sample)({and:[{clock:ye,filter:Se,fn:()=>({type:"click_great_idea"}),target:Ne}],or:{sid:"-efq3bx"}});const Pe=({order:e})=>{(0,i.useGate)(Ee,{order:e});const{onClick:t,onShow:n}=(0,i.useUnit)({onClick:ye,onShow:ge}),s=(0,oe.LT)(n);return(0,r.jsx)(pe,{ref:s,onClick:t})};var Ie=n(82203),Be=n(31087),Ae=n(98354);const Me=(0,me.createEvent)({sid:"-m95k4v"}),De=(0,me.createEvent)({sid:"hmn3du"});(0,me.sample)({and:[{clock:De,fn:({poi:e,location:t})=>({poi:e,location:t,trapSource:Be.Ur.ZERO_STATE_POI_BIG_CARD,poiOpenSource:Be.sL.zeroState,directionSource:Ie.yh.ZeroStateCityPoi}),target:Ae.mainContentPublicApi.inputs.placeClicked}],or:{sid:"-rzaz2c"}}),fe.I.inputs.createReporter({data:{category:je.c.Category.ZeroState,label:je.c.Label.PoiBigCard,action:je.c.Action.Showed,service:_e.t6.Explore}})({clock:(0,me.sample)({and:[{clock:Me,source:{origin:ke.i.outputs.$origin},filter:(e,{city:t})=>Boolean(t),fn:({origin:e},{city:t,order:n})=>({origin:e?.iata,destination:t?.iata,locationId:t?.id,blockOrder:n})}],or:{sid:"-ry5lrv"}}),payload:e=>({pageName:"main",userEvent:!1,source:null,...e})});const Re=({block:e,order:t})=>{const{city:n,poi:s}=e,{onPlaceClicked:o,onBlockShowed:a}=(0,i.useUnit)({onPlaceClicked:De,onBlockShowed:Me}),c=(0,x.useCallback)((()=>{o({location:n,poi:s})}),[n,s,o]),l=(0,x.useCallback)((()=>{a({city:n,order:t})}),[n,t,a]),d=(0,oe.LT)(l);return s&&n?(0,r.jsx)("div",{ref:d,className:"s__hgHwAAmNkEyT2TbfdhGL","data-test-id":"city-poi-card",children:(0,r.jsx)(Y,{label:n.name.su,title:s.name.su,description:s.description,imageUrl:s.images[0],city:n,onClick:c})}):null};var $e=n(5500),Le=n(76101);const{directionScreen:ze}=Le.A.outputs,{$isWayAwayBrand:Oe}=xe.U.outputs,{sendEvent:Ue}=ve.n.inputs,{$origin:Fe}=ke.i.outputs,Ve=(0,me.createEvent)({sid:"-d994ze"}),qe=(0,me.createEvent)({sid:"-efhtj7"}),He=(0,me.createEvent)({sid:"iksg54"});(0,me.sample)({and:[{clock:He,fn:({poi:e,location:t})=>({poi:e,location:t,trapSource:Be.Ur.ZERO_STATE_CITY_POI_COLLECTION,poiOpenSource:Be.sL.zeroState,directionSource:Ie.yh.ZeroStateCityPoiCollection}),target:Ae.mainContentPublicApi.inputs.placeClicked}],or:{sid:"-98gban"}}),(0,me.sample)({and:[{clock:Ve,fn:({city:e})=>({destination:{iata:e.iata??"",cityIata:e.iata??"",name:e.name.su??"",type:$e.A.City},analytics:{directionSource:Ie.yh.ZeroStateCityPoiCollection}}),target:ze.open}],or:{sid:"-8erf95"}});const Ge=fe.I.inputs.createReporter({data:{category:je.c.Category.ZeroState,label:je.c.Label.CityPoiCollection,service:_e.t6.Explore},payload:{origin:(0,me.combine)({and:[Fe,be.Mo],or:{sid:"-3eyat5"}}),pageName:"main",source:null}});Ge({clock:qe,data:{action:je.c.Action.Showed},payload:({city:e,iata:t,order:n})=>({destination:e?.iata,tagId:t,blockOrder:n,userEvent:!1})}),Ge({clock:Ve,data:{action:je.c.Action.Clicked},payload:({city:e,order:t})=>({destination:e?.iata,blockOrder:t,userEvent:!1})}),(0,me.sample)({and:[{clock:Ve,filter:Oe,fn:({city:e})=>({type:"open_discover",city:e.name.su}),target:Ue}],or:{sid:"-z8ckih"}});const We=({block:e,order:t})=>{const{t:n}=(0,E.useTranslation)("widget_main_content"),{city:s,pois:o}=e,{onPlaceClicked:a,onDiscoverButtonClicked:c,onBlockShowed:l}=(0,i.useUnit)({onPlaceClicked:He,onDiscoverButtonClicked:Ve,onBlockShowed:qe}),d=(0,D.d)("price_short"),u=(0,x.useCallback)((()=>{c({city:s,order:t})}),[s,t,c]),p=(0,x.useCallback)((()=>{l({city:s,iata:e.city.iata??"",order:t})}),[s,e,t,l]),m=(0,oe.LT)(p);return s&&o.length?(0,r.jsxs)(N,{ref:m,dataTestId:"city-poi-collection",children:[(0,r.jsx)(N.Title,{dataTest:s.name.su,children:n("cityPoiCollection.title",{cityName:s.name.ro??s.name.su})}),(0,r.jsx)(N.Slider,{children:o.map((e=>(0,r.jsx)(f,{onClick:()=>a({location:s,poi:e}),children:(0,r.jsx)(N.Slider.Item,{caption:e.name.su,imageUrl:e.images[0]})},e.id)))}),s.price?(0,r.jsx)(N.Button,{onClick:u,children:(0,r.jsx)(j.z.Label,{children:n("cityPoiCollection.buttonTextWithPrice",{cityName:s.name.vi||s.name.su,price:d({value:s.price.value,currency:s.price.currency.toUpperCase()})})})}):(0,r.jsxs)(N.Button,{onClick:u,children:[(0,r.jsx)(j.z.Icon,{children:(0,r.jsx)(P,{width:24,height:24})}),(0,r.jsx)(j.z.Label,{children:n("cityPoiCollection.buttonText",{cityName:s.name.vi||s.name.su})})]})]}):null};var Ze=n(97650);const{directionScreen:Qe}=Le.A.outputs,{$origin:Ye}=ke.i.outputs,{createReporter:Je}=fe.I.inputs,{$isWayAwayBrand:Ke}=xe.U.outputs,{sendEvent:Xe}=ve.n.inputs,et=(0,me.createStore)({},{sid:"gwmkuj"}),tt=(0,me.createEvent)({sid:"k1awze"}),nt=(0,me.createEvent)({sid:"-blzbt9"}),it=(0,me.sample)({and:[{clock:nt,source:{seenPois:et},filter:({seenPois:e},{id:t,isInView:n})=>Boolean(!e[t]&&n),fn:(e,{id:t,city:n,order:i})=>({destination:n?.iata,blockOrder:i,poiId:t})}],or:{sid:"8w65l3"}});et.on(it,((e,{poiId:t})=>({...e,[t]:!0}))),(0,me.sample)({and:[{clock:tt,fn:({city:e})=>({destination:{iata:e.iata??"",cityIata:e.iata??"",name:e.name.su??"",type:$e.A.City},analytics:{directionSource:Ie.yh.ZeroStateCityPois}}),target:Qe.open}],or:{sid:"iz4vmn"}});const st=Je({data:{category:je.c.Category.ZeroState,label:je.c.Label.CityPois,service:_e.t6.Explore},payload:{origin:(0,me.combine)({and:[Ye,be.Mo],or:{sid:"-taoh8x"}}),pageName:"main",source:null}});st({clock:it,data:{action:je.c.Action.Showed},payload:({destination:e,blockOrder:t,poiId:n})=>({userEvent:!1,destination:e,blockOrder:t,poiId:n})}),st({clock:tt,data:{action:je.c.Action.Clicked},payload:({city:e,order:t,id:n})=>({userEvent:!1,destination:e.iata,blockOrder:t,poiId:n})}),(0,me.sample)({and:[{clock:tt,filter:Ke,fn:({city:e})=>({type:"open_discover",city:e.name.su}),target:Xe}],or:{sid:"umzuvw"}});const ot=({block:e,order:t})=>{const{city:n,pois:s}=e,{onPoiChanged:o,onCardClicked:a}=(0,i.useUnit)({onPoiChanged:nt,onCardClicked:tt}),[c,d]=(0,Ze.YD)({threshold:.5}),u=(0,x.useCallback)((e=>{o({id:e,city:n,order:t,isInView:d})}),[n,t,d,o]),p=(0,x.useCallback)((e=>{a({city:n,id:e,order:t})}),[n,t,a]);return n&&s.length?(0,r.jsx)("div",{ref:c,className:"s__tRQ1Qir3exHHZEASHIXa","data-test-id":"pois-card","data-test":n.name.su,children:(0,r.jsx)(q,{places:s,city:n,onClick:p,onPlaceChange:u})}):(0,r.jsx)(l,{})};var at=n(20611),rt=n(63762);const{updateAnalyticsDirectionSource:ct}=ke.i.inputs,{nationalParkScreen:lt}=rt.n.outputs,dt=(0,me.createEvent)({sid:"-fkxtnc"}),ut=(0,me.createEvent)({sid:"a7aon7"});(0,me.sample)({and:[{clock:dt,fn:()=>Ie.yh.ZeroStateCityLocationsCompilation,target:ct}],or:{sid:"-dtcweb"}}),(0,me.sample)({and:[{clock:dt,fn:({park:e})=>({destination:{type:$e.A.NationalPark,iata:e.id,name:e.name.su}}),target:lt.open}],or:{sid:"-deigdk"}}),(0,me.sample)({and:[{clock:dt,filter:xe.U.outputs.$isWayAwayBrand,fn:({park:e})=>({type:"open_sight",name:e?.name.su}),target:[he.H,ve.n.inputs.sendEvent]}],or:{sid:"-cwd8sn"}}),fe.I.inputs.createReporter({data:{category:je.c.Category.ZeroState,label:je.c.Label.LocationsCompilation,action:je.c.Action.Showed,service:_e.t6.Explore}})({clock:(0,me.sample)({and:[{clock:ut,source:{origin:ke.i.outputs.$origin},fn:({origin:e},{order:t})=>({origin:e?.iata,blockOrder:t,locationType:"national_park"})}],or:{sid:"5xhsim"}}),payload:e=>({pageName:"main",userEvent:!1,source:null,...e})});const{SpaNavigation:pt}=at.D.containers,mt=({block:e,order:t})=>{const{t:n}=(0,E.useTranslation)("widget_main_content"),{parks:s}=e,{onParkClicked:o,onBlockShowed:a}=(0,i.useUnit)({onParkClicked:dt,onBlockShowed:ut}),c=(0,x.useCallback)((e=>{o({park:e})}),[o]),l=(0,x.useCallback)((()=>{a({order:t})}),[t,a]),d=(0,oe.LT)(l);return s.length?(0,r.jsxs)(N,{ref:d,dataTestId:"national-park-collection",children:[(0,r.jsx)(N.Title,{children:n("nationalParksCollection.title")}),(0,r.jsx)(N.Slider,{children:s.map((e=>(0,r.jsx)(pt,{children:(0,r.jsx)(f,{href:`/?parkId=${e.id}`,onClick:()=>c(e),children:(0,r.jsx)(N.Slider.Item,{caption:e.name.su,imageUrl:e.images[0]})})},e.id)))})]}):null},ht=(0,me.createEvent)({sid:"-tv6uuh"}),yt=(0,me.createEvent)({sid:"c6zjqg"});(0,me.sample)({and:[{clock:yt,fn:({poi:e,location:t})=>({poi:e,location:t,trapSource:Be.Ur.ZERO_STATE_POI_BIG_CARD,poiOpenSource:Be.sL.zeroState,directionSource:Ie.yh.ZeroStateCityPoi}),target:Ae.mainContentPublicApi.inputs.placeClicked}],or:{sid:"-lmyt1m"}}),fe.I.inputs.createReporter({data:{category:je.c.Category.ZeroState,label:je.c.Label.LocationsBigCard,action:je.c.Action.Showed,service:_e.t6.Explore}})({clock:(0,me.sample)({and:[{clock:ht,source:{origin:ke.i.outputs.$origin},fn:({origin:e},{park:t,order:n})=>({origin:e?.iata,blockOrder:n,locationType:"national_park",locationId:t?.id})}],or:{sid:"-lt1vgh"}}),payload:e=>({pageName:"main",userEvent:!1,source:null,...e})});const gt=({block:e,order:t})=>{const{park:n,poi:s}=e,{onPlaceClicked:o,onBlockShowed:a}=(0,i.useUnit)({onPlaceClicked:yt,onBlockShowed:ht}),c=(0,x.useCallback)((()=>{o({location:n,poi:s})}),[n,s,o]),l=(0,x.useCallback)((()=>{a({park:n,order:t})}),[n,t,a]),d=(0,oe.LT)(l);return n&&s?(0,r.jsx)("div",{ref:d,className:"s__kSilkyNCkcm6ht2Roffq","data-test-id":"national-park-poi",children:(0,r.jsx)(Y,{label:n.name.su,title:s.name.su,description:s.description,imageUrl:s.images[0],onClick:c})}):null};var _t=n(33350);const{createReporter:ft}=fe.I.inputs,{directionScreen:kt}=Le.A.outputs,{$origin:xt}=ke.i.outputs,{sendEvent:vt}=ve.n.inputs,{$isWayAwayBrand:bt}=xe.U.outputs,{countryScreen:jt}=_t.$.outputs,{nationalParkScreen:Ct}=rt.n.outputs,wt=(0,me.createEvent)({sid:"-jjf6xn"}),St=(0,me.createEvent)({sid:"z7ug1m"}),{nationalParkClicked:Nt,countryClicked:Et,__:Tt}=(0,me.split)({and:[wt,{nationalParkClicked:({location:e})=>e.type===je.V.LocationContentType.NationalPark,countryClicked:({location:e})=>e.type===je.V.LocationContentType.Country}],or:{sid:"-4f689e"}});(0,me.sample)({and:[{clock:Tt,fn:({location:e})=>({destination:{iata:e.iata??"",cityIata:e.iata??"",name:e.name.su??"",type:$e.A.City},analytics:{directionSource:Ie.yh.ZeroStateCityLocationsCompilation}}),target:kt.open}],or:{sid:"-4bbo7b"}}),(0,me.sample)({and:[{clock:Et,fn:({location:e})=>({country:{iata:e.iata??"",cityIata:e.iata??"",name:e.name.su??"",type:$e.A.Country},analytics:{directionSource:Ie.yh.ZeroStateCityLocationsCompilation}}),target:jt.open}],or:{sid:"-3fflsd"}}),(0,me.sample)({and:[{clock:Nt,fn:({location:e})=>({destination:{iata:e.id,name:e.name.su,type:$e.A.NationalPark}}),target:Ct.open}],or:{sid:"-2v37u0"}});const Pt=ft({data:{category:je.c.Category.ZeroState,label:je.c.Label.LocationsCompilation,service:_e.t6.Explore},payload:{origin:(0,me.combine)({and:[xt,be.Mo],or:{sid:"k179i"}}),pageName:"main",source:null,locationType:"locations_compilation"}});Pt({clock:St,data:{action:je.c.Action.Showed},payload:({order:e,id:t})=>({userEvent:!1,blockOrder:e,tagId:t})}),Pt({clock:wt,data:{action:je.c.Action.Clicked},payload:({order:e,id:t})=>({userEvent:!0,blockOrder:e,tagId:t})}),(0,me.sample)({and:[{clock:wt,filter:bt,fn:({location:e})=>({type:"open_location",name:e?.name.su}),target:vt}],or:{sid:"x44ehu"}});const It=({block:e,order:t})=>{const{locations:n,title:s}=e,{onLocationClicked:o,onBlockShowed:a}=(0,i.useUnit)({onLocationClicked:wt,onBlockShowed:St}),c=(0,x.useCallback)((()=>{a({id:e.tag,order:t})}),[e,t,a]),l=(0,oe.LT)(c);return n.length?(0,r.jsxs)(N,{ref:l,dataTestId:"locations-compilation",children:[(0,r.jsx)(N.Title,{children:s}),(0,r.jsx)(N.Slider,{children:n.map((n=>(0,r.jsx)(f,{onClick:()=>o({location:n,order:t,id:e.tag}),children:(0,r.jsx)(N.Slider.Item,{caption:n.name.su,imageUrl:n.images[0]})},n.id)))})]}):null};var Bt=n(65752),At=(n(26699),n(47047)),Mt=n(15863);const{createQueryParameterApi:Dt}=at.D.inputs,{$visibleBlocks:Rt}=Ae.mainContentPublicApi.outputs,{$enabled:$t,turnOn:Lt,turnOff:zt}=(0,me.withFactory)({sid:"-kr2qbl",fn:()=>(0,At.d)(Mt.qs,!1)}),Ot=(0,me.createEvent)({sid:"-q5vsz7"}),Ut=(0,me.createStore)(null,{sid:"-2qsbi9"}).on(Ot,((e,{compilationId:t})=>t)).reset(zt);(0,me.sample)({and:[{clock:Ot,target:Lt}],or:{sid:"7qgoia"}});const Ft=(0,me.createEvent)({sid:"-rms3g3"});(0,me.sample)({and:[{clock:Ft,fn:({place:e,source:t})=>({poi:e.poi,location:e.location,trapSource:Be.Ur.ZERO_STATE_POI_COMPILATION,poiOpenSource:"list"===t?Be.sL.poiCompilation:Be.sL.zeroState,directionSource:Ie.yh.ZeroStatePoiCompilation}),target:[Ae.mainContentPublicApi.inputs.placeClicked,zt]}],or:{sid:"7ub8nt"}});const Vt=(0,me.createEvent)({sid:"-f91i8o"}),qt=Dt({name:"poiCompilationId",clientOnly:!0}),Ht=(0,me.combine)({and:[Rt,e=>e.filter((e=>e.type===je.V.BlockType.PoiCompilation))],or:{sid:"-535768"}}),Gt=(0,me.combine)({and:[qt.$value,Ht,(e,t)=>{const n=t.map((e=>e.arkId));return e&&n.includes(e)?e:null}],or:{sid:"c48lqs"}}),Wt=(0,me.createEffect)((({element:e})=>{document.activeElement&&"blur"in document.activeElement&&document.activeElement.blur(),e?.scrollIntoView({behavior:"smooth"})}),{sid:"-9ceauo"});(0,me.sample)({and:[{clock:Vt,source:Gt,filter:(e,{compilationId:t})=>e===t,fn:(e,t)=>t,target:[Wt,Ot,qt.remove]}],or:{sid:"-uj0ujr"}});const{createReporter:Zt}=fe.I.inputs,{$origin:Qt}=ke.i.outputs,Yt=(0,me.createEvent)({sid:"-gott35"}),Jt=Zt({data:{category:je.c.Category.ZeroState,label:je.c.Label.PoiCompilation,service:_e.t6.Explore},payload:{origin:(0,me.combine)({and:[Qt,be.Mo],or:{sid:"gprbaa"}}),pageName:"main",source:null}});Jt({clock:Yt,data:{action:je.c.Action.Showed},payload:({order:e,compilationId:t},{payload:n})=>({blockOrder:e,tagId:t,...n})}),Jt({clock:Ot,data:{action:je.c.Action.Clicked},payload:({order:e,compilationId:t},{payload:n})=>({blockOrder:e,tagId:t,...n})}),Jt({clock:Ft,data:{action:je.c.Action.Clicked},payload:({order:e,compilationId:t},{payload:n})=>({blockOrder:e,tagId:t,...n})}),Zt({data:{category:je.c.Category.PoiCompilation,label:je.c.Label.Screen,action:je.c.Action.Opened,service:_e.t6.Explore},payload:{pageName:"main",userEvent:!0,source:null}})({clock:Ot,payload:({compilationId:e})=>({tagId:e})});var Kt=n(97608),Xt=n(9071),en=n(5393);const tn=({block:e,order:t,onShowModal:n,onBlockShowed:i,onPlaceClicked:s,isModalVisible:o,onCloseModal:a,activeModalArkId:c,onRender:l})=>{const{t:d}=(0,E.useTranslation)("widget_main_content"),{title:u,arkId:p,pois:m,ctaButtonText:h}=e,y=(0,x.useCallback)((()=>{i({order:t,compilationId:p})}),[p,t,i]),g=(0,x.useCallback)((()=>{n({order:t,compilationId:p})}),[p,t,n]),_=(0,oe.LT)(y),k=(0,x.useCallback)((e=>{_(e),l?.({order:t,compilationId:p,element:e})}),[_,l,p,t]);return m.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(N,{ref:k,dataTestId:"poi-compilation-collection",children:[(0,r.jsx)(N.Title,{children:u}),(0,r.jsx)(N.Slider,{children:m.map((e=>(0,r.jsx)(f,{onClick:()=>s({place:e,source:"preview",order:t,compilationId:p}),children:(0,r.jsx)(ne,{imageUrl:e.poi.images[0],name:e.poi.name.su,startDate:e.poi.startDate,location:e.location.name.su,minPrice:e.location.price})},e.poi.id)))}),(0,r.jsx)(N.Button,{onClick:g,children:h||d("poiCompilation.buttonText")})]}),(0,r.jsxs)(Kt.u,{visible:o&&c===p,onClose:a,children:[(0,r.jsxs)(Kt.u.Navigation,{children:[(0,r.jsx)(Xt.w.Title,{title:u}),(0,r.jsx)(Xt.w.RightAccessory,{children:(0,r.jsx)(en.P,{onClick:a})})]}),(0,r.jsx)(se,{children:m.map((e=>(0,r.jsx)(se.Item,{children:(0,r.jsx)(f,{onClick:()=>s({place:e,source:"list",order:t,compilationId:p}),children:(0,r.jsx)(ne,{imageUrl:e.poi.images[0],name:e.poi.name.su,location:e.location.name.su,minPrice:e.location.price,startDate:e.poi.startDate})})},e.poi.id)))})]})]}):null},nn=(0,me.withFactory)({sid:"uzjokn",fn:()=>(0,Bt.SC)({view:tn,bind:{isModalVisible:$t,onShowModal:Ot,onCloseModal:zt,onBlockShowed:Yt,onPlaceClicked:Ft,activeModalArkId:Ut,onRender:Vt}})});var sn=n(53788),on=n(65740),an=n(62423),rn=n(42177),cn=n(68621),ln=n(80911);const{$isAnyPremiumActive:dn}=cn.b.outputs,{entryPointInteracted:un}=rn.X.inputs,{navigateTo:pn}=at.D.inputs,{$links:mn}=ln.l.outputs,hn=(0,me.createEvent)({sid:"hoa5jh"}),yn=(0,me.createEvent)({sid:"-2ef0fj"}),gn=(0,me.createEvent)({sid:"hssg19"}),_n=(0,me.createEvent)({sid:"-egcr9d"});(0,me.withFactory)({sid:"-bb86ff",fn:()=>(0,on.s)({source:hn,if:dn,then:_n,else:gn})}),(0,me.sample)({and:[{clock:yn,target:_n}],or:{sid:"-b7dm9w"}}),(0,me.sample)({and:[{clock:gn,fn:()=>an.N9.MainContent,target:un}],or:{sid:"-at2yui"}});const fn=(0,me.combine)({and:[mn,e=>e.premiumProfilePage],or:{sid:"98xozj"}});(0,me.sample)({and:[{clock:_n,source:fn,fn:e=>({pathname:`${e}?source=${an.N9.MainContent}`,type:"reload"}),target:pn}],or:{sid:"-abhjuy"}});const{createReporter:kn}=fe.I.inputs,{$isWayAwayBrand:xn}=xe.U.outputs,{sendEvent:vn}=ve.n.inputs,{$origin:bn}=ke.i.outputs,{$market:jn}=sn.D.outputs,Cn=(0,me.createEvent)({sid:"-jma7z0"});kn({data:{category:je.c.Category.ZeroState,label:je.c.Label.PremiumPromo,service:_e.t6.Explore},payload:{origin:(0,me.combine)({and:[bn,be.Mo],or:{sid:"-3a565a"}}),blockOrder:(0,me.combine)({and:[(0,me.restore)(Cn,null,{sid:"-9v4vvb"}),e=>e?.order??null],or:{sid:"-tdu7eb"}}),pageName:"main",source:null}})({clock:Cn,data:{action:je.c.Action.Showed},payload:{userEvent:!1}}),kn({data:{category:je.c.Category.PremiumPurchase,label:je.c.Label.EntryPoint,action:je.c.Action.Shown,service:_e.t6.Explore},payload:{market:jn}})({clock:Cn,payload:{userEvent:!1,source:"main_screen"}}),(0,me.sample)({and:[{clock:gn,filter:xn,fn:()=>({type:"info_cashback"}),target:vn}],or:{sid:"-99tpj7"}});var wn=n(63246);const{$isWayAwayBrand:Sn,$isAviasalesBrand:Nn}=xe.U.outputs,{$isAnyPremiumActive:En,$isPremiumExpired:Tn}=cn.b.outputs,{$appNotInited:Pn}=wn.y.outputs;function In(){return(0,i.useUnit)({isWayAwayBrand:Sn,isAviasalesBrand:Nn,hasSubscription:En,isPremiumExpired:Tn,isPlaceholder:Pn,profileUrl:fn,bannerClicked:hn,expiredSubscriptionBannerClicked:yn})}const Bn=({children:e,onClick:t},n)=>(0,r.jsx)("div",{ref:n,className:"s__PtDqJWn4rHHvjXM7e0jZ",onClick:t,"data-test-id":"premium-banner",children:e}),An=(0,x.forwardRef)(Bn);var Mn=n(82576);const Dn=e=>(0,r.jsx)(j.z,{...e,mod:C.Ly.Custom,size:C.qE.M,className:o()("s__JRO382Pzkh8iEK5w3Zgc",e.className)});const Rn=({url:e})=>{const{t:t}=(0,E.useTranslation)("widget_main_content");return(0,r.jsxs)("section",{className:"s__mw1ZxobXlTWiT81yYvH7","data-test-id":"plus-summary",children:[(0,r.jsx)(v.x,{className:"s__fE197ehKupVU76r4Omt4",tag:"h2",type:b.y.Body3AllCaps,children:t("plus.myPlus")}),(0,r.jsx)(Mn.z,{className:"s__moPdHsT7Ctp4exbGbE_v"}),(0,r.jsx)(O.X,{tag:"h3",className:"s__qsmaUZIfUDpYHO4z1EeK",type:U.l.Title1Bold,mobileType:U.l.Title2Bold,children:t("plus.premiumTitle")}),(0,r.jsx)(v.x,{tag:"p",className:"s__ajGhrYyWV_CblyKGJQpz",type:b.y.Body1Paragraph,mobileType:b.y.Body2Paragraph,children:t("plus.premiumDescription")}),(0,r.jsx)(Dn,{href:e,className:"s__iKxIl6wfG_usaiUu5p0U",children:t("plus.profileLink")})]})};const $n=()=>{const{t:e}=(0,E.useTranslation)("widget_main_content");return(0,r.jsxs)("section",{className:"s__puFc982wj3Hj7NblvgNE","data-test-id":"plus-promo",children:[(0,r.jsx)(v.x,{className:"s__plCZcdXXG__hOYPO_vQk",tag:"h2",type:b.y.Body3AllCaps,children:e("plus.waPlus")}),(0,r.jsx)(Mn.z,{className:"s__YgusYFadxXgepP3KB2Hw"}),(0,r.jsx)(O.X,{tag:"h3",className:"s__qu_XLzvQOoBrRT4bNNcB",type:U.l.Title1Bold,mobileType:U.l.Title2Bold,children:e("plus.noPremiumTitle")}),(0,r.jsx)(v.x,{tag:"p",className:"s__iLo4xhcHrYHApW1gzz8a",type:b.y.Body1Paragraph,mobileType:b.y.Body2Paragraph,children:e("plus.noPremiumDescription")}),(0,r.jsx)(Dn,{className:"s__w4lytpPl7eSqYplgbAHQ",children:e("plus.openLandingButton")})]})};const Ln=({brandName:e,title:t,description:n,url:i,buttonTitle:s,testId:o})=>(0,r.jsxs)("section",{className:"s__SZbzlqEXMx4Wam0iVHEy","data-test-id":o,children:[(0,r.jsx)(v.x,{className:"s__dGNzySr1gsu2rbgz6roa",tag:"h2",type:b.y.Body3AllCaps,children:e}),(0,r.jsx)(v.x,{tag:"h3",className:"s__kCaimPEF4cOT2udtGEEQ",type:b.y.Title1Bold,children:t}),(0,r.jsx)(v.x,{tag:"p",className:"s__ebSGNbbxYGNO4CZkngDL",type:b.y.Body1Paragraph,mobileType:b.y.Body2Paragraph,children:n}),(0,r.jsx)(Dn,{href:i,className:"s__zeQY91diW67EYr1AbtCH",children:s})]}),zn=({url:e})=>{const{t:t}=(0,E.useTranslation)("widget_main_content"),n=t("more.asMore"),i=t("more.premiumTitle"),s=t("more.premiumDescriptionV1"),o=t("more.profileLink");return(0,r.jsx)(Ln,{brandName:n,title:i,description:s,buttonTitle:o,url:e,testId:"more-summary"})},On=({url:e})=>{const{t:t}=(0,E.useTranslation)("widget_main_content"),n=t("more.asMore"),i=t("more.expiredSubscription.premiumTitle"),s=t("more.expiredSubscription.premiumDescription"),o=t("more.expiredSubscription.profileLink");return(0,r.jsx)(Ln,{brandName:n,title:i,description:s,buttonTitle:o,url:e,testId:"more-expired"})};var Un=n(80871);const Fn=({onClick:e})=>{const{t:t}=(0,E.useTranslation)("widget_main_content");return(0,r.jsxs)("header",{className:"s__BRpXqXbmMrSta6aGI9vQ",children:[(0,r.jsx)(v.x,{transformOnMobile:!0,className:"s__WZ87kUkjxEOFzDpQzr4J",tag:"h2",type:b.y.Title2Bold,children:t("more.asMore")}),(0,r.jsxs)(j.z,{className:"s__gpKdt6uewuB9MYto1ytS",size:C.qE.Custom,priority:C.Ji.Tertiary,onClick:e,children:[(0,r.jsx)(j.z.Label,{type:b.y.Body1Semi,children:t("more.whatsThis")}),(0,r.jsx)(Un.i,{})]})]})};var Vn=n(40540),qn=n(9964),Hn=n(67036),Gn=n(768);const Wn=[{tKey:"more.benefits.cashbackV1",Icon:Vn.D},{tKey:"more.benefits.supportV1",Icon:qn._},{tKey:"more.benefits.guides",Icon:Hn.s},{tKey:"more.benefits.locals",Icon:Gn.Y}];const Zn=()=>{const{t:e}=(0,E.useTranslation)("widget_main_content");return(0,r.jsxs)("section",{className:"s__r6m3RPU5S2eNXnjyLdh1","data-test-id":"more-promo",children:[(0,r.jsx)("div",{className:"s__ZcDDDdKrk7hqWkcOxqu2"}),(0,r.jsx)(v.x,{type:b.y.Title3Bold,mobileType:b.y.Title4Semi,children:(0,r.jsx)("ul",{className:"s__WEmKNdMXPGoXQT3mopb3",children:Wn.map((t=>(0,r.jsx)("li",{className:"s__LOdOk3dkNTpDXjPavho_",children:(0,r.jsx)(E.Trans,{defaults:e(t.tKey),components:{icon:(0,r.jsx)(t.Icon,{className:"s__Fwk7FFTMY0Tm4C17NZeJ"})}})},t.tKey)))})}),(0,r.jsx)(Dn,{className:"s__VrrdN6xa5dwlw78OQ1cb",children:e("more.openLandingButton")})]})},Qn=({order:e})=>{const{ref:t}=function(e){const t=(0,i.useUnit)(Cn),n=(0,x.useCallback)((()=>{t({order:e})}),[e,t]);return{ref:(0,oe.LT)(n)}}(e),{hasSubscription:n,isPremiumExpired:s,bannerClicked:o,expiredSubscriptionBannerClicked:a,profileUrl:c,isWayAwayBrand:d,isAviasalesBrand:u,isPlaceholder:p}=In();return p?(0,r.jsx)(An,{children:(0,r.jsx)(l,{})}):d?(0,r.jsx)(An,{ref:t,onClick:o,children:n?(0,r.jsx)(Rn,{url:c}):(0,r.jsx)($n,{})}):u?n?(0,r.jsx)(An,{ref:t,onClick:o,children:(0,r.jsx)(zn,{url:c})}):s?(0,r.jsx)(An,{ref:t,onClick:a,children:(0,r.jsx)(On,{url:c})}):(0,r.jsxs)("div",{children:[(0,r.jsx)(Fn,{onClick:o}),(0,r.jsx)(An,{ref:t,onClick:o,children:(0,r.jsx)(Zn,{})})]}):null};var Yn,Jn,Kn,Xn,ei,ti,ni,ii;function si(){return si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},si.apply(this,arguments)}var oi=function(e){return x.createElement("svg",si({viewBox:"0 0 96 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Yn||(Yn=x.createElement("path",{d:"M93 10.5l-30 3-30-6-30 3L4.5 48 3 85.5l30-3 30 6 30-3L91.5 48 93 10.5z",fill:"#DBC39B"})),Jn||(Jn=x.createElement("path",{d:"M90 13.5l-27 3-30-6-27 3L7.5 48 6 82.5l27-3 30 6 27-3L88.5 48 90 13.5z",fill:"#83DFFF"})),Kn||(Kn=x.createElement("path",{d:"M21.315 72.135L9.255 73.47 9 79.5l12.06-1.335.255-6.03z",fill:"#E6EBEF"})),Xn||(Xn=x.createElement("path",{d:"M75.315 45.165c.06-.06.195-.18.195-.18.63-.975 2.295-.795 1.77-2.625.06.225-1.245-2.325-.99-2.64l-1.125.045c-.225-.12.555-1.83 1.005-1.125.405.645 1.05.015 1.08.855.3.105 1.425 2.07 1.605.69.12-1.02-2.19-1.62-.165-2.535 1.215-.54.555-2.73-.285-3.255-.81-.51-2.985-.375-1.185-1.935.705-.615 2.37.855 2.565-.27.12-.675.81-.84 1.35-.675.18.03.51 4.185 1.74 3.63.57-.255-.075-1.905-.405-2.085-.915-.495.12-1.425.57-1.23.12.045-.15.525-.03.525.18 0 1.14-.81 1.26-.945.03-.03-1.035-.705-1.14-.78.75-.18 1.56-.555 2.295-.03-1.26-.915-3.15-1.125-4.62-1.395-.66-.12-.96.435-1.635.345-1.05-.15-2.055-.585-3.12-.63-.78-.03-1.695.21-2.43-.24-.81-.495-1.17.495-2.04.285-.75-.18-5.73-.195-5.94-.645-.285-.63.51-.78-.645-.885-1.005-.09-1.935-.255-2.85.3-.435.27-2.31.255-2.145 1.05.315 1.59-.255 1.755-.87 1.305.315.24-1.71-2.655-1.515-1.545.075.42 1.5 1.53.03 1.335a2.483 2.483 0 01-.9-.315c-.63-.465-1.215.285-1.89.09-.885-.255-1.74.615-2.355 1.17-.57.525-1.635-.495-1.41-.69.06-.06 1.515.09 1.365-.165-.795-1.38-3.9-1.095-4.935-.375-.54.375-1.41 1.83-2.01 1.86-.93.06-.015.795-.36 1.17.6-.66 1.035.27 1.41.66.735.765 1.095-.51 1.485-.945-.93-.675.69-2.04.915-1.725.15.21-.06.765-.09.99-.105.825.81.21 1.23.465.33.195-.975.675-.915.315-.18 1.05-.195.435-.765 1.32-.6.93-2.01-.21-2.685.165-.345.195-2.4 2.085-3.015 2.055.12.06.225.135.345.21-.24 0-.465.03-.69.105a5.6 5.6 0 00.615.705c.69.735-1.875.66-2.07 1.335-.24.825.12 1.62.96 1.62 1.05.015 1.095-.57 1.62-1.305.36-.51 1.935-1.485 2.37-1.11.3.27 1.395 1.44 1.095 2.025-.195.36.69.6.9-.51.105-.6-1.305-1.095-1.395-1.905-.03-.33 1.875.975 2.07 1.575.75 2.28.87-.06.96-.09 1.62-.48.3.57 1.065 1.005.585.345 2.19-.03 2.475.795.945 2.805-4.14.75-4.125.72-.645.93-.135 1.005-1.53.54a1.78 1.78 0 01-1.185-.54c-.195-.285 0-1.26-.075-1.335-.15-.135-.795.195-.705.195-.525 0-3.39.99-3.72.3-.195.285-.345.525-.585.765l-.465.285-.075.225C39.12 43.32 37.14 46.62 38.76 49.02c1.095 1.635 2.1 2.295 3.945 1.56 1.05-.42 2.325.18 3.105.825.075.435.06.855-.075 1.275-.09.705.69 1.425.93 2.025.375.9.6 1.875.09 2.76l-.135.225c-.435 1.665 1.29 4.74 1.755 6.315.555 1.905 3.555-1.065 3.87-1.83.375-.93.84-1.485 1.005-2.52.195-1.215 1.53-1.515 1.455-2.895-.165-3.075 1.02-4.035 2.61-6.48.405-.465.12-1.17.54-1.62-2.28 2.505-5.1-4.725-5.535-6.165.15.48.915.405 1.17.81.51.795.72 1.71 1.26 2.49 1.56 2.25.99 2.595 3.705 1.2.285-.285 1.68-1.545 1.515-1.98-.06-.15-.93-1.545-.915-1.545-.57.21-1.2 1.485-1.77.435-.135-.255-.825-1.74-.435-1.95.105-.06 1.44 1.185 1.785 1.215 1.035.075 1.995.645 3.135.69.63.225 1.38 1.77 1.965 1.32.72-.54.435 1.29.54 1.56.705 1.86 1.965 4.395 2.04.675.015-1.005 1.245-1.695 1.92-2.265.945-.81 1.275.33 1.815.975.51.615 2.07 1.815 2.205 1.92.795.72 1.725 2.325 2.415.39.42-1.185-1.815-1.845-1.305-2.835.705-1.335 1.44.24 1.32.645.06-.105.135-.21.195-.315.315-.48.45-.765.435-.765z",fill:"#38A600"})),ei||(ei=x.createElement("path",{d:"M57.09 57.615l-.466.255c-.69.54-1.485 2.655-.75 3.525 1.2-.21 1.995-3.435 1.545-4.455a3.52 3.52 0 01-.33.675zM85.215 59.1c-.27-.585-.15-2.115-.69-2.49-.21-.135-.315.84-.315.87-.495 1.05-2.205 1.23-1.785-.165.45-1.485-1.575.195-1.8.45-.54.645-.57-.885-1.26-.015-.405.51-.96 1.245-1.53 1.56-.6.33-2.025.48-2.22 1.32-.165.765-.855 3.975.42 3.87.54-.045 5.16-2.07 4.59-.165.165-.015 1.02-.255 1.02-.45 0 5.01 5.955-.675 4.785-2.925-.375-.63-.9-1.17-1.215-1.86zM75.63 53.67c-.075.015-.03.015 0 0 .165-.06.675 0 .675 0 .81.42 1.275-1.485 1.23-2.055-.12-1.56-1.32-1.305-1.875.18a.495.495 0 01-.195.45c-.96 0-.105 1.5.165 1.425zM86.88 56.055l.015.015-.015-.015c-.15-.12-.945-.915-.99-.9.63-.375-2.145-1.815-2.49-1.935-.48-.165-.585 1.23-1.11.495-.135-.195-.585-1.545-.9-.765.675.48.255.885 1.185 1.095.78.225.54 1.185 1.23 1.425.9.3 1.32-.39 2.115.435.225.225 1.485.555.96.15zm-.03-.015l-.015-.015s.015 0 .015.015zM73.815 53.685c-.18-.555-.015-.045 0 0-.255-.84-1.725-3-2.73-2.895.765 1.05 1.185 3.195 2.415 3.735.81.36.135-1.425.315-.84zM32.205 52.98c.03-.54-.81-.375-.99-.15.69-.9.135-1.8-.795-2.025-.96-.24-1.38-1.395-2.325-1.665.285-.03-2.16-.525-2.04-.705-.06.09-.39.96-.42.945-.555-.45-.015-1.65-1.29-.21-.615.69-.39 1.515-.78 2.385-1.065 2.295-.84 2.97.555 5.28.54.9 2.535 1.815 2.4 2.88-.195 1.44.06 3.09.135 4.56.09 2.505.675 5.25 2.79 6.24-.375-.18-.105-3.735-.105-3.78.435.09.63-.795.51-.84 1.515.435.885-.735.63-1.395.42.705 1.725-1.485 1.77-1.62.15-.435.255-1.605.585-1.905.405-.39 1.02-.195 1.47-.585.84-.75.615-2.415.945-3.42.165-.51.885-2.31.885-2.34.225-.795-3.93-1.65-3.93-1.65zM30.39 64.215c0 .015.015.03.015.045 0 0-.015-.03-.015-.045zM22.77 49.665c-.015 0 0 0 0 0l-.015-.015.015.015s-.015 0 0 0c-.87-.795-.33-3.45-1.89-2.61.78-.435.675-2.775-.36-1.635-1.005 1.11-2.37.69-1.935-1.155.15-.6.48-1.155.93-1.53.72-.615 1.29 0 1.95-.33.51-.27 1.125-.825 1.56.015.045.09.36 1.56.69 1.305.615-.45-.315-1.47.09-2.04.555-.78 1.5-.975 2.085-1.725.585-.75 1.2-1.14 1.845-1.77.465-.45 1.17-.675 1.695-1.035-.12.12-.18.27-.09.495-.15-.405 1.755-.525 1.74-1.035-.015-.225-1.26.27-1.185-.075a2.74 2.74 0 01.495-.525c-.075.09-1.335-.165-1.335-.15.06-.6 3.21-.855 3.75-1.23.57-.39-.615-.615-.705-1.125-.21-1.2-.09-1.35-1.185-.765.42-.225-2.67-2.34-2.52-.06.075 1.125-.225.735-.9 1.245-.285.225-.225 1.14-.735.93-.45-.165-.405-.81-.075-1.08-.51-.09-2.385-.435-2.055-1.38.465-1.32 2.295-.765 2.79-2.1-.315.825 2.655-1.05 2.01-.975-.525.06-1.05.84-1.38.15-.315-.675-.255-1.095-.87-.285-.555.72-.72.81-1.56.615-.435-.105-1.95-.555-1.95.39 0-.855-2.385-.825-2.88-.885-1.605-.165-2.7 1.08-3.915-.375-1.215-1.455-6.63 1.89-6.765 1.605.135.27 1.05.135 1.035.105.21.48-3.675 1.035-1.44 1.92-.06.12-.105.24-.15.36.57.09 1.485-1.245 1.995-.87a.908.908 0 000 .285c.285.18 2.115-.3 2.73-.06 1.035.39 1.02 2.895.51 3.69-.615.99-1.725 2.67-1.56 3.945.18 1.35.885 2.04 1.275 1.77.345-.24 1.68 3.84 1.83 4.275.51.21.885.675 1.395.9.765.345 1.41.015 2.1.615.555.48 1.245.36 1.59 1.14.255.6.675.96 1.23 1.2l.3.105-.18-.255zm7.005-12.84l.045-.045-.045.045zm-7.065 12.78l.015.015s-.015 0-.015-.015zm-.12-.105c.045.03.075.06.105.09-.045-.03-.075-.06-.105-.09zm-.105-.09l.03.03c-.015-.03-.015-.03-.03-.03zM42.855 27.705c.36-.015 1.2-1.185 1.605-1.485-.075.06-1.005-.555-1.185-.57-.69-.09-1.35.24-2.04.225-1.005-.03-1.965-.255-2.985-.15-1.485.165-2.97-.39-4.41-.195-.675.09-4.83.915-3 1.71.54.225 4.98-1.065 4.935-.93-.12.21-.27.36-.465.45a1.37 1.37 0 00-1.005-.03c.51.03 1.755 1.35 1.815 1.485.81 1.74-.96.825-.6 2.28.69 2.82 1.44.42 2.4-.015.555-.255 1.17-.75 1.71-.96.675-.255 1.635.15 2.22-.345.525-.525.015-1.41 1.005-1.47z",fill:"#38A600"})),ti||(ti=x.createElement("path",{opacity:.4,d:"M33 82.5l30 6L61.5 51l-27-6L33 82.5z",fill:"#302C3B"})),ni||(ni=x.createElement("path",{opacity:.1,d:"M63 88.5l30-3L91.5 48l-30 3L63 88.5zM3 10.5L4.5 48l30-3L33 7.5l-30 3z",fill:"#302C3B"})),ii||(ii=x.createElement("path",{opacity:.3,d:"M33 7.5L34.5 45l27 6L63 13.5l-30-6z",fill:"#302C3B"})))};function ai({onClick:e,bannerShowed:t}){const{t:n}=(0,E.useTranslation)("widget_main_content"),i=(0,oe.LT)(t??(()=>null));return(0,r.jsxs)("div",{onClick:e,className:"s__VG5YGGTmaP2GOc6SeCI6",ref:i,"data-test-id":"price-map-banner",children:[(0,r.jsx)(oi,{className:"s__dsNVr0GaTTjrLi57wHmQ"}),(0,r.jsxs)("div",{className:"s__rrJMXgRYrW5KRriLbVRn",children:[(0,r.jsxs)("div",{className:"s__A79TJrIujDtO4X53QFBr",children:[(0,r.jsx)(v.x,{className:"s__TDAXtYK3QstlzLVQIH4x",tag:"h2",type:b.y.Title1Bold,mobileType:b.y.Title3Bold,transformOnMobile:!0,children:n("priceMapBanner.priceMap")}),(0,r.jsx)(v.x,{className:"s__UrYLrUXXnSRXGqjMERQu",type:b.y.Body1Regular,tag:"p",mobileType:b.y.Body2Regular,transformOnMobile:!0,children:n("priceMapBanner.description")})]}),(0,r.jsx)("div",{className:"s__wZq74Be0FxmJbbgkajdz"}),(0,r.jsx)(j.z,{className:"s__OpLDuEFfVhOXNIA797vQ",size:C.qE.M,mod:C.Ly.Custom,testId:"price-map-banner-button",children:(0,r.jsx)(v.x,{type:b.y.Body1Semi,children:n("priceMapBanner.open")})})]})]})}var ri=n(15335);const{changeDestination:ci}=ke.i.inputs,{$anywhereService:li}=ke.i.outputs,di=(0,me.createEvent)({sid:"-nu3pba"}),ui=(0,me.createEvent)({sid:"-32piak"});(0,me.sample)({and:[{clock:ui,target:he.H}],or:{sid:"-emggwp"}}),(0,me.sample)({and:[{clock:ui,source:li,target:ci}],or:{sid:"-e85thb"}});const{createReporter:pi}=fe.I.inputs,{$origin:mi}=ke.i.outputs,{$isWayAwayBrand:hi}=xe.U.outputs,{sendEvent:yi}=ve.n.inputs,{sourceSelected:gi}=ri.G.inputs,_i=(0,i.createGate)({and:[],or:{sid:"453n6z"}});pi({data:{category:je.c.Category.ZeroState,label:je.c.Label.PriceMap,service:_e.t6.Explore},payload:{origin:(0,me.combine)({and:[mi,be.Mo],or:{sid:"-wlv8qq"}}),blockOrder:_i.state,pageName:"main",source:null}})({clock:di,data:{action:je.c.Action.Showed},payload:{userEvent:!1}}),(0,me.sample)({and:[{clock:ui,fn:()=>Ie.yh.ZeroState,target:gi}],or:{sid:"-2fezsp"}}),(0,me.sample)({and:[{clock:ui,filter:hi,fn:()=>({type:"open_price_map"}),target:yi}],or:{sid:"-20kjry"}});const fi=(0,me.withFactory)({sid:"acbm0f",fn:()=>(0,Bt.SC)({view:ai,bind:{onClick:ui,bannerShowed:di}})});function ki({order:e}){return(0,i.useGate)(_i,e),(0,r.jsx)(fi,{})}const xi=(0,me.createEvent)({sid:"glifiu"}),vi=(0,me.createEvent)({sid:"epswpt"});fe.I.inputs.createReporter({data:{category:je.c.Category.ZeroState,label:je.c.Label.HotTickets,action:je.c.Action.Showed,service:_e.t6.Explore}})({clock:(0,me.sample)({and:[{clock:xi,source:{origin:ke.i.outputs.$origin},fn:({origin:e},{order:t})=>({origin:e?.iata,blockOrder:t})}],or:{sid:"-t6l386"}}),payload:e=>({userEvent:!1,...e})}),fe.I.inputs.createReporter({data:{category:je.c.Category.ZeroState,label:je.c.Label.HotTickets,action:je.c.Action.Swiped,service:_e.t6.Explore}})({clock:(0,me.sample)({and:[{clock:vi,source:{origin:ke.i.outputs.$origin},fn:({origin:e},{order:t})=>({origin:e?.iata,blockOrder:t})}],or:{sid:"-rtnef1"}}),payload:e=>({userEvent:!0,...e})});const bi={blockShowed:xi,ticketSwiped:vi};var ji=n(24926),Ci=n(72675),wi=n(78194),Si=n(40254),Ni=n(38387),Ei=n(78260);const{$isMobile:Ti}=Ni.l.outputs,{translated:Pi}=wi.J.outputs,{$isAviasalesBrand:Ii}=xe.U.outputs,{serviceParsed:Bi}=ke.i.outputs.synchronizer,Ai=(0,me.withFactory)({sid:"-rt50mg",fn:()=>(0,ji.w)({filter:Ii,then:Pi("widget_main_content:hotTickets.asDescription"),other:Pi("widget_main_content:hotTickets.description")})}),Mi=(0,me.withFactory)({sid:"yladj8",fn:()=>(0,ji.w)({filter:Ii,then:b.y.Title2Bold,other:b.y.Title1Bold})}),Di=(0,me.createEvent)({sid:"-83fax0"}),Ri=(0,me.createStore)(!1,{and:{serialize:"ignore"},sid:"-bz4a8"});(0,me.sample)({and:[{clock:Bi,filter:Si.d9,fn:()=>!0,target:Ri}],or:{sid:"-jp1fjo"}});const $i=(0,me.createEffect)((e=>{document.activeElement&&"blur"in document.activeElement&&document.activeElement.blur(),e?.scrollIntoView({behavior:"smooth"})}),{sid:"-965n1j"});(0,me.sample)({and:[{clock:Di,filter:(0,me.withFactory)({sid:"-bxrnhl",fn:()=>(0,Ci.x)(Ri,Ti)}),target:$i}],or:{sid:"-iqy6ra"}}),(0,me.sample)({and:[{clock:$i.finally,target:Ri.reinit}],or:{sid:"-innf74"}});const Li=(0,Ei.cr)("explore",{name:"hot_tickets_main_content"}),zi=(0,me.createEvent)({sid:"-evjaft"});(0,me.sample)({and:[{clock:zi,fn:e=>({msg:"Failed to render hot tickets carousel in widget main_content",extra:{error:e}}),target:Li.sendWarningLog}],or:{sid:"-i4yf0u"}});var Oi=n(72942),Ui=n(29726),Fi=n(96354);const Vi=n(52326).q.Small;var qi=n(84874);const{$isAnyPremiumActive:Hi}=cn.b.outputs,{$isWayAwayBrand:Gi}=xe.U.outputs,{$isDesktop:Wi}=Ni.l.outputs,Zi=({order:e})=>{const{ticketSwiped:t,isDesktop:n,isWayAway:s,hasPremiumSubscription:o,hotTickets:a,places:c}=(0,i.useUnit)({ticketSwiped:bi.ticketSwiped,hasPremiumSubscription:Hi,isDesktop:Wi,isWayAway:Gi,hotTickets:qi.Y,places:qi.h}),l=a.length>1,d=(0,x.useCallback)((()=>{t({order:e})}),[e,t]);return(0,r.jsx)(Ui.l,{infiniteScroll:n,slidesToShow:1,slidesGap:4,slideWidth:324,blockPadding:12,minBlockPadding:4,changeSlidesOpacity:l,showSlideOffset:!0,onSlideChange:d,showSideNavigationButtons:n,children:a.map((e=>{const t={...e,cashback:s?e.cashback:null};return(0,r.jsx)("div",{className:"s__a9wtYhpb1hwCIHMPLk7t",children:(0,r.jsx)(Fi.$,{places:c,price:t,layout:Vi,backgroundType:Oi.A.Lighten,isCashbackAvailable:o,isHoverable:n,isHeaderVisible:!0,isCalendarVisible:!0,testId:"hot-ticket",shouldShowCarriersOnTop:!0})},e.id)}))})};var Qi,Yi,Ji,Ki,Xi,es,ts,ns,is,ss,os,as,rs;function cs(){return cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cs.apply(this,arguments)}var ls=function(e){return x.createElement("svg",cs({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 130 130",fill:"none"},e),Qi||(Qi=x.createElement("linearGradient",{id:"money_with_wings_svg__a",x1:69.269,x2:125.937,y1:99.592,y2:99.592,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{offset:0,stopColor:"#ecf1f5"}),x.createElement("stop",{offset:.413,stopColor:"#e9eef3"}),x.createElement("stop",{offset:.72,stopColor:"#e0e6eb"}),x.createElement("stop",{offset:.993,stopColor:"#d0d8dd"}),x.createElement("stop",{offset:1,stopColor:"#cfd8dd"}))),Yi||(Yi=x.createElement("linearGradient",{id:"money_with_wings_svg__b",x1:4.479,x2:56.335,y1:32.399,y2:32.399,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{offset:0,stopColor:"#cfd8dd"}),x.createElement("stop",{offset:.007,stopColor:"#d0d8dd"}),x.createElement("stop",{offset:.28,stopColor:"#e0e6eb"}),x.createElement("stop",{offset:.587,stopColor:"#e9eef3"}),x.createElement("stop",{offset:1,stopColor:"#ecf1f5"}))),Ji||(Ji=x.createElement("path",{fill:"#529320",d:"M114.638 45.634C103.153 35.143 35.078 62.538 7.879 78.967c-.737 3.457-1.48 6.867-2.303 10.2 11.88 10.852 24.836 23.959 36.71 34.812 41.653-23.461 73.733-64.632 73.733-64.632-.569-4.645-.691-8.984-1.381-13.713z"})),Ki||(Ki=x.createElement("path",{fill:"#447a1b",d:"M42.46 120.868C28.01 107.252 6.081 87.09 6.081 87.09s25.494 24.503 36.3 35.167c45.262-26.518 73.216-65.62 73.216-65.62s-34.697 43.93-73.139 64.231z"})),Xi||(Xi=x.createElement("path",{fill:"#447a1b",d:"M42.63 117.772C27.416 103.484 6.776 84.709 6.776 84.709s20.335 19.667 35.779 34.424c45.675-26.374 72.662-65.66 72.662-65.66s-30.14 41.005-72.587 64.299z"})),es||(es=x.createElement("path",{fill:"#447a1b",d:"M42.843 113.929A50575.6 50575.6 0 017.538 81.8s20.116 19.228 35.224 33.614c45.232-25.316 72.12-65.74 72.12-65.74s-29.025 41.03-72.039 64.255z"})),ts||(ts=x.createElement("path",{fill:"#92c932",d:"M43.002 111.036a96067.36 96067.36 0 01-35.123-32.07c29.086-16.434 53.633-38.849 71.632-65.401a67160.1 67160.1 0 0135.127 32.07c-18.001 26.557-42.549 48.965-71.636 65.4z"})),ns||(ns=x.createElement("path",{fill:"#529320",d:"M40.225 103.695a58758.75 58758.75 0 01-23.221-21.204c.473-.278.948-.56 1.421-.84 1.567-.923 1.778-2.66.496-3.826-.382-.357-.774-.71-1.156-1.064 23.4-14.394 43.559-32.799 59.327-54.17.384.354.774.707 1.158 1.059 1.282 1.168 3.177.973 4.192-.455.305-.433.618-.872.92-1.304 7.742 7.068 15.485 14.14 23.226 21.204-.305.433-.616.865-.922 1.302-1.016 1.428-.829 3.526.455 4.698.386.358.774.713 1.16 1.059-15.763 21.37-35.927 39.78-59.33 54.181-.387-.357-.773-.713-1.157-1.07-1.278-1.162-3.583-1.337-5.141-.409l-1.428.839zM22.019 82.788c6.289 5.74 12.58 11.488 18.868 17.229 2.405-.809 5.229-.62 7.368.55C69.67 86.982 88.28 69.983 103.169 50.42c-1.281-1.948-1.495-4.528-.607-6.722A80718.463 80718.463 0 0183.69 26.465c-1.735 1.428-4.087 1.658-6.066.63-14.889 19.559-33.5 36.558-54.923 50.147 1.126 1.808.876 3.96-.682 5.546z"})),is||(is=x.createElement("path",{fill:"#529320",d:"M66.456 54.322c3.122 0 5.883 1.074 8.209 3.201 3.443 3.144 4.495 6.786 3.038 10.536-1.988 5.127-7.999 8.997-13.98 8.997-3.435 0-6.66-1.286-9.324-3.718-3.027-2.762-3.868-5.951-2.503-9.47 2.074-5.352 8.473-9.546 14.56-9.546zm0-3.047c-12.537.002-24.88 14.473-14.11 24.312 3.485 3.18 7.487 4.515 11.378 4.515 12.791 0 24.442-14.377 12.996-24.828-3.08-2.815-6.68-4-10.264-4z"})),ss||(ss=x.createElement("path",{fill:"#7ab51d",d:"M44.196 94.731c-3.492-3.187 2.655-8.31 6.144-5.12 3.764 3.436-2.38 8.555-6.144 5.12zM29.79 81.465c-3.493-3.189 2.653-8.312 6.14-5.12 3.763 3.434-2.378 8.555-6.14 5.12zm62.33-28.906c-4.394-1.751-.456-8.71 3.936-6.961 4.737 1.887.796 8.848-3.937 6.96zM77.758 38.89c-4.475-1.527-.895-8.675 3.58-7.152 4.824 1.638 1.245 8.79-3.58 7.152z"})),os||(os=x.createElement("path",{fill:"#ecf1f5",d:"M43.258 54.139s15.417 18.017 35.067 32.128c5.267-4.087 9.153-8.328 9.153-8.328-13.2-16.01-35.257-31.98-35.257-31.98-4.18 3.638-8.963 8.18-8.963 8.18z"})),as||(as=x.createElement("path",{fill:"#ffe12c",d:"M78.325 86.27L43.257 54.138l-2.16 1.834L76.07 88.171zm9.151-8.329l2.088-2.088-35.171-32.027-2.174 2.135z"})),rs||(rs=x.createElement("g",{fillRule:"evenodd",clipRule:"evenodd"},x.createElement("path",{fill:"url(#money_with_wings_svg__a)",d:"M125.937 124.627c-13.172 3.194-19.152-3.223-19.152-3.223-10.784 5.117-19.112-5.036-19.112-5.036-22.39-4.739-8.099-27.677-18.405-39.339 38.224-16.11 34.295 29.961 56.669 47.598z"}),x.createElement("path",{fill:"#b3c2c6",d:"M92.294 102.657c10.369 18.903 23.593 24.087 33.644 21.97-17.707 6.009-27.808-9.947-33.644-21.97z"}),x.createElement("path",{fill:"#b3c2c6",d:"M81.138 96.3c3.752 22.033 14.814 28.173 25.084 25.36-13.4 6.67-25.098-8.808-25.084-25.36z"}),x.createElement("path",{fill:"#b3c2c6",d:"M73.623 90.79c.077 15.101 3.351 22.107 13.901 25.55-14.515-1.84-14.5-13.083-13.901-25.55z"}),x.createElement("path",{fill:"url(#money_with_wings_svg__b)",d:"M52.975 60.734c-11.663-10.306-34.608 3.971-39.343-18.409 0 0-10.15-8.328-5.038-19.108 0 0-6.416-5.972-3.223-19.154 17.643 22.382 63.71 18.453 47.604 56.671z"}),x.createElement("path",{fill:"#b3c2c6",d:"M27.345 37.706C8.444 27.341 3.258 14.12 5.37 4.062c-6.009 17.711 9.955 27.806 21.974 33.644z"}),x.createElement("path",{fill:"#b3c2c6",d:"M33.694 48.862C11.672 45.108 5.53 34.05 8.336 23.776c-6.666 13.404 8.81 25.1 25.358 25.086z"}),x.createElement("path",{fill:"#b3c2c6",d:"M39.213 56.383c-15.102-.08-22.112-3.36-25.549-13.908 1.837 14.514 13.082 14.504 25.55 13.908z"}))))};const ds=({order:e,mobileTitle:t,description:n},i)=>{const{t:s}=(0,E.useTranslation)("widget_main_content");return(0,r.jsx)("div",{"data-test-id":"hot-tickets",className:"s__Run8Yf9kxtEFlVNWtHqa",ref:i,children:(0,r.jsxs)("div",{className:"s__UcTyqPXIqxjktTGpn5AJ",children:[(0,r.jsxs)("div",{className:"s__MvzLihEGnB8kLFYNFrip",children:[(0,r.jsxs)("div",{className:"s__Uv0ohziheb4xElvS5ZLm",children:[(0,r.jsx)(v.x,{type:b.y.Title1Bold,className:"s__qIvHWkDynODIW_0BqvIW",mobileType:t,children:s("hotTickets.title")}),(0,r.jsx)(v.x,{type:b.y.Body2Paragraph,children:n})]}),(0,r.jsx)("div",{className:"s__aGzjAUNzlBzInQu2alw_",children:(0,r.jsx)(ls,{className:"s__KFY9ulj0FJrgGidC4YBv"})})]}),(0,r.jsx)(Zi,{order:e})]})})},us=(0,x.forwardRef)(ds);function ps({order:e}){const{description:t,mobileTitle:n,blockShowed:s,onRender:o,onRenderError:a}=(0,i.useUnit)({description:Ai,mobileTitle:Mi,blockShowed:bi.blockShowed,onRender:Di,onRenderError:zi}),c=(0,x.useCallback)((()=>{s({order:e})}),[e,s]),l=(0,oe.LT)(c),d=(0,x.useCallback)((e=>{l(e),o(e)}),[l,o]);return(0,r.jsx)(oe.SV,{logError:a,children:(0,r.jsx)(us,{description:t,mobileTitle:n,order:e,ref:d})})}const{createReporter:ms}=fe.I.inputs,{$origin:hs}=ke.i.outputs,ys=(0,me.createEvent)({sid:"46irz2"}),gs=(0,me.createEvent)({sid:"54ppin"}),_s=(0,me.createEvent)({sid:"-98xdye"}),fs=ms({data:{category:je.c.Category.ZeroState,label:je.c.Label.BestDirections,service:_e.t6.Explore},payload:{origin:(0,me.combine)({and:[hs,be.Mo],or:{sid:"-n03y5r"}})}});fs({clock:ys,data:{action:je.c.Action.Showed},payload:{userEvent:!1,blockOrder:({order:e})=>e}}),fs({clock:_s,data:{action:je.c.Action.Swiped},payload:{userEvent:!0,blockOrder:({order:e})=>e}}),ms({data:{category:je.c.Category.BestDirections,label:je.c.Label.Screen,action:je.c.Action.Opened,service:_e.t6.Explore}})({clock:gs,payload:({order:e})=>({userEvent:!0,source:Ie.yh.ZeroState,blockOrder:e})});const{countryScreen:ks}=_t.$.outputs,xs=(0,me.createEvent)({sid:"-5ix01o"}),{$enabled:vs,turnOn:bs,turnOff:js}=(0,me.withFactory)({sid:"yrnk6y",fn:()=>(0,At.d)(Mt.qs,!1)});(0,me.sample)({and:[{clock:gs,target:bs}],or:{sid:"-jqpjjk"}}),(0,me.sample)({and:[{source:xs,fn:({destination:e,source:t})=>({country:{iata:e.iata??"",name:e.name??"",type:$e.A.Country},analytics:{directionSource:"list"===t?Ie.yh.BestDirections:Ie.yh.ZeroStateBestDirections}}),target:[ks.open,js]}],or:{sid:"-jcew46"}});const Cs={modal:{$isModalVisible:vs,showModal:gs,hideModal:js},onCollectionSwipe:_s,onBlockShow:ys,onPlaceItemClick:xs},{$originCity:ws,$destinations:Ss}=Ae.mainContentPublicApi.outputs.popularDestinations,{onPlaceItemClick:Ns,onCollectionSwipe:Es,onBlockShow:Ts}=Cs,{$isModalVisible:Ps,showModal:Is,hideModal:Bs}=Cs.modal,As=({order:e})=>{const{t:t}=(0,E.useTranslation)("widget_main_content"),{originCityName:n,popularDestinations:s,onPlaceClick:o,isModalVisible:a,onModalOpen:c,onCloseModal:l,onSwipe:d,onBlockShowed:u}=(0,i.useUnit)({originCityName:ws,popularDestinations:Ss,onPlaceClick:Ns,isModalVisible:Ps,onModalOpen:Is,onCloseModal:Bs,onSwipe:Es,onBlockShowed:Ts}),p=(0,x.useCallback)((()=>{u({order:e})}),[e,u]),m=(0,oe.LT)(p),h=(0,x.useCallback)((()=>{d({order:e})}),[e,d]),y=s.length>3;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(N,{ref:m,dataTestId:"popular-destinations",children:[(0,r.jsxs)(N.Title,{children:[t("popularDestinations.title"),(0,r.jsx)(v.x,{type:b.y.Title3Regular,mobileType:b.y.Title4Regular,testId:"collection-subtitle",children:(0,r.jsx)(E.Trans,{t:t,i18nKey:"popularDestinations.description",values:{cityName:n}})})]}),(0,r.jsx)(N.Slider,{onScroll:h,children:s.map(((e,t)=>(0,r.jsx)(f,{onClick:()=>o({destination:e,source:"preview"}),children:(0,r.jsx)(ne,{imageUrl:e.imageUrl,name:e.name,minPrice:e.minPrice})},e.iata+t)))}),y&&(0,r.jsx)(N.Button,{onClick:()=>c({order:e}),children:t("popularDestinations.buttonText")})]}),(0,r.jsxs)(Kt.u,{visible:a,onClose:l,children:[(0,r.jsxs)(Kt.u.Navigation,{children:[(0,r.jsx)(Xt.w.Title,{title:t("popularDestinations.modalTitle")}),(0,r.jsx)(Xt.w.RightAccessory,{children:(0,r.jsx)(en.P,{onClick:l})})]}),(0,r.jsx)(se,{children:s.map(((e,t)=>(0,r.jsx)(se.Item,{children:(0,r.jsx)(f,{onClick:()=>o({destination:e,source:"list"}),children:(0,r.jsx)(ne,{imageUrl:e.imageUrl,name:e.name,minPrice:e.minPrice})})},e.iata+t)))})]})]})};var Ms=n(2905),Ds=n.p+"822b864d7464b3ce891b.png";function Rs({link:e,onClick:t,onShow:n}){const{t:i}=(0,E.useTranslation)("widget_main_content"),s=(0,oe.LT)(n??(()=>null));return e?(0,r.jsxs)("a",{ref:s,onClick:t,className:"s__nQ7EjqFAr5k9QvkaVe4G",href:e,target:"_blank",rel:"noopener noreferrer","data-test-id":"blog-block",children:[(0,r.jsx)(v.x,{type:b.y.Title2Bold,mobileType:b.y.Title4Bold,className:"s__Olp3zv6CIeFnUTMPYplt",tag:"span",children:i("blog.wa_blog.text")}),(0,r.jsx)("img",{src:Ds,"aria-hidden":!0,className:"s__GFc2Jl5MrHQBOiUwqlZV"}),(0,r.jsx)(j.z,{priority:C.Ji.Primary,mod:C.Ly.Custom,className:"s__qL3KPKZlb5yCIaEmmsrc",size:C.qE.M,testId:"blog-button",children:i("blog.wa_blog.action")})]}):null}function $s({link:e,onClick:t,onShow:n}){const{t:i}=(0,E.useTranslation)("widget_main_content"),s=(0,oe.LT)(n??(()=>null));return e?(0,r.jsxs)("a",{ref:s,onClick:t,className:"s__REp_O9dR32L54JpLwKh0",href:e,target:"_blank",rel:"noopener noreferrer","data-test-id":"blog-block",children:[(0,r.jsx)(v.x,{type:b.y.Title1Bold,mobileType:b.y.Title2Bold,className:"s__YlQ1lW_TlntVCXPMH1X4",children:i("blog.psgr.title")}),(0,r.jsx)(v.x,{type:b.y.Body1Regular,mobileType:b.y.Body2Regular,className:"s__uuGzQkFnHqR3kK1K56vz",tag:"span",children:(0,r.jsx)(E.Trans,{t:i,i18nKey:"blog.psgr.text",components:{br:(0,r.jsx)("br",{className:"s__rTti5mbbUHimlH8tbUM9"})}})}),(0,r.jsx)(j.z,{priority:C.Ji.Primary,className:"s__tMyJMkdEdqjnHe86OHUp",size:C.qE.M,testId:"psgr-button",children:i("blog.psgr.action")})]}):null}var Ls=n(29125);const{$market:zs}=sn.D.outputs,{forBrand:Os}=xe.U.inputs,{$brand:Us}=xe.U.outputs,{createReporter:Fs}=fe.I.inputs,{$origin:Vs}=ke.i.outputs,qs=(0,me.createStore)(null,{sid:"-il7h5o"}),Hs=(0,me.createEvent)({sid:"-oj6yam"}),Gs=(0,me.createEvent)({sid:"-llz6at"}),Ws=(0,me.combine)({and:[Us,zs,(e,t)=>Os(e,{[Ms.R2]:"https://wayaway.io/blog?utm_source=wayaway.io&utm_medium=baner&utm_campaign=blog",[Ms.qb]:(0,Ls.L5)(t,{ru:"https://www.aviasales.ru/psgr?utm_source=aviasales.ru&utm_medium=baner&utm_campaign=blog&utm_content=psgr",__:null})})],or:{sid:"c10mta"}}),Zs=Fs({data:{category:je.c.Category.ZeroState,label:je.c.Label.Blog,service:_e.t6.Explore},payload:{origin:(0,me.combine)({and:[Vs,be.Mo],or:{sid:"-s0i5lk"}}),blockOrder:qs}});Zs({clock:Hs,data:{action:je.c.Action.Clicked}}),Zs({clock:Gs,data:{action:je.c.Action.Showed}});const Qs=(0,i.createGate)({and:[],or:{sid:"-gsj5gx"}});(0,me.sample)({and:[{clock:Qs.open,fn:({order:e})=>e,target:qs}],or:{sid:"-at2sl4"}});const{$brand:Ys}=xe.U.outputs,Js=(0,me.withFactory)({sid:"wqfa0z",fn:()=>(0,Bt.bU)({source:Ys,cases:{[Ms.R2]:Rs,[Ms.qb]:$s},bind:{link:Ws,onClick:Hs,onShow:Gs}})});function Ks({order:e}){return(0,i.useGate)(Qs,{order:e}),(0,r.jsx)(Js,{})}var Xs=n(89421),eo=n(57629);const to=({imageUrl:e,isMobile:t,isNight:n})=>{const i=t?94:194,s=t?106:220,o=t?3:6,a=n?"#141414":"#ffffff",c=t?"m46.4559,103.398l0.5441,0.212l0.5441,-0.212l-1.0882,0zm1.0897,-0.001l0.0025,-0.001l0.0079,-0.003l0.0278,-0.011c0.011,-0.004 0.0241,-0.009 0.0394,-0.015c0.018,-0.008 0.039,-0.016 0.063,-0.026c0.0887,-0.035 0.2178,-0.088 0.3846,-0.157c0.3337,-0.139 0.8184,-0.346 1.4326,-0.621c1.2281,-0.55 2.9755,-1.372 5.0691,-2.472c4.1837,-2.1977 9.7691,-5.5105 15.3626,-9.9702c11.1531,-8.8924 22.5649,-22.5365 22.5649,-41.1565c0,-26.1514 -20.31,-47.4643 -45.5,-47.4643c-25.19,0 -45.5,21.3129 -45.5,47.4643c0,18.62 11.4118,32.2641 22.5649,41.1565c5.5935,4.4597 11.1789,7.7725 15.3626,9.9702c2.0936,1.1 3.841,1.922 5.0691,2.472c0.6142,0.275 1.0989,0.482 1.4326,0.621c0.1668,0.069 0.2959,0.122 0.3846,0.157c0.0443,0.018 0.0786,0.032 0.1024,0.041l0.0278,0.011l0.0079,0.003l0.0025,0.001l1.0912,0z":"m95.901,215.792l1.099,0.432l1.099,-0.432l-2.198,0zm2.201,-0.002l0.005,-0.002l0.016,-0.006l0.057,-0.023l0.212,-0.085c0.183,-0.075 0.45,-0.184 0.794,-0.33c0.69,-0.29 1.691,-0.722 2.961,-1.296a186.992,186.992 0 0 0 10.479,-5.167c8.649,-4.593 20.195,-11.516 31.757,-20.836c23.06,-18.588 46.617,-47.08 46.617,-85.938c0,-54.579 -41.933,-99.107 -94,-99.107s-94,44.528 -94,99.107c0,38.858 23.557,67.35 46.617,85.938c11.562,9.32 23.108,16.243 31.757,20.836a186.82,186.82 0 0 0 10.48,5.167c1.269,0.574 2.27,1.006 2.96,1.296c0.345,0.146 0.611,0.255 0.794,0.33l0.212,0.085l0.057,0.023l0.016,0.006l0.005,0.002l2.204,0z",{imgUrl2x:l}=(0,eo.H)(e,{width:i,height:s});return(0,r.jsxs)("div",{className:"s__lgSYQYW93XrI3qC9LPoQ",style:{width:i,height:s},children:[(0,r.jsx)("div",{className:"s__TbyBJysz1J_jFJcno8MD"}),(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:s,fill:"none",children:[(0,r.jsx)("defs",{children:(0,r.jsx)("pattern",{id:"a",width:i,height:s,patternUnits:"userSpaceOnUse",children:(0,r.jsx)("image",{width:i,height:s,href:l,preserveAspectRatio:"xMinYMin slice"})})}),(0,r.jsx)("path",{fill:"url(#a)",stroke:a,strokeWidth:o,d:c})]})]})};var no=n(51717),io=n(47956),so=n(37613);const{createReporter:oo}=fe.I.inputs,{open:ao}=io.I.inputs,ro=(0,me.createStore)(null,{sid:"-tbuthf"}),co=(0,me.createEvent)({sid:"73skaj"}),lo=(0,me.createEvent)({sid:"-yt6ff6"}),uo=(0,i.createGate)({and:[],or:{sid:"vzba08"}}),po=(0,me.combine)({and:[so.FQ,e=>e.find((e=>e.type===je.V.BlockType.PromoKoroche))??null],or:{sid:"-hl8de3"}}),{$arkId:mo,$iata:ho,$title:yo,$badge:go,$imageUrl:_o,$departDate:fo}=(0,me.withFactory)({sid:"-g09k0a",fn:()=>(0,no.X)({source:po,shape:{$arkId:e=>e?.arkId??"",$iata:e=>e?.iata??"",$title:e=>e?.title??"",$badge:e=>e?.badge??null,$imageUrl:e=>e?.imageUrl??"",$departDate:e=>e?.departDate}})});(0,me.sample)({and:[{clock:lo,source:ho,fn:e=>({guideId:e,openSource:Be.Ur.ZERO_STATE_TRAP_PROMO,mapOpenSource:Be.Oj.ZERO_STATE_TRAP_PROMO}),target:ao}],or:{sid:"-un01jr"}}),(0,me.sample)({and:[{clock:uo.open,fn:({order:e})=>e,target:ro}],or:{sid:"-u4b1dh"}});const ko=oo({data:{category:je.c.Category.ZeroState,label:je.c.Label.PromoKoroche,service:_e.t6.Explore},payload:{ark_id:mo,depart_date:fo,block_order:ro}});ko({clock:lo,data:{action:je.c.Action.Clicked}}),ko({clock:co,data:{action:je.c.Action.Showed}});const{$isMobile:xo}=Ni.l.outputs,{$isNight:vo}=Xs.H.outputs,bo=(0,me.withFactory)({sid:"-jeail6",fn:()=>(0,Bt.SC)({view:to,bind:{imageUrl:_o,isMobile:xo,isNight:vo}})});var jo;function Co(){return Co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Co.apply(this,arguments)}var wo=function(e){return x.createElement("svg",Co({xmlns:"http://www.w3.org/2000/svg",width:78,height:10,fill:"none"},e),jo||(jo=x.createElement("path",{fill:"#0C131D",d:"M0 4.982a.985.985 0 01.311-.7c.195-.184.457-.286.73-.282h73.456l-2.352-2.287a.998.998 0 01-.31-.716c0-.198.06-.392.174-.557a1.02 1.02 0 01.465-.367 1.053 1.053 0 011.122.229l4.104 3.99c.192.187.3.441.3.706a.984.984 0 01-.3.705l-4.104 3.99a1.028 1.028 0 01-.73.307 1.052 1.052 0 01-.736-.292.996.996 0 01-.3-.716.974.974 0 01.315-.71l2.352-2.287H1.04a1.052 1.052 0 01-.74-.293.996.996 0 01-.3-.72z"})))};const So=({title:e,badge:t,imageUrl:n,departDate:s,order:a,onClick:c,onShow:l})=>{const{t:d}=(0,E.useTranslation)("widget_main_content"),u=(0,D.d)("ts_day_month"),p=(0,oe.LT)(l);return(0,i.useGate)(uo,{order:a}),(0,r.jsxs)("div",{"data-test-id":"promo-koroche",ref:p,className:o()("s__hCqpGKQDEoypZjUcHd36",1===a&&"s__XLrhLZgqknz3QBCI5Xts"),children:[t&&(0,r.jsxs)(H.C,{className:"s__FTMTaUBHaknbRWONWfsG",size:G.OD.M,customHexColor:t.style.backgroundColor,testId:"promo-koroche-badge",children:[t.icon&&(0,r.jsx)(H.C.Icon,{children:(0,r.jsx)("img",{src:t.icon.svg})}),s?u(s):t.text]}),(0,r.jsxs)("div",{className:"s__TUXKZovtwWalRZlPTUVK",children:[(0,r.jsx)(v.x,{type:b.y.Title1Bold,mobileType:b.y.Title3Bold,className:"s__D6mgKi_sl9bSrtm81HIW",testId:"promo-koroche-city-name",children:e}),(0,r.jsx)(v.x,{type:b.y.Body1Regular,mobileType:b.y.Body2Regular,className:"s__HckrgBA91W15FBiKzJmo",children:d("promoKoroche.description")}),(0,r.jsxs)(j.z,{className:"s__n4raeEbGsstecLWpgdbA",size:C.qE.M,mod:C.Ly.Custom,onClick:c,testId:"promo-koroche-button",children:[(0,r.jsx)(j.z.Label,{className:"s___Vl86pTGXXBkZgEsj01_",children:d("promoKoroche.buttonText")}),(0,r.jsx)(j.z.Icon,{children:(0,r.jsx)(wo,{})})]})]}),n&&(0,r.jsx)(bo,{imageUrl:n})]})},No=(0,me.withFactory)({sid:"pmd85x",fn:()=>(0,Bt.SC)({view:So,bind:{title:yo,badge:go,imageUrl:_o,departDate:fo,onClick:lo,onShow:co}})});var Eo=n(63124),To=(n(52262),n(24506),n(2437)),Po=n(37737);let Io=Wo();const Bo=e=>Vo(e,Io);let Ao=Wo();Bo.write=e=>Vo(e,Ao);let Mo=Wo();Bo.onStart=e=>Vo(e,Mo);let Do=Wo();Bo.onFrame=e=>Vo(e,Do);let Ro=Wo();Bo.onFinish=e=>Vo(e,Ro);let $o=[];Bo.setTimeout=(e,t)=>{let n=Bo.now()+t,i=()=>{let e=$o.findIndex((e=>e.cancel==i));~e&&$o.splice(e,1),Uo-=~e?1:0},s={time:n,handler:e,cancel:i};return $o.splice(Lo(n),0,s),Uo+=1,qo(),s};let Lo=e=>~(~$o.findIndex((t=>t.time>e))||~$o.length);Bo.cancel=e=>{Mo.delete(e),Do.delete(e),Ro.delete(e),Io.delete(e),Ao.delete(e)},Bo.sync=e=>{Fo=!0,Bo.batchedUpdates(e),Fo=!1},Bo.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function i(...e){t=e,Bo.onStart(n)}return i.handler=e,i.cancel=()=>{Mo.delete(n),t=null},i};let zo="undefined"!=typeof window?window.requestAnimationFrame:()=>{};Bo.use=e=>zo=e,Bo.now="undefined"!=typeof performance?()=>performance.now():Date.now,Bo.batchedUpdates=e=>e(),Bo.catch=console.error,Bo.frameLoop="always",Bo.advance=()=>{"demand"!==Bo.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Go()};let Oo=-1,Uo=0,Fo=!1;function Vo(e,t){Fo?(t.delete(e),e(0)):(t.add(e),qo())}function qo(){Oo<0&&(Oo=0,"demand"!==Bo.frameLoop&&zo(Ho))}function Ho(){~Oo&&(zo(Ho),Bo.batchedUpdates(Go))}function Go(){let e=Oo;Oo=Bo.now();let t=Lo(Oo);t&&(Zo($o.splice(0,t),(e=>e.handler())),Uo-=t),Uo?(Mo.flush(),Io.flush(e?Math.min(64,Oo-e):16.667),Do.flush(),Ao.flush(),Ro.flush()):Oo=-1}function Wo(){let e=new Set,t=e;return{add(n){Uo+=t!=e||e.has(n)?0:1,e.add(n)},delete:n=>(Uo-=t==e&&e.has(n)?1:0,e.delete(n)),flush(n){t.size&&(e=new Set,Uo-=t.size,Zo(t,(t=>t(n)&&e.add(t))),Uo+=e.size,t=e)}}}function Zo(e,t){e.forEach((e=>{try{t(e)}catch(e){Bo.catch(e)}}))}function Qo(){}const Yo={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e};function Jo(e,t){if(Yo.arr(e)){if(!Yo.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}const Ko=(e,t)=>e.forEach(t);function Xo(e,t,n){if(Yo.arr(e))for(let i=0;i<e.length;i++)t.call(n,e[i],`${i}`);else for(const i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i)}const ea=e=>Yo.und(e)?[]:Yo.arr(e)?e:[e];function ta(e,t){if(e.size){const n=Array.from(e);e.clear(),Ko(n,t)}}const na=(e,...t)=>ta(e,(e=>e(...t))),ia=()=>"undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let sa,oa,aa=null,ra=!1,ca=Qo;var la=Object.freeze({__proto__:null,get createStringInterpolator(){return sa},get to(){return oa},get colors(){return aa},get skipAnimation(){return ra},get willAdvance(){return ca},assign:e=>{e.to&&(oa=e.to),e.now&&(Bo.now=e.now),void 0!==e.colors&&(aa=e.colors),null!=e.skipAnimation&&(ra=e.skipAnimation),e.createStringInterpolator&&(sa=e.createStringInterpolator),e.requestAnimationFrame&&Bo.use(e.requestAnimationFrame),e.batchedUpdates&&(Bo.batchedUpdates=e.batchedUpdates),e.willAdvance&&(ca=e.willAdvance),e.frameLoop&&(Bo.frameLoop=e.frameLoop)}});const da=new Set;let ua=[],pa=[],ma=0;const ha={get idle(){return!da.size&&!ua.length},start(e){ma>e.priority?(da.add(e),Bo.onStart(ya)):(ga(e),Bo(fa))},advance:fa,sort(e){if(ma)Bo.onFrame((()=>ha.sort(e)));else{const t=ua.indexOf(e);~t&&(ua.splice(t,1),_a(e))}},clear(){ua=[],da.clear()}};function ya(){da.forEach(ga),da.clear(),Bo(fa)}function ga(e){ua.includes(e)||_a(e)}function _a(e){ua.splice(function(t,n){const i=t.findIndex((t=>t.priority>e.priority));return i<0?t.length:i}(ua),0,e)}function fa(e){const t=pa;for(let n=0;n<ua.length;n++){const i=ua[n];ma=i.priority,i.idle||(ca(i),i.advance(e),i.idle||t.push(i))}return ma=0,pa=ua,pa.length=0,ua=t,ua.length>0}const ka="[-+]?\\d*\\.?\\d+",xa=ka+"%";function va(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}const ba=new RegExp("rgb"+va(ka,ka,ka)),ja=new RegExp("rgba"+va(ka,ka,ka,ka)),Ca=new RegExp("hsl"+va(ka,xa,xa)),wa=new RegExp("hsla"+va(ka,xa,xa,ka)),Sa=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Na=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Ea=/^#([0-9a-fA-F]{6})$/,Ta=/^#([0-9a-fA-F]{8})$/;function Pa(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ia(e,t,n){const i=n<.5?n*(1+t):n+t-n*t,s=2*n-i,o=Pa(s,i,e+1/3),a=Pa(s,i,e),r=Pa(s,i,e-1/3);return Math.round(255*o)<<24|Math.round(255*a)<<16|Math.round(255*r)<<8}function Ba(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function Aa(e){return(parseFloat(e)%360+360)%360/360}function Ma(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function Da(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function Ra(e){let t=function(e){let t;return"number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Ea.exec(e))?parseInt(t[1]+"ff",16)>>>0:aa&&void 0!==aa[e]?aa[e]:(t=ba.exec(e))?(Ba(t[1])<<24|Ba(t[2])<<16|Ba(t[3])<<8|255)>>>0:(t=ja.exec(e))?(Ba(t[1])<<24|Ba(t[2])<<16|Ba(t[3])<<8|Ma(t[4]))>>>0:(t=Sa.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Ta.exec(e))?parseInt(t[1],16)>>>0:(t=Na.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Ca.exec(e))?(255|Ia(Aa(t[1]),Da(t[2]),Da(t[3])))>>>0:(t=wa.exec(e))?(Ia(Aa(t[1]),Da(t[2]),Da(t[3]))|Ma(t[4]))>>>0:null}(e);return null===t?e:(t=t||0,`rgba(${(4278190080&t)>>>24}, ${(16711680&t)>>>16}, ${(65280&t)>>>8}, ${(255&t)/255})`)}const $a=(e,t,n)=>{if(Yo.fun(e))return e;if(Yo.arr(e))return $a({range:e,output:t,extrapolate:n});if(Yo.str(e.output[0]))return sa(e);const i=e,s=i.output,o=i.range||[0,1],a=i.extrapolateLeft||i.extrapolate||"extend",r=i.extrapolateRight||i.extrapolate||"extend",c=i.easing||(e=>e);return e=>{const t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,i,s,o,a,r,c){let l=c?c(e):e;if(l<t){if("identity"===a)return l;"clamp"===a&&(l=t)}if(l>n){if("identity"===r)return l;"clamp"===r&&(l=n)}return i===s?i:t===n?e<=t?i:s:(t===-1/0?l=-l:n===1/0?l-=t:l=(l-t)/(n-t),l=o(l),i===-1/0?l=-l:s===1/0?l+=i:l=l*(s-i)+i,l)}(e,o[t],o[t+1],s[t],s[t+1],c,a,r,i.map)}};function La(){return La=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},La.apply(this,arguments)}const za=Symbol.for("FluidValue.get"),Oa=Symbol.for("FluidValue.observers"),Ua=e=>Boolean(e&&e[za]),Fa=e=>e&&e[za]?e[za]():e,Va=e=>e[Oa]||null;function qa(e,t){let n=e[Oa];n&&n.forEach((e=>{!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}class Ha{constructor(e){if(this[za]=void 0,this[Oa]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");Ga(this,e)}}const Ga=(e,t)=>Qa(e,za,t);function Wa(e,t){if(e[za]){let n=e[Oa];n||Qa(e,Oa,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Za(e,t){let n=e[Oa];if(n&&n.has(t)){const i=n.size-1;i?n.delete(t):e[Oa]=null,e.observerRemoved&&e.observerRemoved(i,t)}}const Qa=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Ya=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Ja=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Ka=new RegExp(`(${Ya.source})(%|[a-z]+)`,"i"),Xa=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,er=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,tr=e=>{const[t,n]=nr(e);if(!t||ia())return e;const i=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(i)return i.trim();if(n&&n.startsWith("--")){return window.getComputedStyle(document.documentElement).getPropertyValue(n)||e}return n&&er.test(n)?tr(n):n||e},nr=e=>{const t=er.exec(e);if(!t)return[,];const[,n,i]=t;return[n,i]};let ir;const sr=(e,t,n,i,s)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(i)}, ${s})`,or=e=>{ir||(ir=aa?new RegExp(`(${Object.keys(aa).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map((e=>Fa(e).replace(er,tr).replace(Ja,Ra).replace(ir,Ra))),n=t.map((e=>e.match(Ya).map(Number))),i=n[0].map(((e,t)=>n.map((e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})))).map((t=>$a(La({},e,{output:t}))));return e=>{var n;const s=!Ka.test(t[0])&&(null==(n=t.find((e=>Ka.test(e))))?void 0:n.replace(Ya,""));let o=0;return t[0].replace(Ya,(()=>`${i[o++](e)}${s||""}`)).replace(Xa,sr)}},ar="react-spring: ",rr=e=>{const t=e;let n=!1;if("function"!=typeof t)throw new TypeError(`${ar}once requires a function parameter`);return(...e)=>{n||(t(...e),n=!0)}},cr=rr(console.warn),lr=rr(console.warn);function dr(e){return Yo.str(e)&&("#"==e[0]||/\d/.test(e)||!ia()&&er.test(e)||e in(aa||{}))}const ur=ia()?x.useEffect:x.useLayoutEffect;function pr(){const e=(0,x.useState)()[1],t=(()=>{const e=(0,x.useRef)(!1);return ur((()=>(e.current=!0,()=>{e.current=!1})),[]),e})();return()=>{t.current&&e(Math.random())}}const mr=e=>(0,x.useEffect)(e,hr),hr=[];function yr(e){const t=(0,x.useRef)();return(0,x.useEffect)((()=>{t.current=e})),t.current}const gr=Symbol.for("Animated:node"),_r=e=>e&&e[gr],fr=(e,t)=>{return n=e,i=gr,s=t,Object.defineProperty(n,i,{value:s,writable:!0,configurable:!0});var n,i,s},kr=e=>e&&e[gr]&&e[gr].getPayload();class xr{constructor(){this.payload=void 0,fr(this,this)}getPayload(){return this.payload||[]}}class vr extends xr{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,Yo.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new vr(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return Yo.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,Yo.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class br extends vr{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=$a({output:[e,e]})}static create(e){return new br(e)}getValue(){let e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(Yo.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=$a({output:[this.getValue(),e]})),this._value=0,super.reset()}}const jr={dependencies:null};class Cr extends xr{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return Xo(this.source,((n,i)=>{var s;(s=n)&&s[gr]===s?t[i]=n.getValue(e):Ua(n)?t[i]=Fa(n):e||(t[i]=n)})),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Ko(this.payload,(e=>e.reset()))}_makePayload(e){if(e){const t=new Set;return Xo(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){jr.dependencies&&Ua(e)&&jr.dependencies.add(e);const t=kr(e);t&&Ko(t,(e=>this.add(e)))}}class wr extends Cr{constructor(e){super(e)}static create(e){return new wr(e)}getValue(){return this.source.map((e=>e.getValue()))}setValue(e){const t=this.getPayload();return e.length==t.length?t.map(((t,n)=>t.setValue(e[n]))).some(Boolean):(super.setValue(e.map(Sr)),!0)}}function Sr(e){return(dr(e)?br:vr).create(e)}function Nr(e){const t=_r(e);return t?t.constructor:Yo.arr(e)?wr:dr(e)?br:vr}function Er(){return Er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Er.apply(this,arguments)}const Tr=(e,t)=>{const n=!Yo.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,x.forwardRef)(((i,s)=>{const o=(0,x.useRef)(null),a=n&&(0,x.useCallback)((e=>{o.current=function(e,t){return e&&(Yo.fun(e)?e(t):e.current=t),t}(s,e)}),[s]),[r,c]=function(e,t){const n=new Set;return jr.dependencies=n,e.style&&(e=Er({},e,{style:t.createAnimatedStyle(e.style)})),e=new Cr(e),jr.dependencies=null,[e,n]}(i,t),l=pr(),d=()=>{const e=o.current;n&&!e||!1===(!!e&&t.applyAnimatedValues(e,r.getValue(!0)))&&l()},u=new Pr(d,c),p=(0,x.useRef)();ur((()=>(p.current=u,Ko(c,(e=>Wa(e,u))),()=>{p.current&&(Ko(p.current.deps,(e=>Za(e,p.current))),Bo.cancel(p.current.update))}))),(0,x.useEffect)(d,[]),mr((()=>()=>{const e=p.current;Ko(e.deps,(t=>Za(t,e)))}));const m=t.getComponentProps(r.getValue());return x.createElement(e,Er({},m,{ref:a}))}))};class Pr{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&Bo.write(this.update)}}const Ir=Symbol.for("AnimatedComponent"),Br=e=>Yo.str(e)?e:e&&Yo.str(e.displayName)?e.displayName:Yo.fun(e)&&e.name||null;function Ar(){return Ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ar.apply(this,arguments)}function Mr(e,...t){return Yo.fun(e)?e(...t):e}const Dr=(e,t)=>!0===e||!!(t&&e&&(Yo.fun(e)?e(t):ea(e).includes(t))),Rr=(e,t)=>Yo.obj(e)?t&&e[t]:e,$r=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,Lr=e=>e,zr=(e,t=Lr)=>{let n=Or;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));const i={};for(const s of n){const n=t(e[s],s);Yo.und(n)||(i[s]=n)}return i},Or=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Ur={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Fr(e){const t=function(e){const t={};let n=0;if(Xo(e,((e,i)=>{Ur[i]||(t[i]=e,n++)})),n)return t}(e);if(t){const n={to:t};return Xo(e,((e,i)=>i in t||(n[i]=e))),n}return Ar({},e)}function Vr(e){return e=Fa(e),Yo.arr(e)?e.map(Vr):dr(e)?la.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function qr(e){for(const t in e)return!0;return!1}function Hr(e){return Yo.fun(e)||Yo.arr(e)&&Yo.obj(e[0])}function Gr(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}function Wr(e,t){var n;t&&e.ref!==t&&(null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t)}Math.PI,Math.PI;const Zr=Ar({},{tension:170,friction:26},{mass:1,damping:1,easing:e=>e,clamp:!1});class Qr{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,Zr)}}function Yr(e,t){if(Yo.und(t.decay)){const n=!Yo.und(t.tension)||!Yo.und(t.friction);!n&&Yo.und(t.frequency)&&Yo.und(t.damping)&&Yo.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}const Jr=[];class Kr{constructor(){this.changed=!1,this.values=Jr,this.toValues=null,this.fromValues=Jr,this.to=void 0,this.from=void 0,this.config=new Qr,this.immediate=!1}}function Xr(e,{key:t,props:n,defaultProps:i,state:s,actions:o}){return new Promise(((a,r)=>{var c;let l,d,u=Dr(null!=(c=n.cancel)?c:null==i?void 0:i.cancel,t);if(u)h();else{Yo.und(n.pause)||(s.paused=Dr(n.pause,t));let e=null==i?void 0:i.pause;!0!==e&&(e=s.paused||Dr(e,t)),l=Mr(n.delay||0,t),e?(s.resumeQueue.add(m),o.pause()):(o.resume(),m())}function p(){s.resumeQueue.add(m),s.timeouts.delete(d),d.cancel(),l=d.time-Bo.now()}function m(){l>0&&!la.skipAnimation?(s.delayed=!0,d=Bo.setTimeout(h,l),s.pauseQueue.add(p),s.timeouts.add(d)):h()}function h(){s.delayed&&(s.delayed=!1),s.pauseQueue.delete(p),s.timeouts.delete(d),e<=(s.cancelId||0)&&(u=!0);try{o.start(Ar({},n,{callId:e,cancel:u}),a)}catch(e){r(e)}}}))}const ec=(e,t)=>1==t.length?t[0]:t.some((e=>e.cancelled))?ic(e.get()):t.every((e=>e.noop))?tc(e.get()):nc(e.get(),t.every((e=>e.finished))),tc=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),nc=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),ic=e=>({value:e,cancelled:!0,finished:!1});function sc(e,t,n,i){const{callId:s,parentId:o,onRest:a}=t,{asyncTo:r,promise:c}=n;return o||e!==r||t.reset?n.promise=(async()=>{n.asyncId=s,n.asyncTo=e;const l=zr(t,((e,t)=>"onRest"===t?void 0:e));let d,u;const p=new Promise(((e,t)=>(d=e,u=t))),m=e=>{const t=s<=(n.cancelId||0)&&ic(i)||s!==n.asyncId&&nc(i,!1);if(t)throw e.result=t,u(e),e},h=(e,t)=>{const o=new ac,a=new rc;return(async()=>{if(la.skipAnimation)throw oc(n),a.result=nc(i,!1),u(a),a;m(o);const r=Yo.obj(e)?Ar({},e):Ar({},t,{to:e});r.parentId=s,Xo(l,((e,t)=>{Yo.und(r[t])&&(r[t]=e)}));const c=await i.start(r);return m(o),n.paused&&await new Promise((e=>{n.resumeQueue.add(e)})),c})()};let y;if(la.skipAnimation)return oc(n),nc(i,!1);try{let t;t=Yo.arr(e)?(async e=>{for(const t of e)await h(t)})(e):Promise.resolve(e(h,i.stop.bind(i))),await Promise.all([t.then(d),p]),y=nc(i.get(),!0,!1)}catch(e){if(e instanceof ac)y=e.result;else{if(!(e instanceof rc))throw e;y=e.result}}finally{s==n.asyncId&&(n.asyncId=o,n.asyncTo=o?r:void 0,n.promise=o?c:void 0)}return Yo.fun(a)&&Bo.batchedUpdates((()=>{a(y,i,i.item)})),y})():c}function oc(e,t){ta(e.timeouts,(e=>e.cancel())),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}class ac extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class rc extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const cc=e=>e instanceof dc;let lc=1;class dc extends Ha{constructor(...e){super(...e),this.id=lc++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=_r(this);return e&&e.getValue()}to(...e){return la.to(this,e)}interpolate(...e){return cr(`${ar}The "interpolate" function is deprecated in v9 (use "to" instead)`),la.to(this,e)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){qa(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||ha.sort(this),qa(this,{type:"priority",parent:this,priority:e})}}const uc=Symbol.for("SpringPhase"),pc=e=>(1&e[uc])>0,mc=e=>(2&e[uc])>0,hc=e=>(4&e[uc])>0,yc=(e,t)=>t?e[uc]|=3:e[uc]&=-3,gc=(e,t)=>t?e[uc]|=4:e[uc]&=-5;class _c extends dc{constructor(e,t){if(super(),this.key=void 0,this.animation=new Kr,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Yo.und(e)||!Yo.und(t)){const n=Yo.obj(e)?Ar({},e):Ar({},t,{from:e});Yo.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(mc(this)||this._state.asyncTo)||hc(this)}get goal(){return Fa(this.animation.to)}get velocity(){const e=_r(this);return e instanceof vr?e.lastVelocity||0:e.getPayload().map((e=>e.lastVelocity||0))}get hasAnimated(){return pc(this)}get isAnimating(){return mc(this)}get isPaused(){return hc(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const i=this.animation;let{config:s,toValues:o}=i;const a=kr(i.to);!a&&Ua(i.to)&&(o=ea(Fa(i.to))),i.values.forEach(((r,c)=>{if(r.done)return;const l=r.constructor==br?1:a?a[c].lastPosition:o[c];let d=i.immediate,u=l;if(!d){if(u=r.lastPosition,s.tension<=0)return void(r.done=!0);let t=r.elapsedTime+=e;const n=i.fromValues[c],o=null!=r.v0?r.v0:r.v0=Yo.arr(s.velocity)?s.velocity[c]:s.velocity;let a;const p=s.precision||(n==l?.005:Math.min(1,.001*Math.abs(l-n)));if(Yo.und(s.duration))if(s.decay){const e=!0===s.decay?.998:s.decay,i=Math.exp(-(1-e)*t);u=n+o/(1-e)*(1-i),d=Math.abs(r.lastPosition-u)<=p,a=o*i}else{a=null==r.lastVelocity?o:r.lastVelocity;const t=s.restVelocity||p/10,i=s.clamp?0:s.bounce,c=!Yo.und(i),m=n==l?r.v0>0:n<l;let h,y=!1;const g=1,_=Math.ceil(e/g);for(let e=0;e<_&&(h=Math.abs(a)>t,h||(d=Math.abs(l-u)<=p,!d));++e)c&&(y=u==l||u>l==m,y&&(a=-a*i,u=l)),a+=(1e-6*-s.tension*(u-l)+.001*-s.friction*a)/s.mass*g,u+=a*g}else{let i=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,r.durationProgress>0&&(r.elapsedTime=s.duration*r.durationProgress,t=r.elapsedTime+=e)),i=(s.progress||0)+t/this._memoizedDuration,i=i>1?1:i<0?0:i,r.durationProgress=i),u=n+s.easing(i)*(l-n),a=(u-r.lastPosition)/e,d=1==i}r.lastVelocity=a,Number.isNaN(u)&&(console.warn("Got NaN while animating:",this),d=!0)}a&&!a[c].done&&(d=!1),d?r.done=!0:t=!1,r.setValue(u,s.round)&&(n=!0)}));const r=_r(this),c=r.getValue();if(t){const e=Fa(i.to);c===e&&!n||s.decay?n&&s.decay&&this._onChange(c):(r.setValue(e),this._onChange(e)),this._stop()}else n&&this._onChange(c)}set(e){return Bo.batchedUpdates((()=>{this._stop(),this._focus(e),this._set(e)})),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(mc(this)){const{to:e,config:t}=this.animation;Bo.batchedUpdates((()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()}))}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return Yo.und(e)?(n=this.queue||[],this.queue=[]):n=[Yo.obj(e)?e:Ar({},t,{to:e})],Promise.all(n.map((e=>this._update(e)))).then((e=>ec(this,e)))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),oc(this._state,e&&this._lastCallId),Bo.batchedUpdates((()=>this._stop(t,e))),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:i}=e;n=Yo.obj(n)?n[t]:n,(null==n||Hr(n))&&(n=void 0),i=Yo.obj(i)?i[t]:i,null==i&&(i=void 0);const s={to:n,from:i};return pc(this)||(e.reverse&&([n,i]=[i,n]),i=Fa(i),Yo.und(i)?_r(this)||this._set(n):this._set(i)),s}_update(e,t){let n=Ar({},e);const{key:i,defaultProps:s}=this;n.default&&Object.assign(s,zr(n,((e,t)=>/^on/.test(t)?Rr(e,i):e))),Cc(this,n,"onProps"),wc(this,"onProps",n,this);const o=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const a=this._state;return Xr(++this._lastCallId,{key:i,props:n,defaultProps:s,state:a,actions:{pause:()=>{hc(this)||(gc(this,!0),na(a.pauseQueue),wc(this,"onPause",nc(this,fc(this,this.animation.to)),this))},resume:()=>{hc(this)&&(gc(this,!1),mc(this)&&this._resume(),na(a.resumeQueue),wc(this,"onResume",nc(this,fc(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then((e=>{if(n.loop&&e.finished&&(!t||!e.noop)){const e=kc(n);if(e)return this._update(e,!0)}return e}))}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(ic(this));const i=!Yo.und(e.to),s=!Yo.und(e.from);if(i||s){if(!(t.callId>this._lastToId))return n(ic(this));this._lastToId=t.callId}const{key:o,defaultProps:a,animation:r}=this,{to:c,from:l}=r;let{to:d=c,from:u=l}=e;!s||i||t.default&&!Yo.und(d)||(d=u),t.reverse&&([d,u]=[u,d]);const p=!Jo(u,l);p&&(r.from=u),u=Fa(u);const m=!Jo(d,c);m&&this._focus(d);const h=Hr(t.to),{config:y}=r,{decay:g,velocity:_}=y;(i||s)&&(y.velocity=0),t.config&&!h&&function(e,t,n){n&&(Yr(n=Ar({},n),t),t=Ar({},n,t)),Yr(e,t),Object.assign(e,t);for(const t in Zr)null==e[t]&&(e[t]=Zr[t]);let{mass:i,frequency:s,damping:o}=e;Yo.und(s)||(s<.01&&(s=.01),o<0&&(o=0),e.tension=Math.pow(2*Math.PI/s,2)*i,e.friction=4*Math.PI*o*i/s)}(y,Mr(t.config,o),t.config!==a.config?Mr(a.config,o):void 0);let f=_r(this);if(!f||Yo.und(d))return n(nc(this,!0));const k=Yo.und(t.reset)?s&&!t.default:!Yo.und(u)&&Dr(t.reset,o),x=k?u:this.get(),v=Vr(d),b=Yo.num(v)||Yo.arr(v)||dr(v),j=!h&&(!b||Dr(a.immediate||t.immediate,o));if(m){const e=Nr(d);if(e!==f.constructor){if(!j)throw Error(`Cannot animate between ${f.constructor.name} and ${e.name}, as the "to" prop suggests`);f=this._set(v)}}const C=f.constructor;let w=Ua(d),S=!1;if(!w){const e=k||!pc(this)&&p;(m||e)&&(S=Jo(Vr(x),v),w=!S),(Jo(r.immediate,j)||j)&&Jo(y.decay,g)&&Jo(y.velocity,_)||(w=!0)}if(S&&mc(this)&&(r.changed&&!k?w=!0:w||this._stop(c)),!h&&((w||Ua(c))&&(r.values=f.getPayload(),r.toValues=Ua(d)?null:C==br?[1]:ea(v)),r.immediate!=j&&(r.immediate=j,j||k||this._set(c)),w)){const{onRest:e}=r;Ko(jc,(e=>Cc(this,t,e)));const i=nc(this,fc(this,c));na(this._pendingCalls,i),this._pendingCalls.add(n),r.changed&&Bo.batchedUpdates((()=>{r.changed=!k,null==e||e(i,this),k?Mr(a.onRest,i):null==r.onStart||r.onStart(i,this)}))}k&&this._set(x),h?n(sc(t.to,t,this._state,this)):w?this._start():mc(this)&&!m?this._pendingCalls.add(n):n(tc(x))}_focus(e){const t=this.animation;e!==t.to&&(Va(this)&&this._detach(),t.to=e,Va(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Ua(t)&&(Wa(t,this),cc(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Ua(e)&&Za(e,this)}_set(e,t=!0){const n=Fa(e);if(!Yo.und(n)){const e=_r(this);if(!e||!Jo(n,e.getValue())){const i=Nr(n);e&&e.constructor==i?e.setValue(n):fr(this,i.create(n)),e&&Bo.batchedUpdates((()=>{this._onChange(n,t)}))}}return _r(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,wc(this,"onStart",nc(this,fc(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Mr(this.animation.onChange,e,this)),Mr(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;_r(this).reset(Fa(e.to)),e.immediate||(e.fromValues=e.values.map((e=>e.lastPosition))),mc(this)||(yc(this,!0),hc(this)||this._resume())}_resume(){la.skipAnimation?this.finish():ha.start(this)}_stop(e,t){if(mc(this)){yc(this,!1);const n=this.animation;Ko(n.values,(e=>{e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),qa(this,{type:"idle",parent:this});const i=t?ic(this.get()):nc(this.get(),fc(this,null!=e?e:n.to));na(this._pendingCalls,i),n.changed&&(n.changed=!1,wc(this,"onRest",i,this))}}}function fc(e,t){const n=Vr(t);return Jo(Vr(e.get()),n)}function kc(e,t=e.loop,n=e.to){let i=Mr(t);if(i){const s=!0!==i&&Fr(i),o=(s||e).reverse,a=!s||s.reset;return xc(Ar({},e,{loop:t,default:!1,pause:void 0,to:!o||Hr(n)?n:void 0,from:a?e.from:void 0,reset:a},s))}}function xc(e){const{to:t,from:n}=e=Fr(e),i=new Set;return Yo.obj(t)&&bc(t,i),Yo.obj(n)&&bc(n,i),e.keys=i.size?Array.from(i):null,e}function vc(e){const t=xc(e);return Yo.und(t.default)&&(t.default=zr(t)),t}function bc(e,t){Xo(e,((e,n)=>null!=e&&t.add(n)))}const jc=["onStart","onRest","onChange","onPause","onResume"];function Cc(e,t,n){e.animation[n]=t[n]!==$r(t,n)?Rr(t[n],e.key):void 0}function wc(e,t,...n){var i,s,o,a;null==(i=(s=e.animation)[t])||i.call(s,...n),null==(o=(a=e.defaultProps)[t])||o.call(a,...n)}const Sc=["onStart","onChange","onRest"];let Nc=1;class Ec{constructor(e,t){this.id=Nc++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start(Ar({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every((e=>e.idle&&!e.isDelayed&&!e.isPaused))}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each(((t,n)=>e[n]=t.get())),e}set(e){for(const t in e){const n=e[t];Yo.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(xc(e)),this}start(e){let{queue:t}=this;return e?t=ea(e).map(xc):this.queue=[],this._flush?this._flush(this,t):(Dc(this,t),Tc(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;Ko(ea(t),(t=>n[t].stop(!!e)))}else oc(this._state,this._lastAsyncId),this.each((t=>t.stop(!!e)));return this}pause(e){if(Yo.und(e))this.start({pause:!0});else{const t=this.springs;Ko(ea(e),(e=>t[e].pause()))}return this}resume(e){if(Yo.und(e))this.start({pause:!1});else{const t=this.springs;Ko(ea(e),(e=>t[e].resume()))}return this}each(e){Xo(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,i=this._active.size>0,s=this._changed.size>0;(i&&!this._started||s&&!this._started)&&(this._started=!0,ta(e,(([e,t])=>{t.value=this.get(),e(t,this,this._item)})));const o=!i&&this._started,a=s||o&&n.size?this.get():null;s&&t.size&&ta(t,(([e,t])=>{t.value=a,e(t,this,this._item)})),o&&(this._started=!1,ta(n,(([e,t])=>{t.value=a,e(t,this,this._item)})))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}Bo.onFrame(this._onFrame)}}function Tc(e,t){return Promise.all(t.map((t=>Pc(e,t)))).then((t=>ec(e,t)))}async function Pc(e,t,n){const{keys:i,to:s,from:o,loop:a,onRest:r,onResolve:c}=t,l=Yo.obj(t.default)&&t.default;a&&(t.loop=!1),!1===s&&(t.to=null),!1===o&&(t.from=null);const d=Yo.arr(s)||Yo.fun(s)?s:void 0;d?(t.to=void 0,t.onRest=void 0,l&&(l.onRest=void 0)):Ko(Sc,(n=>{const i=t[n];if(Yo.fun(i)){const s=e._events[n];t[n]=({finished:e,cancelled:t})=>{const n=s.get(i);n?(e||(n.finished=!1),t&&(n.cancelled=!0)):s.set(i,{value:null,finished:e||!1,cancelled:t||!1})},l&&(l[n]=t[n])}}));const u=e._state;t.pause===!u.paused?(u.paused=t.pause,na(t.pause?u.pauseQueue:u.resumeQueue)):u.paused&&(t.pause=!0);const p=(i||Object.keys(e.springs)).map((n=>e.springs[n].start(t))),m=!0===t.cancel||!0===$r(t,"cancel");(d||m&&u.asyncId)&&p.push(Xr(++e._lastAsyncId,{props:t,state:u,actions:{pause:Qo,resume:Qo,start(t,n){m?(oc(u,e._lastAsyncId),n(ic(e))):(t.onRest=r,n(sc(d,t,u,e)))}}})),u.paused&&await new Promise((e=>{u.resumeQueue.add(e)}));const h=ec(e,await Promise.all(p));if(a&&h.finished&&(!n||!h.noop)){const n=kc(t,a,s);if(n)return Dc(e,[n]),Pc(e,n,!0)}return c&&Bo.batchedUpdates((()=>c(h,e,e.item))),h}function Ic(e,t){const n=Ar({},e.springs);return t&&Ko(ea(t),(e=>{Yo.und(e.keys)&&(e=xc(e)),Yo.obj(e.to)||(e=Ar({},e,{to:void 0})),Mc(n,e,(e=>Ac(e)))})),Bc(e,n),n}function Bc(e,t){Xo(t,((t,n)=>{e.springs[n]||(e.springs[n]=t,Wa(t,e))}))}function Ac(e,t){const n=new _c;return n.key=e,t&&Wa(n,t),n}function Mc(e,t,n){t.keys&&Ko(t.keys,(i=>{(e[i]||(e[i]=n(i)))._prepareNode(t)}))}function Dc(e,t){Ko(t,(t=>{Mc(e.springs,t,(t=>Ac(t,e)))}))}const Rc=["children"],$c=e=>{let{children:t}=e,n=function(e,t){if(null==e)return{};var n,i,s={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,Rc);const i=(0,x.useContext)(Lc),s=n.pause||!!i.pause,o=n.immediate||!!i.immediate;n=function(e,t){const[n]=(0,x.useState)((()=>({inputs:t,result:e()}))),i=(0,x.useRef)(),s=i.current;let o=s;return o?Boolean(t&&o.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,o.inputs))||(o={inputs:t,result:e()}):o=n,(0,x.useEffect)((()=>{i.current=o,s==n&&(n.inputs=n.result=void 0)}),[o]),o.result}((()=>({pause:s,immediate:o})),[s,o]);const{Provider:a}=Lc;return x.createElement(a,{value:n},t)},Lc=(zc=$c,Oc={},Object.assign(zc,x.createContext(Oc)),zc.Provider._context=zc,zc.Consumer._context=zc,zc);var zc,Oc;$c.Provider=Lc.Provider,$c.Consumer=Lc.Consumer;const Uc=()=>{const e=[],t=function(t){lr(`${ar}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);const i=[];return Ko(e,((e,s)=>{if(Yo.und(t))i.push(e.start());else{const o=n(t,e,s);o&&i.push(e.start(o))}})),i};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){const n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){return Ko(e,(e=>e.pause(...arguments))),this},t.resume=function(){return Ko(e,(e=>e.resume(...arguments))),this},t.set=function(t){Ko(e,(e=>e.set(t)))},t.start=function(t){const n=[];return Ko(e,((e,i)=>{if(Yo.und(t))n.push(e.start());else{const s=this._getProps(t,e,i);s&&n.push(e.start(s))}})),n},t.stop=function(){return Ko(e,(e=>e.stop(...arguments))),this},t.update=function(t){return Ko(e,((e,n)=>e.update(this._getProps(t,e,n)))),this};const n=function(e,t,n){return Yo.fun(e)?e(n,t):e};return t._getProps=n,t};function Fc(e,t,n){const i=Yo.fun(t)&&t;i&&!n&&(n=[]);const s=(0,x.useMemo)((()=>i||3==arguments.length?Uc():void 0),[]),o=(0,x.useRef)(0),a=pr(),r=(0,x.useMemo)((()=>({ctrls:[],queue:[],flush(e,t){const n=Ic(e,t);return o.current>0&&!r.queue.length&&!Object.keys(n).some((t=>!e.springs[t]))?Tc(e,t):new Promise((i=>{Bc(e,n),r.queue.push((()=>{i(Tc(e,t))})),a()}))}})),[]),c=(0,x.useRef)([...r.ctrls]),l=[],d=yr(e)||0;function u(e,n){for(let s=e;s<n;s++){const e=c.current[s]||(c.current[s]=new Ec(null,r.flush)),n=i?i(s,e):t[s];n&&(l[s]=vc(n))}}(0,x.useMemo)((()=>{Ko(c.current.slice(e,d),(e=>{Gr(e,s),e.stop(!0)})),c.current.length=e,u(d,e)}),[e]),(0,x.useMemo)((()=>{u(0,Math.min(d,e))}),n);const p=c.current.map(((e,t)=>Ic(e,l[t]))),m=(0,x.useContext)($c),h=yr(m),y=m!==h&&qr(m);ur((()=>{o.current++,r.ctrls=c.current;const{queue:e}=r;e.length&&(r.queue=[],Ko(e,(e=>e()))),Ko(c.current,((e,t)=>{null==s||s.add(e),y&&e.start({default:m});const n=l[t];n&&(Wr(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),mr((()=>()=>{Ko(r.ctrls,(e=>e.stop(!0)))}));const g=p.map((e=>Ar({},e)));return s?[g,s]:g}let Vc;!function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"}(Vc||(Vc={}));class qc extends dc{constructor(e,t){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=$a(...t);const n=this._get(),i=Nr(n);fr(this,i.create(n))}advance(e){const t=this._get();Jo(t,this.get())||(_r(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Gc(this._active)&&Wc(this)}_get(){const e=Yo.arr(this.source)?this.source.map(Fa):ea(Fa(this.source));return this.calc(...e)}_start(){this.idle&&!Gc(this._active)&&(this.idle=!1,Ko(kr(this),(e=>{e.done=!1})),la.skipAnimation?(Bo.batchedUpdates((()=>this.advance())),Wc(this)):ha.start(this))}_attach(){let e=1;Ko(ea(this.source),(t=>{Ua(t)&&Wa(t,this),cc(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))})),this.priority=e,this._start()}_detach(){Ko(ea(this.source),(e=>{Ua(e)&&Za(e,this)})),this._active.clear(),Wc(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=ea(this.source).reduce(((e,t)=>Math.max(e,(cc(t)?t.priority:0)+1)),0))}}function Hc(e){return!1!==e.idle}function Gc(e){return!e.size||Array.from(e).every(Hc)}function Wc(e){e.idle||(e.idle=!0,Ko(kr(e),(e=>{e.done=!0})),qa(e,{type:"idle",parent:e}))}la.assign({createStringInterpolator:or,to:(e,t)=>new qc(e,t)}),ha.advance;var Zc=n(73935);function Qc(e,t){if(null==e)return{};var n,i,s={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(s[n]=e[n]);return s}const Yc=["style","children","scrollTop","scrollLeft"],Jc=/^--/;function Kc(e,t){return null==t||"boolean"==typeof t||""===t?"":"number"!=typeof t||0===t||Jc.test(e)||el.hasOwnProperty(e)&&el[e]?(""+t).trim():t+"px"}const Xc={};let el={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const tl=["Webkit","Ms","Moz","O"];el=Object.keys(el).reduce(((e,t)=>(tl.forEach((n=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(n,t)]=e[t])),e)),el);const nl=["x","y","z"],il=/^(matrix|translate|scale|rotate|skew)/,sl=/^(translate)/,ol=/^(rotate|skew)/,al=(e,t)=>Yo.num(e)&&0!==e?e+t:e,rl=(e,t)=>Yo.arr(e)?e.every((e=>rl(e,t))):Yo.num(e)?e===t:parseFloat(e)===t;class cl extends Cr{constructor(e){let{x:t,y:n,z:i}=e,s=Qc(e,nl);const o=[],a=[];(t||n||i)&&(o.push([t||0,n||0,i||0]),a.push((e=>[`translate3d(${e.map((e=>al(e,"px"))).join(",")})`,rl(e,0)]))),Xo(s,((e,t)=>{if("transform"===t)o.push([e||""]),a.push((e=>[e,""===e]));else if(il.test(t)){if(delete s[t],Yo.und(e))return;const n=sl.test(t)?"px":ol.test(t)?"deg":"";o.push(ea(e)),a.push("rotate3d"===t?([e,t,i,s])=>[`rotate3d(${e},${t},${i},${al(s,n)})`,rl(s,0)]:e=>[`${t}(${e.map((e=>al(e,n))).join(",")})`,rl(e,t.startsWith("scale")?1:0)])}})),o.length&&(s.transform=new ll(o,a)),super(s)}}class ll extends Ha{constructor(e,t){super(),this._value=null,this.inputs=e,this.transforms=t}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return Ko(this.inputs,((n,i)=>{const s=Fa(n[0]),[o,a]=this.transforms[i](Yo.arr(s)?s:n.map(Fa));e+=" "+o,t=t&&a})),t?"none":e}observerAdded(e){1==e&&Ko(this.inputs,(e=>Ko(e,(e=>Ua(e)&&Wa(e,this)))))}observerRemoved(e){0==e&&Ko(this.inputs,(e=>Ko(e,(e=>Ua(e)&&Za(e,this)))))}eventObserved(e){"change"==e.type&&(this._value=null),qa(this,e)}}const dl=["scrollTop","scrollLeft"];la.assign({batchedUpdates:Zc.unstable_batchedUpdates,createStringInterpolator:or,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});const ul=((e,{applyAnimatedValues:t=(()=>!1),createAnimatedStyle:n=(e=>new Cr(e)),getComponentProps:i=(e=>e)}={})=>{const s={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:i},o=e=>{const t=Br(e)||"Anonymous";return(e=Yo.str(e)?o[e]||(o[e]=Tr(e,s)):e[Ir]||(e[Ir]=Tr(e,s))).displayName=`Animated(${t})`,e};return Xo(e,((t,n)=>{Yo.arr(e)&&(n=Br(t)),o[n]=o(t)})),{animated:o}})(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,i=t,{style:s,children:o,scrollTop:a,scrollLeft:r}=i,c=Qc(i,Yc),l=Object.values(c),d=Object.keys(c).map((t=>n||e.hasAttribute(t)?t:Xc[t]||(Xc[t]=t.replace(/([A-Z])/g,(e=>"-"+e.toLowerCase())))));void 0!==o&&(e.textContent=o);for(let t in s)if(s.hasOwnProperty(t)){const n=Kc(t,s[t]);Jc.test(t)?e.style.setProperty(t,n):e.style[t]=n}d.forEach(((t,n)=>{e.setAttribute(t,l[n])})),void 0!==a&&(e.scrollTop=a),void 0!==r&&(e.scrollLeft=r)},createAnimatedStyle:e=>new cl(e),getComponentProps:e=>Qc(e,dl)}),pl=ul.animated,ml={maxTilt:25,rotationPower:50,swipeThreshold:.5},hl={touchResponsive:{friction:50,tension:2e3},animateOut:{friction:30,tension:400},animateBack:{friction:10,tension:200}},yl=(e,t)=>Math.sqrt(e**2+t**2),gl=async(e,t,n,i)=>{const s=yl(n??0,i??0),o=yl(e.x,e.y),a=s*e.x,r=s*e.y,c=45*e.x,l=s/o;return t.start({xyrot:[a,r,c],config:{duration:l}}),new Promise((e=>{setTimeout((()=>{e()}),l)}))},_l=(e,t=!1)=>new Promise((n=>{e.start({xyrot:[0,0,0],config:t?{duration:0}:hl.animateBack,onRest:n})})),fl=e=>{if(Math.abs(e.x)>Math.abs(e.y)){if(e.x>ml.swipeThreshold)return"right";if(e.x<-ml.swipeThreshold)return"left"}return e.y>ml.swipeThreshold?"down":e.y<-ml.swipeThreshold?"up":"none"},kl=pl.div,xl=(0,x.forwardRef)((({flickOnSwipe:e=!0,children:t,onSwipe:n,onInteractionEnd:i,onInteractionStart:s,onCardLeftScreen:o,preventSwipe:a=[],swipeRequirementType:r="velocity",swipeThreshold:c=ml.swipeThreshold,onSwipeRequirementFulfilled:l,onSwipeRequirementUnfulfilled:d,noMouseInteration:u,noTouchInteration:p},m)=>{const h=(0,x.useRef)(null),{width:y,height:g}=function(){const[e,t]=(0,x.useState)({width:void 0,height:void 0});return(0,x.useEffect)((()=>{function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]),e}(),[{xyrot:_},f]=function(e,t){const n=Yo.fun(e),[[i],s]=Fc(1,n?e:[e],n?t||[]:t);return n||2==arguments.length?[i,s]:i}((()=>({xyrot:[0,0,0],config:hl.touchResponsive})));ml.swipeThreshold=c,(0,x.useImperativeHandle)(m,(()=>({async swipe(e="right"){n&&n(e);const t=(Math.random()-.5)/2;"right"===e?await gl({x:1.3,y:t},f,y,g):"left"===e?await gl({x:-1.3,y:t},f,y,g):"up"===e?await gl({x:t,y:-1.3},f,y,g):"down"===e&&await gl({x:t,y:1.3},f,y,g),o&&o(e)},async restoreCard(){await _l(f,!0)}})));const k=(0,x.useCallback)((async(t,i)=>{const s=fl({x:"velocity"===r?i.vx:i.dx,y:"velocity"===r?i.vy:i.dy});if("none"!==s&&e&&!a.includes(s))return n&&n(s),await gl("velocity"===r?{x:i.vx,y:i.vy}:(e=>{const t=yl(e.x,e.y);return{x:e.x/t,y:e.y/t}})({x:i.dx,y:i.dy}),t,y,g),void(o&&o(s));_l(t)}),[r,e,a,n,o,y,g]);let v="none";const b=(e,t,n,i)=>{let s=i?e.touches[0].clientX-t.x:e.clientX-t.x,o=i?e.touches[0].clientY-t.y:e.clientY-t.y;return 0===t.x&&0===t.y&&(s=0,o=0),{dx:s,dy:o,vx:-(s-n.dx)/(n.timeStamp-Date.now()),vy:-(o-n.dy)/(n.timeStamp-Date.now()),timeStamp:Date.now()}};return(0,Po.L)((()=>{let e={x:0,y:0},t={dx:0,dy:0,vx:0,vy:0,timeStamp:Date.now()},n=!1;const o=n=>{if(p)return;s?.();const i=b(n,e,t,!0);t=i,e={x:n.touches[0].clientX,y:n.touches[0].clientY}};h.current?.addEventListener("touchstart",o);const a=i=>{if(u)return;s?.(),n=!0;const o=b(i,e,t,!1);t=o,e={x:i.clientX,y:i.clientY}};h.current?.addEventListener("mousedown",a);const c=e=>{if(l||d){const t=fl({x:"velocity"===r?e.vx:e.dx,y:"velocity"===r?e.vy:e.dy});t!==v&&(v=t,"none"===v?d&&d():l&&l(t))}let t=15*e.vx;Number.isNaN(t)&&(t=0),t=Math.max(Math.min(t,ml.maxTilt),-ml.maxTilt),f.start({xyrot:[e.dx,e.dy,t],config:hl.touchResponsive})},m=i=>{if(u)return;if(!n)return;const s=b(i,e,t,!1);t=s,c(s)};window.addEventListener("mousemove",m);const y=()=>{u||(i?.(),n&&(n=!1,k(f,t),e={x:0,y:0},t={dx:0,dy:0,vx:0,vy:0,timeStamp:Date.now()}))};window.addEventListener("mouseup",y);const g=n=>{if(p)return;const i=b(n,e,t,!0);t=i,c(i)};h.current?.addEventListener("touchmove",g);const _=()=>{p||(i?.(),k(f,t),e={x:0,y:0},t={dx:0,dy:0,vx:0,vy:0,timeStamp:Date.now()})};return h.current?.addEventListener("touchend",_),()=>{h.current?.removeEventListener("touchstart",o),h.current?.removeEventListener("touchmove",g),h.current?.removeEventListener("touchend",_),window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",y),h.current?.removeEventListener("mousedown",a)}}),[k,f,l,d,u,p,s,i]),(0,x.createElement)(kl,{ref:h,style:{transform:_.to(((e,t,n)=>`translate3d(${e}px, ${t}px, 0px) rotate(${n}deg)`))}},t)})),{$isPageHidden:vl}=wn.y.outputs;function bl(e){return Array(e).fill(0).map((e=>(0,x.createRef)()))}var jl=n(75241),Cl="s__pMGk28aZpKdDxGUYOUNW",wl="s__Dbb8nOOjRQmkXbadZIc5";const Sl=({ticket:e,onTicketClick:t})=>{const n=(0,D.d)("ts_day_month_short_weekday"),i=(0,D.d)("interval_day_month_short_weekday"),s=(0,D.d)("price_short"),{imgUrl:o,imgUrl2x:a,imgUrl3x:c}=(0,eo.H)(e.imageUrl,{width:115,height:115}),l=(0,jl.fi)({priceLink:e.ticketLink,params:{requestSource:Ie.MJ.WeekendsPrices}}),d=e.dates.returnDate?i(new To.Xp({start:e.dates.departDate,end:e.dates.returnDate})):n(e.dates.departDate);return(0,r.jsxs)("a",{className:"s__wI_SGzhkCfpoqhFsufHI",target:"_blank",rel:"noopener noreferrer",href:l,onClick:t,"data-test-id":"weekends-ticket-link",children:[(0,r.jsx)("img",{className:"s__ijcH7nmm8M9E1xyNhz9b",src:o,srcSet:`${o} 1x, ${a} 2x, ${c} 3x`}),(0,r.jsxs)("div",{className:"s__WMEXuUE4EwOBLkMF7ER1",children:[(0,r.jsx)(v.x,{type:b.y.Title3Bold,className:"s__PO_N4gpJdZOU9W0XBC_x",children:s({value:e.price.value,currency:e.price.currency.toUpperCase()})}),(0,r.jsxs)(v.x,{type:b.y.Body2Bold,className:"s__GWqP_N8UTZJ_ZHgyprUR",children:[(0,r.jsxs)("span",{className:"s__flDRKsvbju6hUh9bvAed",children:[(0,r.jsx)("span",{className:wl,children:e.originCityName}),(0,r.jsx)("span",{className:"s__uGeE1cHuLHNQfVVxzaFJ",children:"â€”"})]}),(0,r.jsx)("span",{className:wl,children:e.destinationCityName})]}),(0,r.jsx)(v.x,{type:b.y.Body2Regular,className:"s__tLte1isiytHArCc9kZZA",children:d})]})]})},Nl=({items:e,onTicketClick:t,onRenderError:n})=>{const s=(0,x.useCallback)((e=>n({message:"TicketsView render error",payload:e})),[n]),o=e.slice(0,-1),a=e.at(-1),{containerRef:c,childRefs:l,onInteractionEnd:d,onInteractionStart:u,onSwipe:p}=function({itemsLength:e,timeout:t,enabled:n}){const s=(0,i.useUnit)(vl),[o,a]=(0,Ze.YD)({threshold:1}),r=(0,x.useRef)(!1),c=(0,x.useRef)(e-1),l=(0,x.useRef)(bl(e)),d=(0,x.useRef)(null),u=(0,x.useCallback)((async()=>{r.current||(c.current>=0&&c.current<e?await(l.current.at(c.current)?.current?.swipe("right")):(c.current=e-1,await Promise.all(l.current.map((e=>e.current?.restoreCard())))),d.current&&clearTimeout(d.current),d.current=setTimeout(u,t))}),[e,t]);(0,x.useEffect)((()=>(d.current&&clearTimeout(d.current),n&&!s&&a?(d.current=setTimeout(u,t),()=>{d.current&&clearTimeout(d.current)}):()=>null)),[t,u,n,s,a]),(0,x.useEffect)((()=>{c.current=e-1,l.current=bl(e)}),[e]);const p=(0,x.useCallback)((()=>{r.current=!0,d.current&&clearTimeout(d.current)}),[]),m=(0,x.useCallback)((()=>{r.current=!1,d.current=setTimeout(u,t)}),[u,t]),h=(0,x.useCallback)((()=>{c.current=(c?.current??1)-1}),[]);return{containerRef:o,childRefs:l,onInteractionStart:p,onInteractionEnd:m,onSwipe:h}}({itemsLength:o.length,timeout:2e3,enabled:e.length>=3});return(0,r.jsx)(oe.SV,{logError:s,children:(0,r.jsxs)("div",{className:"s__Q75WrIG3de5auMg8d3ED",children:[(0,r.jsxs)("div",{className:"s__rnANgDbQ0JdG1MqMIea5",ref:c,children:[(0,r.jsx)("div",{className:"weekends-ticket",children:(0,r.jsx)(Sl,{ticket:a,onTicketClick:t})}),o.map(((e,n)=>(0,r.jsx)(xl,{ref:l.current[n],onInteractionEnd:d,onInteractionStart:u,onSwipe:p,preventSwipe:["down","up"],noMouseInteration:!0,noTouchInteration:!0,children:(0,r.jsx)(Sl,{ticket:e,onTicketClick:t})},e.id)))]}),(0,r.jsx)("div",{className:Cl}),(0,r.jsx)("div",{className:Cl})]})})};n(21703);var El,Tl=n(40038);!function(e){e.Ticket="ticket",e.Button="service"}(El||(El={}));const{weekendsScreen:Pl}=Tl.L.outputs,{$origin:Il,$weekendsService:Bl}=ke.i.outputs,{createReporter:Al}=fe.I.inputs,Ml=(0,me.createStore)(null,{sid:"j7xzdx"}),Dl=(0,me.createEvent)({sid:"-xbcw2l"}),Rl=(0,me.createEvent)({sid:"es68mo"}),$l=(0,me.createEvent)({sid:"-apei4r"}),Ll=(0,i.createGate)({and:[],or:{sid:"e1yv68"}}),zl=(0,Ei.cr)("explore",{name:"main_content#weekends"}),Ol=(0,me.createEvent)({sid:"gk43x"});(0,me.sample)({and:[{clock:Ol,fn:({message:e,payload:t})=>({error:new Error(e),extra:{payload:t}}),target:zl.sendErrorLog}],or:{sid:"-g76v08"}});const Ul=(0,me.combine)({and:[so.FQ,e=>e.find((e=>e.type===je.V.BlockType.Weekends))??null],or:{sid:"-vhnm0w"}}),Fl=(0,me.combine)({and:[Ul,e=>e?.places??null],or:{sid:"b9dx8i"}});(0,me.sample)({and:[{clock:Rl,source:Bl,fn:e=>({service:e,analytics:{directionSource:Ie.yh.ZeroState}}),target:Pl.open}],or:{sid:"-f93m7u"}}),(0,me.sample)({and:[{clock:Ll.open,fn:({order:e})=>e,target:Ml}],or:{sid:"-eputg7"}});const Vl=Al({data:{category:je.c.Category.ZeroState,label:je.c.Label.Weekends,service:_e.t6.Explore},payload:{origin:(0,me.combine)({and:[Il,be.Mo],or:{sid:"-igakgh"}}),block_order:Ml}});Vl({clock:Rl,data:{action:je.c.Action.Clicked},payload:{type:El.Button}}),Vl({clock:$l,data:{action:je.c.Action.Clicked},payload:{type:El.Ticket}}),Vl({clock:Dl,data:{action:je.c.Action.Showed}});const ql=({items:e,onButtonClick:t,onTicketClick:n,onRenderError:s,onShow:o,order:a})=>{const{t:c}=(0,E.useTranslation)("widget_main_content"),l=(0,oe.LT)(o);return(0,i.useGate)(Ll,{order:a}),e?(0,r.jsxs)("div",{ref:l,className:"s__kkob8SSNdYmV50hI3Oia",children:[(0,r.jsx)(Eo.I,{className:"s__OxlDklVl9RhJLHfWxNLs"}),(0,r.jsxs)("div",{className:"s__lSJTmET8i_mEhW_QivT_","data-test-id":"weekends-block",children:[(0,r.jsx)(v.x,{type:b.y.Title1Bold,mobileType:b.y.Title3Bold,className:"s__aOI7ecsVlYMEg1Jy3L2Y",children:c("weekends.title")}),(0,r.jsx)(v.x,{type:b.y.Body1Regular,className:"s__Zf_9Qiai0j0VI8xVIyvA",children:c("weekends.description")}),(0,r.jsx)(j.z,{className:"s__iQO2XVfzn_HgJCiBGfs1",size:C.qE.M,onClick:t,testId:"select-city-button",children:c("weekends.buttonText")}),(0,r.jsx)(Nl,{items:e,onTicketClick:n,onRenderError:s})]})]}):null},Hl=(0,me.withFactory)({sid:"-9rjuml",fn:()=>(0,Bt.SC)({view:ql,bind:{items:Fl,onButtonClick:Rl,onTicketClick:$l,onShow:Dl,onRenderError:Ol}})});var Gl=n(96864);const{$isAnyPremium:Wl}=cn.b.outputs,{$links:Zl}=ln.l.outputs,{navigateTo:Ql}=at.D.inputs,{entryPointInteracted:Yl}=rn.X.inputs,Jl=(0,me.createEvent)({sid:"-vr4yed"}),Kl=(0,me.createEvent)({sid:"quaj5g"}),Xl=(0,me.createEvent)({sid:"ax9yxc"});(0,me.sample)({and:[{clock:Kl,fn:()=>an.N9.ExplorePromo,target:Yl}],or:{sid:"-n2q4zc"}}),(0,me.sample)({and:[{clock:Xl,source:Zl,fn:e=>({type:"reload",pathname:`${e.premiumProfilePage}?source=${an.N9.ExplorePromo}`}),target:Ql}],or:{sid:"-mnvoyl"}}),(0,me.withFactory)({sid:"-m6u2ke",fn:()=>(0,on.s)({source:Jl,if:Wl,then:Xl,else:Kl})});const{$userLoggedIn:ed}=Gl.W.outputs,td=K().bind({info:"s__tmplEMRLLgw54zz3GrW6",title:"s__v283HH0ynsRpGa5YKKOF",text:"s__LNGwy04Qhy5o6gf6zxwj",button:"s__S247z16F51EMYUGkViLh"}),nd=()=>{const{t:e}=(0,E.useTranslation)("widget_main_content"),{loggedIn:t,onButtonClick:n}=(0,i.useUnit)({loggedIn:ed,onButtonClick:Jl}),s=t?"logged":"unlogged";return(0,r.jsxs)("div",{className:td("info"),children:[(0,r.jsx)(v.x,{tag:"h2",className:td("title"),type:b.y.Title2Bold,mobileType:b.y.Title3Bold,pretty:!0,children:e(`myCashback.${s}.title`)}),(0,r.jsx)(v.x,{tag:"p",className:td("text"),type:b.y.Body1Regular,mobileType:b.y.Body2Regular,pretty:!0,children:e(`myCashback.${s}.text`)}),(0,r.jsx)(j.z,{className:td("button"),mod:C.Ly.More,size:C.qE.M,onClick:n,children:e(`myCashback.${s}.button`)})]})};var id=n(22026);const sd=[{id:"yesim",percent:"8",title:"Yesim"},{id:"cars",percent:"3",title:"Rentalcars"},{id:"tickets",percent:"5",title:"Tickets"},{id:"booking",percent:"5",title:"Booking.com"},{id:"kiwi",percent:"5",title:"KiwiTaxi"}],od=[{id:"hotel",type:"hotel_gradient"},{id:"wallet",type:"wallet_gradient"},{id:"percent",type:"percent_gradient"}],ad=K().bind({partners:"s__HxwKKSx8hZDpeJPF0Ads",partner:"s__v6Q44d70ydIqcIJNz6s8",yesim:"s___J3eX4SgQCEUyWQNHsAm",cars:"s__JIXh0c3_c2ENFrAjyZ0r",tickets:"s__PHR69t_gkCIXe_GxtA28",booking:"s__g1bfyj8wIB9XPqHkA5ZA",kiwi:"s__EfTwdeXQnMdAaVOwvYgR",percent:"s__iy1xY3vymoos0b0Z4UHj",title:"s__yJyZdy9M5x5VAm0MR_S4",icon:"s__gioERYJuW89toN1RPPWb",hotel:"s__lNQapGhKxOYfuwJYChiI",wallet:"s__sUqM3w47gVl091oMtyss"}),rd=()=>(0,r.jsxs)("div",{className:ad("partners"),children:[sd.map((e=>(0,r.jsxs)("div",{className:ad("partner",[e.id]),children:[(0,r.jsxs)(v.x,{tag:"h4",className:ad("percent"),type:b.y.Title4Bold,mobileType:b.y.Body1Bold,children:[e.percent,"%"]}),(0,r.jsx)(v.x,{tag:"p",className:ad("title"),type:b.y.Body3Regular,children:e.title})]},e.id))),od.map((e=>(0,r.jsx)(id.T,{className:ad("icon",[e.id]),name:e.type,type:"gradient"},e.id)))]}),cd=K().bind({wrapper:"s__TEh7L5YadP3QIQ_PF7vi",banner:"s__e3v73Kl1ht9NCOGCZLQS"}),ld=()=>(0,r.jsx)("div",{className:cd("wrapper"),children:(0,r.jsxs)("div",{className:cd("banner"),children:[(0,r.jsx)(nd,{}),(0,r.jsx)(rd,{})]})});function dd(){return(0,r.jsx)(ld,{})}var ud=n(86511),pd=n(27662);const{open:md}=io.I.inputs,{directionScreen:hd}=Le.A.outputs,{createReporter:yd}=fe.I.inputs,{$origin:gd}=ke.i.outputs,_d=(0,me.combine)({and:[so.FQ,e=>Object.fromEntries(e.map(((e,t)=>[t+1,e])).filter((e=>e[1].type===je.V.BlockType.CityVideo)))],or:{sid:"yy4ndg"}}),fd=(0,me.createEvent)({sid:"1qpew2"}),kd=(0,me.createEvent)({sid:"vbli51"}),xd=(0,me.createEvent)({sid:"-1f17mp"}),{openDirectionScreen:vd,openKoroche:bd}=(0,me.split)({and:[Cd(kd),{openDirectionScreen:e=>"direction"===e?.block.actionType,openKoroche:e=>"koroche"===e?.block.actionType}],or:{sid:"9c4211"}});(0,me.sample)({and:[{clock:vd,fn:({block:e})=>({destination:e.city,analytics:{directionSource:Ie.yh.ZeroStateCityVideo}}),target:hd.open}],or:{sid:"-1illst"}}),(0,me.sample)({and:[{clock:bd,fn:({block:e})=>({guideId:e.city.iata,openSource:Be.Ur.ZERO_STATE_CITY_VIDEO,mapOpenSource:Be.Oj.ZERO_STATE_CITY_VIDEO}),target:md}],or:{sid:"-1106t9"}});const jd=yd({data:{category:je.c.Category.ZeroState,label:je.c.Label.CityVideo,service:_e.t6.Explore},payload:{origin:(0,me.combine)({and:[gd,be.Mo],or:{sid:"-m2hnd4"}})}});function Cd(e){return(0,me.sample)({and:[{clock:e,source:_d,fn:(e,{order:t})=>{const n=e[t]??null;return n?{block:n,order:t}:null}}],or:{sid:"n5q2db"}})}function wd({className:e,size:t,src:n,onPlay:i}){return(0,r.jsx)("video",{className:e,width:t,height:t,onPlay:i,muted:!0,autoPlay:!0,loop:!0,playsInline:!0,children:(0,r.jsx)("source",{src:n})})}jd({clock:(0,me.sample)({and:[{clock:Cd(fd),filter:Boolean}],or:{sid:"-7zisq3"}}),data:{action:je.c.Action.Showed},payload:{blockOrder:({order:e})=>e,arkId:({block:e})=>e.arkId}}),jd({clock:(0,me.sample)({and:[{clock:Cd(kd),filter:Boolean}],or:{sid:"-7j0yx9"}}),data:{action:je.c.Action.Clicked},payload:{blockOrder:({order:e})=>e,arkId:({block:e})=>e.arkId}}),jd({clock:(0,me.sample)({and:[{clock:Cd(xd),filter:Boolean}],or:{sid:"-72j54f"}}),data:{action:"loaded"},payload:{blockOrder:({order:e})=>e,arkId:({block:e})=>e.arkId}});var Sd="s__vFaWOndS3RBIHLU_m5QD";function Nd({text:e,onClick:t,onVideoStarted:n,onShow:i,price:s,cityName:o,fallbackImageUrl:a,videoUrl:c}){const l=(0,oe.LT)(i),d=(0,D.d)("price_short"),{t:u}=(0,E.useTranslation)("widget_main_content");return(0,r.jsxs)("div",{className:"s__WMys1A1lth2A209PXzyn",ref:l,children:[(0,r.jsx)(L.E,{className:Sd,srcTemplate:a,alt:e,width:388,height:388,draggable:!0}),(0,r.jsx)(wd,{className:Sd,size:388,src:c,onPlay:n}),(0,r.jsxs)("div",{className:"s__LM8PyMjZVAs1JSpCDd6n",children:[(0,r.jsx)(O.X,{tag:"h3",type:U.l.Title1Bold,className:"s__qBbFCzPOWaPwzzEfEqnH",children:e}),(0,r.jsx)(j.z,{size:C.qE.XS,priority:C.Ji.Primary,shape:C.jL.Round,className:"s__R5hPz1FYTYnUgKgZrfHJ",children:s?u("cityVideo.buttonText",{cityName:o,price:d({currency:s.currency.toUpperCase(),value:s.value})}):o})]}),(0,r.jsx)(W.j,{onClick:t,className:"s__jCwGE8Zwrn_UFjbggoVo"})]})}function Ed({order:e}){const t=(0,i.useStoreMap)({store:_d,keys:[e],fn:(e,[t])=>e[t]??null}),{handleClick:n,handleVideoStarted:s,handleShow:o}=(0,i.useUnit)({handleClick:kd,handleVideoStarted:xd,handleShow:fd}),a=(0,x.useCallback)((()=>{o({order:e})}),[e,o]);return t?(0,r.jsx)(Nd,{text:t.text,videoUrl:t.videoUrl,fallbackImageUrl:t.imageUrl,cityName:t.city.name,price:t.price,onClick:()=>n({order:e}),onVideoStarted:()=>s({order:e}),onShow:a}):null}var Td="s__oXn7gwPZdHgCJ1xLiPDP";const Pd=()=>{const e=(0,i.useUnit)(Ae.mainContentPublicApi.outputs.$visibleBlocks),t=(0,i.useUnit)(ud.V);return(0,r.jsx)(c,{children:e.map(((e,n)=>{const i=`${e.type}_${n}`,s=n+1;switch(e.type){case je.V.BlockType.ChooseDestination:return(0,r.jsx)(c.Item,{className:Td,...t[e.type],children:(0,r.jsx)(Pe,{order:s})},i);case je.V.BlockType.Blog:return(0,r.jsx)(c.Item,{className:Td,...t[e.type],children:(0,r.jsx)(Ks,{order:s})},i);case je.V.BlockType.CityVideo:return(0,r.jsx)(c.Item,{className:Td,...t[e.type],children:(0,r.jsx)(Ed,{order:s})},i);case je.V.BlockType.PriceMap:return(0,r.jsx)(c.Item,{className:Td,...t[e.type],children:(0,r.jsx)(ki,{order:s})},i);case je.V.BlockType.CityPoi:return(0,r.jsx)(c.Item,{className:Td,...t[e.type],children:(0,r.jsx)(Re,{block:e,order:s})},i);case je.V.BlockType.NationalParkPoi:return(0,r.jsx)(c.Item,{className:Td,...t[e.type],children:(0,r.jsx)(gt,{block:e,order:s})},i);case je.V.BlockType.CityPois:return(0,r.jsx)(c.Item,{className:Td,...t[e.type],children:(0,r.jsx)(ot,{block:e,order:s})},i);case je.V.BlockType.Premium:return(0,r.jsx)(c.Item,{className:Td,...t[e.type],children:(0,r.jsx)(Qn,{order:s})},i);case je.V.BlockType.MyCashback:return(0,r.jsx)(c.Item,{...t[e.type],children:(0,r.jsx)(dd,{})},i);case je.V.BlockType.CityPoiCollection:return(0,r.jsx)(c.Item,{...t[e.type],children:(0,r.jsx)(We,{block:e,order:s})},i);case je.V.BlockType.NationalParksCollection:return(0,r.jsx)(c.Item,{...t[e.type],children:(0,r.jsx)(mt,{block:e,order:s})},i);case je.V.BlockType.LocationsCompilation:return(0,r.jsx)(c.Item,{...t[e.type],children:(0,r.jsx)(It,{block:e,order:s})},i);case je.V.BlockType.PoiCompilation:return(0,r.jsx)(c.Item,{...t[e.type],children:(0,r.jsx)(nn,{block:e,order:s})},i);case je.V.BlockType.HotTickets:return(0,r.jsx)(c.Item,{...t[e.type],children:(0,r.jsx)(ps,{order:s})},i);case je.V.BlockType.PopularDestinations:return(0,r.jsx)(c.Item,{...t[e.type],children:(0,r.jsx)(As,{order:s})},i);case je.V.BlockType.MarketingAd:return(0,r.jsx)(c.Item,{...t[e.type],children:(0,r.jsx)(pd.l,{order:s})},i);case je.V.BlockType.PromoKoroche:return(0,r.jsx)(c.Item,{...t[e.type],children:(0,r.jsx)(No,{order:s})},i);case je.V.BlockType.Weekends:return(0,r.jsx)(c.Item,{...t[e.type],children:(0,r.jsx)(Hl,{order:s})},i);default:return null}}))})},Id=()=>{const{isVisible:e,isError:t,blocks:n}=(0,i.useUnit)({isVisible:Ae.mainContentPublicApi.outputs.$isEnabled,isError:Ae.mainContentPublicApi.outputs.$isError,blocks:Ae.mainContentPublicApi.outputs.$visibleBlocks});return!e||t?(0,r.jsx)("span",{}):(0,r.jsx)(k,{children:n.length?(0,r.jsx)(Pd,{}):(0,r.jsx)(y,{})})}},26049:function(e,t,n){"use strict";let i,s;n.d(t,{V:function(){return s},c:function(){return i}}),function(e){let t,n,i;!function(e){e.Showed="showed",e.Clicked="clicked",e.Opened="opened",e.Shown="shown",e.Swiped="swiped"}(t||(t={})),e.Action=t,function(e){e.ZeroState="zero_state",e.PoiCompilation="poi_compilation",e.PremiumPurchase="premium_purchase",e.BestDirections="best_directions"}(n||(n={})),e.Category=n,function(e){e.ChooseDestination="choose_destination",e.PremiumPromo="premium_promo",e.PriceMap="price_map",e.LocationsBigCard="locations_big_card",e.PoiBigCard="poi_big_card",e.CityPois="city_pois",e.CityPoiCollection="city_poi_collection",e.PoiCompilation="poi_compilation",e.LocationsCollection="locations_collection",e.LocationsCompilation="locations_compilation",e.Screen="screen",e.EntryPoint="entry_point",e.HotTickets="hot_tickets",e.BestDirections="best_directions",e.Blog="blog",e.MarketingAd="marketing_ad",e.PromoKoroche="trap_promo",e.CityVideo="city_video",e.Weekends="weekends"}(i||(i={})),e.Label=i}(i||(i={})),function(e){let t,n,i;!function(e){e.Blog="blog",e.PriceMap="price_map",e.Premium="premium",e.MyCashback="my_cashback",e.ChooseDestination="choose_destination",e.CityPois="city_pois",e.CityPoi="city_poi",e.PoiCompilation="poi_compilation",e.CityPoiCollection="city_poi_collection",e.NationalParksCollection="national_parks_collection",e.NationalParkPoi="national_park_poi",e.LocationsCompilation="locations_compilation",e.HotTickets="hot_tickets",e.PopularDestinations="popular_destinations",e.PromoKoroche="promo_koroche",e.Weekends="weekends",e.CityVideo="city_video",e.MarketingAd="marketing_ad",e.Unknown="unknown"}(t||(t={})),e.BlockType=t,function(e){e.POI="POI",e.City="CITY",e.Region="REGION",e.NationalPark="NATIONAL_PARK",e.Country="COUNTRY",e.Island="ISLAND",e.Unknown="Unknown"}(n||(n={})),e.LocationContentType=n,i||(i=e.PopularDestinations||(e.PopularDestinations={}))}(s||(s={}))},37613:function(e,t,n){"use strict";n.d(t,{C0:function(){return c},FQ:function(){return p},Ur:function(){return l}});var i=n(44908),s=n.n(i),o=(n(26699),n(98116)),a=n(15863),r=n(9292);const c=(0,o.createEvent)({sid:"5pzzxu"}),l=(0,o.createEvent)({sid:"ecabd4"}),d=(0,o.createStore)([],{and:{updateFilter:a.Ih},sid:"rl5pui"}).on(c,((e,t)=>s()([...e,t]))).on(l,((e,t)=>e.filter((e=>e!==t)))),u=r.J.$data,p=(0,o.combine)({and:[{allBlocks:u,excludedBlockTypes:d},({allBlocks:e,excludedBlockTypes:t})=>e.filter((({type:e})=>!t.includes(e)))],or:{sid:"-gitma8"}})},86511:function(e,t,n){"use strict";n.d(t,{V:function(){return o}});var i=n(98116),s=n(48792);const o=(0,i.createStore)(s.Ev,{and:{serialize:"ignore"},sid:"-2ngsf3"})},84874:function(e,t,n){"use strict";n.d(t,{Y:function(){return d},h:function(){return u}});var i=n(98116),s=n(51717),o=n(75241),a=n(82203),r=n(37613),c=n(26049);const l=(0,i.combine)({and:[r.FQ,e=>e.find((e=>e.type===c.V.BlockType.HotTickets))??null],or:{sid:"cl53h6"}}),{$hotTickets:d,$places:u}=(0,i.withFactory)({sid:"-2gk10p",fn:()=>(0,s.X)({source:l,shape:{$hotTickets:e=>e?.tickets.map((e=>({...e,ticketLink:(0,o.fi)({priceLink:e.ticketLink,params:{requestSource:a.MJ.HotTickets}})})))??[],$places:e=>e?.places??{cities:{},airlines:{},airports:{}}}})})},98354:function(e,t,n){"use strict";n.r(t),n.d(t,{mainContentPublicApi:function(){return U}});var i=n(88677),s=n(98116),o=n(24926),a=n(38387),r=n(9292),c=n(48792),l=n(37613),d=n(84959),u=n(84874),p=n(51717),m=n(26049);const h=(0,s.combine)({and:[l.FQ,e=>e.find((e=>e.type===m.V.BlockType.PopularDestinations))??null],or:{sid:"bl3fei"}}),{$originCity:y,$destinations:g}=(0,s.withFactory)({sid:"a9ioxi",fn:()=>(0,p.X)({source:h,shape:{$destinations:e=>e?.directions??[],$originCity:e=>e?.originCity?.name?.ro??e?.originCity?.name?.su??null}})});var _=n(27662),f=n(86511);const{$isMobile:k}=a.l.outputs,x=(0,s.createStore)([],{sid:"8pf3ya"}),v=l.FQ.updates,b=(0,s.sample)({and:[{clock:[v,_.r.updates],source:{blocks:l.FQ,hotTickets:u.Y,popularDestinations:g,marketingAdVisible:_.r,gridMap:f.V,maxColsInRow:(0,s.withFactory)({sid:"-yx3lw0",fn:()=>(0,o.w)({filter:k,then:1,other:2})})},fn:c.x9}],or:{sid:"gwtyv6"}});(0,s.sample)({and:[{clock:b,target:x}],or:{sid:"ptidqu"}}),(0,s.sample)({and:[{clock:b,filter:e=>!e.length,target:d.Cp}],or:{sid:"q7t168"}});const j=r.J.$error;var C=n(5500),w=n(54448),S=n(38032),N=n(72675),E=n(39018),T=n(79403),P=n(44904),I=n(31087),B=n(47420),A=n(76551),M=n(76101),D=n(86117);const{updateAnalyticsDirectionSource:R}=B.i.inputs,{directionScreen:$}=M.A.outputs,{$mainScreenToDirectionScreenNewNavigationEnabled:L,$trapNewDesignEnabled:z}=A.R.outputs,O=(0,s.createEvent)({sid:"-pak925"});(0,s.sample)({and:[{clock:O,fn:({poi:e})=>e.poiId.toString(),target:D.directionScreenFeedService.inputs.setPlaceSource}],or:{sid:"jvv5k5"}}),(0,s.sample)({and:[{clock:O,filter:(0,s.withFactory)({sid:"joygq7",fn:()=>(0,w.or)((0,s.withFactory)({sid:"48jdc9",fn:()=>(0,S.f)(L)}),(0,s.withFactory)({sid:"4935xm",fn:()=>(0,S.f)(z)}))}),fn:({poi:e,location:t,trapSource:n,poiOpenSource:i})=>({layer:e.layerId,poi:e.poiId.toString(),guideId:t.iata||t.id,slug:t.slug,openSource:n,poiOpenSource:i,poiQueryOpenSource:I.ik.ZERO_STATE,minPrice:t.price}),target:P.Y.inputs.open}],or:{sid:"kbt6rm"}}),(0,s.sample)({and:[{clock:O,filter:(0,s.withFactory)({sid:"-mgen72",fn:()=>(0,N.x)(L,z)}),fn:({location:e,directionSource:t})=>({analytics:{directionSource:t},destination:{iata:e.iata??"",cityIata:e.iata??"",name:e.name.su??"",type:C.A.City}}),target:$.open}],or:{sid:"l9cmyn"}}),(0,s.sample)({and:[{clock:O,fn:({directionSource:e})=>e,target:R}],or:{sid:"m8jgxr"}}),(0,s.sample)({and:[{clock:O,filter:T.U.outputs.$isWayAwayBrand,fn:({location:e})=>({type:"open_sight",name:e.name.su}),target:E.n.inputs.sendEvent}],or:{sid:"mndwyi"}});const U={outputs:{$isEnabled:d.l$,$isError:j,$visibleBlocks:x,popularDestinations:{$destinations:g,$originCity:y}},inputs:{initialized:i.X,placeClicked:O},internals:{$blocks:l.FQ}}},88677:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});const i=(0,n(98116).createEvent)({sid:"-6fk10l"})},84959:function(e,t,n){"use strict";n.d(t,{Cp:function(){return _},l$:function(){return y}});var i=n(98116),s=n(72675),o=n(65740),a=n(47047),r=n(64441),c=n(38135),l=n(15863),d=n(88677);const{mainContentFlag:u}=r.i.outputs,{mainScreen:p}=c.w.outputs,m=(0,i.createEvent)({sid:"-fetnw7"}),h=(0,i.withFactory)({sid:"-2ok07h",fn:()=>(0,s.x)(u.$value,p.$active)});(0,i.sample)({and:[{clock:[d.X,h.updates],target:m}],or:{sid:"-d0dcv7"}});const{$enabled:y,turnOn:g,turnOff:_}=(0,i.withFactory)({sid:"-zab2mx",fn:()=>(0,a.d)(l.qs,!1)});(0,i.withFactory)({sid:"-cirxvn",fn:()=>(0,o.s)({source:m,if:h,then:g,else:_})})},51389:function(e,t,n){"use strict";n.d(t,{IN:function(){return u},cF:function(){return r},nS:function(){return l}});var i=n(67294),s=n(50308),o=n.n(s);const a=e=>{const t=document.querySelector(".mobile-app-banner-full");t&&t.contains(e.target)&&e.stopImmediatePropagation()},r=e=>{(0,i.useEffect)((()=>window?(e&&window.addEventListener("mouseup",a,!0),()=>window.removeEventListener("mouseup",a,!0)):o()),[e])};var c=n(97650);const l=(e,t)=>{const{threshold:n=.5,triggerOnce:s=!0,...o}=t??{},[a,r]=(0,c.YD)({threshold:n,triggerOnce:s,...o});return(0,i.useEffect)((()=>{r&&e()}),[e,r]),a};function d(e){const{scrollTop:t,scrollHeight:n,clientHeight:i}=e;return Math.abs(t+i-n)<1}const u=()=>{const[e,t]=(0,i.useState)(!1),[n,s]=(0,i.useState)(null),o=(0,i.useCallback)((()=>{n&&t(d(n))}),[n]);return(0,i.useEffect)((()=>{const e=()=>{n&&t(d(n))};return n?.addEventListener("scroll",e),()=>{n?.removeEventListener("scroll",e)}}),[n]),{isScrolledToBottom:e,setScrollElement:s,update:o}}},50191:function(e,t,n){"use strict";function i(e){return{lat:e.latitude,lon:e.longitude}}function s(e){return{latitude:e.lat,longitude:e.lng}}n.d(t,{Tc:function(){return s},kI:function(){return i}})},27946:function(e,t,n){"use strict";n.d(t,{S3:function(){return i},hH:function(){return s},vK:function(){return o}});const i=e=>{const{clientWidth:t,clientHeight:n}=e.getContainer();return{width:t,height:n}},s=(e,t,n=0)=>e.x<t.x+t.width+n&&n+e.x+e.width>t.x&&e.y<t.y+t.height+n&&e.height+e.y+n>t.y,o=(e,t,n)=>{const i=[],s=Array(e.length).fill(!1),o=(i,s,a,r)=>{s[i]=!0;for(let i=0;i<e.length;i+=1){const c=e[i];!s[i]&&t(a,c)&&(n?.(),o(i,s,e[i],r),r.push(e[i]))}};for(let t=0;t<e.length;t+=1){const n=e[t],a=[n];s[t]||(o(t,s,n,a),i.push(a))}return i}},32671:function(e,t,n){"use strict";n.d(t,{I:function(){return _}});var i=n(30091),s=n(98116),o=n(30040),a=n(95219),r=n(10924),c=n(47420),l=n(95628);const{createReporter:d}=r.I.inputs,u={service:o.t6.Guides,category:"trap"},p=c.i.outputs.exact.$departDate.map((e=>e?(0,a.cM)(e):null)),m=c.i.outputs.exact.$returnDate.map((e=>e?(0,a.cM)(e):null)),h=l.R.outputs.$guideId,y=(0,s.combine)({and:[{direction:l.R.outputs.$guideId,isIata:l.R.outputs.$isIata},({direction:e,isIata:t})=>!t&&e?e:null],or:{sid:"-af3jfp"}}),g={outputs:{$departDateISO:p,$returnDateISO:m,$locationId:h,$destination:y},inputs:{forwardToAnalyticsWithDefaults:d({data:u,payload:{pageName:"main",source:null,location_id:h,origin:c.i.outputs.$origin.map((e=>e?.cityIata??null)),destination:y,depart_date:p,return_date:m,guide_ark_id:h}})}},_=(0,i.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/guides/services/analytics/index.ts",api:g})},86117:function(e,t,n){"use strict";n.r(t),n.d(t,{directionScreenFeedService:function(){return es}});var i=n(30091),s=n(67294),o=n(4190),a=n(33864),r=n(98116),c=n(65752),l=n(32419),d=n(47420),u=n(88998),p=n(85893);const m=({className:e,...t},n)=>(0,p.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:n,style:{display:"inline-block"},...t,children:[(0,p.jsxs)("g",{clipPath:"url(#EmojiAirplane__a)",children:[(0,p.jsx)("path",{d:"m7.039 16.155-4.8-2.606c-.559-.281.615-1.223 1.005-1.2 1.71.101 6.806.806 6.806.806l-3.011 3ZM7.808 16.924l2.606 4.8c.277.562 1.222-.615 1.196-1.005-.101-1.71-.803-6.807-.803-6.807l-3 3.012Z",fill:"#33B8FF"}),(0,p.jsx)("path",{d:"m8.64 7.418-.611 1.016c-.064.109.015.187.123.123l1.017-.61-.529-.53ZM10.703 8.31l-.612 1.016c-.063.109.015.188.124.124l1.016-.607-.528-.533ZM6.566 6.54l-.611 1.016c-.064.109.015.188.124.124l1.016-.611-.529-.529ZM16.541 15.319l-1.016.611c-.109.064-.188-.015-.124-.124l.611-1.016.53.529ZM15.649 13.26l-1.016.611c-.11.064-.188-.015-.124-.123l.607-1.017.533.529ZM17.422 17.392l-1.016.612c-.108.063-.187-.015-.123-.124l.61-1.016.53.528Z",fill:"#99A8AE"}),(0,p.jsx)("path",{d:"m14.033 3.6-.923-.919s-2.329 1.613-2.055 2.967c1.361.273 2.978-2.048 2.978-2.048Z",fill:"url(#EmojiAirplane__b)"}),(0,p.jsx)("path",{d:"m14.115 3.518-.922-.92-.083.083.923.919.082-.083Z",fill:"#99A8AE"}),(0,p.jsx)("path",{d:"m11.258 5.145.307.304s1.583-1.343 1.718-2.018c-.68.135-2.025 1.714-2.025 1.714Z",fill:"url(#EmojiAirplane__c)"}),(0,p.jsx)("path",{d:"m9.84 3.191-.923-.919S6.592 3.885 6.862 5.24C8.22 5.509 9.84 3.19 9.84 3.19Z",fill:"url(#EmojiAirplane__d)"}),(0,p.jsx)("path",{d:"M9.922 3.109 9 2.19l-.086.083.926.918.082-.082Z",fill:"#99A8AE"}),(0,p.jsx)("path",{d:"m7.061 4.732.308.308s1.586-1.343 1.717-2.018c-.679.132-2.025 1.71-2.025 1.71Z",fill:"url(#EmojiAirplane__e)"}),(0,p.jsx)("path",{d:"M2.505 2.824c-.776-.072-1.035.39-1.5.858-.757.758.266 1.073 1.905 1.778l9.84 4.23 4.826-4.811S7.91 3.319 2.505 2.824Z",fill:"#33B8FF"}),(0,p.jsx)("path",{d:"m3.367 4.976 1.478-1.481c4.807.439 11.029 1.53 12.345 1.766l.045-.045S10.189 3.934 4.785 3.44L3.236 4.984l10.009 4.293.06-.063-9.938-4.238Z",fill:"#20A0FF"}),(0,p.jsx)("path",{d:"m20.471 10.016.923.919s-1.616 2.317-2.978 2.047c-.274-1.357 2.055-2.966 2.055-2.966Z",fill:"url(#EmojiAirplane__f)"}),(0,p.jsx)("path",{d:"m20.554 9.934.922.918-.082.083-.923-.919.083-.082Z",fill:"#99A8AE"}),(0,p.jsx)("path",{d:"m18.922 12.784-.307-.308s1.346-1.579 2.025-1.71c-.135.671-1.718 2.018-1.718 2.018Z",fill:"url(#EmojiAirplane__g)"}),(0,p.jsx)("path",{d:"m20.884 14.197.922.92s-1.616 2.317-2.977 2.047c-.274-1.354 2.055-2.967 2.055-2.967Z",fill:"url(#EmojiAirplane__h)"}),(0,p.jsx)("path",{d:"m20.966 14.115.923.919-.083.082-.922-.918.082-.083Z",fill:"#99A8AE"}),(0,p.jsx)("path",{d:"m19.335 16.965-.308-.308s1.347-1.578 2.025-1.71c-.134.676-1.717 2.018-1.717 2.018Z",fill:"url(#EmojiAirplane__i)"}),(0,p.jsx)("path",{d:"M21.247 21.499c.072.772-.4 1.035-.862 1.496-.754.754-1.073-.266-1.781-1.898l-4.241-9.802 4.826-4.811c-.004 0 1.564 9.63 2.058 15.015Z",fill:"#33B8FF"}),(0,p.jsx)("path",{d:"m19.087 20.644 1.486-1.474c-.443-4.793-1.534-10.991-1.77-12.304l.044-.045s1.287 7.02 1.785 12.409l-1.545 1.545-4.312-9.975.06-.06 4.252 9.904Z",fill:"#20A0FF"}),(0,p.jsx)("path",{d:"M23.122.877C22.8.56 20.33.687 18.038 2.967c-4.043 4.027-7.722 7.68-9.192 9.146-1.23 1.226-3.195 5.478-2.854 5.816.338.337 4.606-1.616 5.84-2.839 1.518-1.515 5.125-5.093 9.194-9.146 2.284-2.28 2.412-4.748 2.096-5.067Z",fill:"url(#EmojiAirplane__j)"}),(0,p.jsx)("path",{d:"M10.463 13.481c-.225-.225-2.3 1.755-3.42 2.873C5.92 17.47 5.08 18.55 5.23 18.698c.15.146 1.227-.687 2.352-1.808 1.117-1.121 3.104-3.184 2.88-3.409Z",fill:"url(#EmojiAirplane__k)"}),(0,p.jsx)("path",{d:"M21.739 3.6a1.752 1.752 0 0 0-.146-.428l.532-.337c.079.232.09.454.067.641l-.453.124ZM22.099 2.752l-.548.346a1.42 1.42 0 0 0-.266-.36l.476-.477c.165.158.27.326.338.491ZM22.181 3.57a1.35 1.35 0 0 1-.09.304c-.034.078-.322.112-.319.03 0-.064-.003-.139-.018-.222l.427-.112ZM20.363 2.22c.134.026.28.075.427.146l.338-.532a1.456 1.456 0 0 0-.642-.068l-.123.454ZM21.206 1.86l-.345.548c.128.067.252.153.36.266l.477-.477a1.377 1.377 0 0 0-.492-.337ZM20.392 1.778a1.348 1.348 0 0 0-.303.09c-.079.033-.113.322-.03.318.063 0 .139.004.221.019l.112-.427Z",fill:"#302C3B"})]}),(0,p.jsxs)("defs",{children:[(0,p.jsxs)("linearGradient",{id:"EmojiAirplane__b",x1:11.777,y1:3.858,x2:12.851,y2:4.933,gradientUnits:"userSpaceOnUse",children:[(0,p.jsx)("stop",{offset:.394,stopColor:"#D8DDE0"}),(0,p.jsx)("stop",{offset:.535,stopColor:"#D3D9DC"}),(0,p.jsx)("stop",{offset:.702,stopColor:"#C5CDD1"}),(0,p.jsx)("stop",{offset:.88,stopColor:"#ADB9BE"}),(0,p.jsx)("stop",{offset:1,stopColor:"#99A8AE"})]}),(0,p.jsxs)("linearGradient",{id:"EmojiAirplane__c",x1:12.166,y1:4.185,x2:12.523,y2:4.543,gradientUnits:"userSpaceOnUse",children:[(0,p.jsx)("stop",{stopColor:"#D8DDE0"}),(0,p.jsx)("stop",{offset:.233,stopColor:"#D3D9DC"}),(0,p.jsx)("stop",{offset:.508,stopColor:"#C5CDD1"}),(0,p.jsx)("stop",{offset:.802,stopColor:"#ADB9BE"}),(0,p.jsx)("stop",{offset:1,stopColor:"#99A8AE"})]}),(0,p.jsxs)("linearGradient",{id:"EmojiAirplane__d",x1:7.582,y1:3.448,x2:8.657,y2:4.523,gradientUnits:"userSpaceOnUse",children:[(0,p.jsx)("stop",{offset:.394,stopColor:"#D8DDE0"}),(0,p.jsx)("stop",{offset:.535,stopColor:"#D3D9DC"}),(0,p.jsx)("stop",{offset:.702,stopColor:"#C5CDD1"}),(0,p.jsx)("stop",{offset:.88,stopColor:"#ADB9BE"}),(0,p.jsx)("stop",{offset:1,stopColor:"#99A8AE"})]}),(0,p.jsxs)("linearGradient",{id:"EmojiAirplane__e",x1:7.971,y1:3.775,x2:8.328,y2:4.132,gradientUnits:"userSpaceOnUse",children:[(0,p.jsx)("stop",{stopColor:"#D8DDE0"}),(0,p.jsx)("stop",{offset:.233,stopColor:"#D3D9DC"}),(0,p.jsx)("stop",{offset:.508,stopColor:"#C5CDD1"}),(0,p.jsx)("stop",{offset:.802,stopColor:"#ADB9BE"}),(0,p.jsx)("stop",{offset:1,stopColor:"#99A8AE"})]}),(0,p.jsxs)("linearGradient",{id:"EmojiAirplane__f",x1:20.211,y1:12.267,x2:19.136,y2:11.192,gradientUnits:"userSpaceOnUse",children:[(0,p.jsx)("stop",{offset:.394,stopColor:"#D8DDE0"}),(0,p.jsx)("stop",{offset:.535,stopColor:"#D3D9DC"}),(0,p.jsx)("stop",{offset:.702,stopColor:"#C5CDD1"}),(0,p.jsx)("stop",{offset:.88,stopColor:"#ADB9BE"}),(0,p.jsx)("stop",{offset:1,stopColor:"#99A8AE"})]}),(0,p.jsxs)("linearGradient",{id:"EmojiAirplane__g",x1:19.882,y1:11.877,x2:19.524,y2:11.519,gradientUnits:"userSpaceOnUse",children:[(0,p.jsx)("stop",{stopColor:"#D8DDE0"}),(0,p.jsx)("stop",{offset:.233,stopColor:"#D3D9DC"}),(0,p.jsx)("stop",{offset:.508,stopColor:"#C5CDD1"}),(0,p.jsx)("stop",{offset:.802,stopColor:"#ADB9BE"}),(0,p.jsx)("stop",{offset:1,stopColor:"#99A8AE"})]}),(0,p.jsxs)("linearGradient",{id:"EmojiAirplane__h",x1:20.624,y1:16.449,x2:19.549,y2:15.374,gradientUnits:"userSpaceOnUse",children:[(0,p.jsx)("stop",{offset:.394,stopColor:"#D8DDE0"}),(0,p.jsx)("stop",{offset:.535,stopColor:"#D3D9DC"}),(0,p.jsx)("stop",{offset:.702,stopColor:"#C5CDD1"}),(0,p.jsx)("stop",{offset:.88,stopColor:"#ADB9BE"}),(0,p.jsx)("stop",{offset:1,stopColor:"#99A8AE"})]}),(0,p.jsxs)("linearGradient",{id:"EmojiAirplane__i",x1:20.295,y1:16.059,x2:19.937,y2:15.701,gradientUnits:"userSpaceOnUse",children:[(0,p.jsx)("stop",{stopColor:"#D8DDE0"}),(0,p.jsx)("stop",{offset:.233,stopColor:"#D3D9DC"}),(0,p.jsx)("stop",{offset:.508,stopColor:"#C5CDD1"}),(0,p.jsx)("stop",{offset:.802,stopColor:"#ADB9BE"}),(0,p.jsx)("stop",{offset:1,stopColor:"#99A8AE"})]}),(0,p.jsxs)("linearGradient",{id:"EmojiAirplane__j",x1:13.055,y1:7.902,x2:16.058,y2:10.905,gradientUnits:"userSpaceOnUse",children:[(0,p.jsx)("stop",{offset:.297,stopColor:"#E6EBEF"}),(0,p.jsx)("stop",{offset:.588,stopColor:"#E1E7EB"}),(0,p.jsx)("stop",{offset:.932,stopColor:"#D3DBE0"}),(0,p.jsx)("stop",{offset:1,stopColor:"#CFD8DD"})]}),(0,p.jsxs)("linearGradient",{id:"EmojiAirplane__k",x1:7.574,y1:15.818,x2:8.112,y2:16.355,gradientUnits:"userSpaceOnUse",children:[(0,p.jsx)("stop",{stopColor:"#E6EBEF"}),(0,p.jsx)("stop",{offset:.208,stopColor:"#E1E7EB"}),(0,p.jsx)("stop",{offset:.453,stopColor:"#D3DADF"}),(0,p.jsx)("stop",{offset:.716,stopColor:"#BBC6CB"}),(0,p.jsx)("stop",{offset:.992,stopColor:"#9AA9AF"}),(0,p.jsx)("stop",{offset:1,stopColor:"#99A8AE"})]}),(0,p.jsx)("clipPath",{id:"EmojiAirplane__a",children:(0,p.jsx)("path",{fill:"#fff",d:"M0 0h24v24H0z"})})]})]}),h=(0,s.memo)((0,s.forwardRef)(m));h.displayName="EmojiAirplane";var y=n(28225);function g({onClick:e}){const{t:t}=(0,y.useTranslation)("widget_guides_feed");return(0,p.jsx)(a.A,{children:(0,p.jsx)(a.A.Block,{className:"s__s26xarJjWXrrNlZUD1N4",children:(0,p.jsxs)(u.A,{noTitle:!0,children:[(0,p.jsx)(u.A.Icon,{children:(0,p.jsx)(h,{})}),(0,p.jsx)(u.A.Content,{children:t("iAmInCity.emptyState.description")}),(0,p.jsx)(u.A.Actions,{children:(0,p.jsx)(u.A.Action,{onClick:e,children:t("iAmInCity.emptyState.action")})})]})})})}const{iAmInCityScreen:_}=l.D.outputs,{forceDestinationChoice:f}=d.i.inputs,k=(0,r.withFactory)({sid:"5lmk2q",fn:()=>(0,c.bU)({if:_.$active,then:(0,r.withFactory)({sid:"-88622o",fn:()=>(0,c.SC)({view:g,bind:{onClick:f}})}),else:()=>null})});var x=n(72675),v=n(54448),b=n(76101),j=n(14210),C=n(33350),w=n(63762),S=n(24943);const N=(0,r.createDomain)({sid:"-5jb9hy"}),{directionScreen:E}=b.A.outputs,{iAmInCityScreen:T}=l.D.outputs,{countryScreen:P}=C.$.outputs,{nationalParkScreen:I}=w.n.outputs,{exactPricesResultsScreen:B}=S.q.outputs,A=N.createEvent({sid:"-q7nxyz"}),M={outputs:{$isVisible:(0,r.withFactory)({sid:"-4rqros",fn:()=>(0,x.x)(j.qF.outputs.$isFeedEnabled,(0,r.withFactory)({sid:"xdfckq",fn:()=>(0,v.or)(E.$active,B.$active,T.$active,P.$active,I.$active)}))}),initialized:A}};n(21703);var D=n(46898),R=n.n(D),$=n(76588),L=n(80472),z=n(27636),O=n(78260),U=n(63246),F=n(8661),V=n(95628),q=n(41832),H=n(38387),G=n(2885),W=n(87007),Z=n(76551);let Q;!function(e){e.header="header",e.trap_preview="trap_preview",e.bullets="bullets",e.layer_carousel="layer_carousel",e.layer_grid="layer_grid",e.layers_list="layers_list",e.providers="providers",e.pins_group_2="pins_group_2",e.carousel_expanded="carousel_expanded",e.carousel_compact="carousel_compact",e.bullet="bullet",e.text="text",e.header_with_images="header_with_images",e.hotels="hotels",e.locations_list="locations_list",e.carousel_v2="carousel_v2"}(Q||(Q={}));const Y=e=>t=>t.type===e,J=Y(Q.header),K=Y(Q.trap_preview),X=Y(Q.bullets),ee=Y(Q.layer_carousel),te=Y(Q.layer_grid),ne=Y(Q.layers_list),ie=Y(Q.providers),se=Y(Q.pins_group_2),oe=Y(Q.bullet),ae=Y(Q.text),re=Y(Q.carousel_expanded),ce=Y(Q.carousel_compact),le=Y(Q.header_with_images),de=Y(Q.hotels),ue=Y(Q.locations_list),pe=Y(Q.carousel_v2),me=({width:e,height:t,theme:n,url:i})=>{const s=window?Math.max(Math.floor(window.devicePixelRatio),1):1,o=i.replace("{width}",(e*s).toString(10)).replace("{height}",(t*s).toString(10));return n?o.replace("{theme}",n):o},he=e=>Boolean(e.premium?.overlay),ye=e=>e.premium?.badge,ge=e=>!!e.data&&e.data.places.length<=2,_e=e=>{const t=[];for(const n of e)if(ne(n)&&n.data)for(const e of n.data.layers)e.places&&e.button&&t.push({data:e,type:Q.layer_carousel,analytics:n.analytics});else t.push(n);return t},fe=e=>{const t=[];let n=0;for(const i of e){const e=te(i)&&ge(i);ee(i)||e||n%2!=1||(t.pop(),n=0),(ee(i)||e)&&(n+=1),t.push(i)}return n%2==1&&t.pop(),t},ke=e=>({title:e.title,subtitle:e.subtitle,iconUrl:e.emoji.svg,iconImageUrl:e.icon_image_url,buttonText:e.button?.text}),xe=(0,O.cr)("guides",{name:"guides_feed",samplingRate:.2}),ve=(0,r.createEvent)({sid:"-pjx24r"}),be=(0,r.restore)(ve,null,{sid:"-mzi64s"}),je=(0,r.combine)({and:[{currency:q.y.outputs.$currency,hotelParams:W.$o.outputs.$searchHotelParams,defaultQuery:F.D.outputs.$defaultQuery,isReduceTrapTitle:j.qF.outputs.$isReduceTrapTitle,sourcePlace:be,trapNewDesignEnabled:Z.R.outputs.$trapNewDesignEnabled,mainScreenToDirectionScreenNewNavigationEnabled:Z.R.outputs.$mainScreenToDirectionScreenNewNavigationEnabled},({currency:e,hotelParams:t,defaultQuery:n,isReduceTrapTitle:i,sourcePlace:s,mainScreenToDirectionScreenNewNavigationEnabled:o,trapNewDesignEnabled:a})=>{const r={options:"exclude-walks",currency:e,...n,...t};return o&&s&&(r.source_place=s,r["features.main_screen_to_direction_screen_new_navigation"]=!0),i&&(r["features.reduce_trap_title"]=i),a&&(r["features.trap_new_design"]=!0),r}],or:{sid:"-novuye"}}),Ce=(0,r.createEvent)({sid:"b1hoy1"}),we=(0,r.restore)(Ce,!1,{sid:"-1pbbwx"}),{$data:Se,$status:Ne,reset:Ee,start:Te,$error:Pe,$pending:Ie,$failed:Be,__:Ae,finished:{failure:Me}}=(0,r.withFactory)({sid:"vldffq",fn:()=>(0,$.s5)({enabled:U.y.outputs.$isClient,name:"guides_feed",request:{method:"GET",url:(0,r.combine)({and:[{apiPrefix:F.D.outputs.$apiPrefix,trapId:V.R.outputs.$direction},({apiPrefix:e,trapId:t})=>`${e}/v3/feed/${t}`],or:{sid:"yjtzr7"}}),query:je,headers:F.D.outputs.$defaultHeaders},response:{contract:(0,L.v)(G.dd),mapData:{source:H.l.outputs.$isMobile,fn:({result:e},t)=>{const n=e.blocks,i=R()(_e,fe);return{...e,blocks:t?n:i(n)}}}}})}),[De,Re]=(0,r.withFactory)({sid:"-n3l8b",fn:()=>(0,z.K)(Se)}),$e=De.map((e=>{const t=e?.blocks.find((e=>e.type===Q.locations_list));if(!t)return[];const n=t.data?.locations.map((e=>e.navigation.ark_id));return n})),Le=(0,r.combine)({and:[{error:Pe,data:De},({error:e,data:t})=>(0,r.withFactory)({sid:"-8g1gm0",fn:()=>(0,$.Bh)(404)})({error:e})||0===t?.blocks.length],or:{sid:"7gwrjt"}});(0,r.sample)({and:[{source:Me,filter:$.QO,fn:()=>new Error("guides_feed contract validation failed"),target:xe.sendErrorLog}],or:{sid:"-j4ebe0"}});const ze={internal:{fetchFx:Ae.executeFx,$dataOverride:Re},inputs:{fetch:Te,reset:Ee,readyToFetchFeed:Ce,setSourcePlace:ve},outputs:{$data:De,$status:Ne,$noData:Le,$error:Pe,$pending:Ie,$failed:Be,$nearbyLocationsIds:$e,$shouldFetchFeed:we}},Oe=N.createEvent({sid:"-r3a7qz"}),Ue=N.createEvent({sid:"da2mpf"}),Fe=N.createEvent({sid:"1f34od"}),Ve=N.createEvent({sid:"-b158r6"}),qe=N.createEvent({sid:"jbs3cq"}),He=N.createEvent({sid:"4rnfju"}),Ge=N.createEvent({sid:"-embvm2"}),We={inputs:{blockShowed:Ve,providerClick:N.createEvent({sid:"gp6ld"}),textExpandClick:He,showMoreHotelsClicked:Oe,hotelItemShowed:Ue},internals:{providerClickedAnalytics:qe,sendTextExpandAnalitics:Ge,sendHotelItemShowedAnalitics:Fe}};var Ze=n(47047),Qe=n(5500),Ye=n(8681),Je=n(99186),Ke=n(79403),Xe=n(53788),et=n(82203),tt=n(35529),nt=n(45711);const it=(0,tt.Record)({slug:tt.String}),st=(0,tt.Record)({entity:it.extend({type:(0,tt.Literal)("NATIONAL_PARK")}).nullable(),content:(0,tt.Record)({ark_id:nt.Jm})}),ot=(0,tt.Union)(st,tt.Unknown),at=(0,tt.Record)({locations_main_page_v2:(0,tt.Array)(ot)}),rt=e=>e.locations_main_page_v2.reduce(((e,t)=>{if(st.guard(t)){const{entity:n,content:i}=t;e[i.ark_id]={id:i.ark_id,slug:n?.slug}}return e}),{}),{$brand:ct}=Ke.U.outputs,{$language:lt}=Je.l.outputs,{createAriadneQuery:dt}=Ye.a.inputs,{$currency:ut}=q.y.outputs,{$market:pt}=Xe.D.outputs,{$tripClass:mt,$origin:ht}=d.i.outputs,{updateAnalyticsDirectionSource:yt}=d.i.inputs,gt=(0,r.withFactory)({sid:"-bdprsl",fn:()=>(0,Ze.d)((()=>dt({params:(0,r.withFactory)({sid:"-r74a7z",fn:()=>(0,$.t6)()}),graphQL:{query:"\n  query GetLocationsMainPageV2($brand: Brand!, $input: LocationsV2Input!) {\n    locations_main_page_v2(\n      brand: $brand,\n      input: $input,\n    ) {\n      entity {\n        type\n        slug\n      }\n      content {\n        __typename\n        ... on NationalParkContent {\n          ark_id\n        }\n      }\n    }\n  }\n",operationName:"locations_main_page_v2",variables:{source:(0,r.combine)({and:[{language:lt,brand:ct,origin:ht,market:pt,currency:ut,trip_class:mt}],or:{sid:"-mna74j"}}),fn:(e,{language:t,brand:n,origin:i,currency:s,market:o,trip_class:a})=>({brand:n,locales:[t],input:{ark_ids:e??[],iatas:[],origin:i?.cityIata??i?.iata??"",market:o,currency:s,trip_class:a}})}},contract:at,mapData:rt,validate:({result:e})=>{try{return rt(e.data),!0}catch{return!1}}})))}),{$data:_t,$pending:ft}=gt,kt=(0,r.createEvent)({sid:"-k0zad3"});(0,r.sample)({and:[{clock:kt,fn:()=>et.yh.NearbyLocations,target:yt}],or:{sid:"-p5mntb"}}),(0,r.sample)({and:[{source:kt,fn:({arkId:e,title:t})=>({destination:{iata:e,name:t,type:Qe.A.NationalPark}}),target:w.n.outputs.nationalParkScreen.open}],or:{sid:"-oqs7sk"}});const xt={inputs:{fetchLocations:gt.start,openPark:kt},outputs:{$data:_t,$pending:ft}};var vt=n(73806),bt=n(51456),jt=n(27946);const Ct=(0,r.createEvent)({sid:"-ht63wb"}),wt={inputs:{setMapboxInstance:Ct},outputs:{$mapboxInstance:(0,r.restore)(Ct,null,{sid:"4kpsqw"})}};var St=n(89101),Nt=n(89421);const{createMapStyle:Et}=St.B.inputs,{$apiPrefix:Tt,$defaultQuery:Pt,$defaultHeaders:It}=F.D.outputs,{$data:Bt,refresh:At}=(0,r.withFactory)({sid:"k3jktg",fn:()=>(0,$.s5)({name:"guides_travel_map_in_feed",params:(0,r.withFactory)({sid:"-1o4tkf",fn:()=>(0,$.t6)()}),request:{method:"GET",url:{source:Tt,fn:({direction:e},t)=>`${t}/v2/travel_maps/${e}`},query:(0,r.combine)({and:[{defaultQuery:Pt,currency:q.y.outputs.$currency},({defaultQuery:e,currency:t})=>({...e,currency:t})],or:{sid:"tdfnxt"}}),headers:It},response:{contract:(0,L.v)(G.g6),mapData:({result:e})=>(0,bt.TP)(e)}})}),Mt=Bt.map((e=>e?.groups??null)).map((e=>e?.find((e=>"districts"===e.type))??null)).map(bt.Fq),Dt=(0,r.createEvent)({sid:"-cvfeo0"}),Rt=Bt.map((e=>e?.polygons_geo_json??null)),$t=(0,o.createGate)({and:[],or:{sid:"cbura1"}}),{$data:Lt}=Et({$directionMapShowed:(0,r.createStore)(!0,{sid:"1kz1c"}),readyToFetchMapStyle:Dt,$placeData:Bt});(0,r.sample)({and:[{clock:[Rt.updates,Nt.H.outputs.$theme.updates],target:Dt}],or:{sid:"svfcep"}}),(0,r.sample)({and:[{clock:$t.open,source:{direction:V.R.outputs.$direction,isMobile:H.l.outputs.$isMobile},filter:({isMobile:e,direction:t})=>!e&&Boolean(t),fn:({direction:e})=>({direction:e}),target:At}],or:{sid:"t9pzu3"}});const zt={outputs:{$mapStyleData:Lt,$travelMapData:Bt,$initialDistrictPins:Mt,TrapPreviewGate:$t},internals:{fetchTravelMap:At}},{createDistrictPins:Ot}=vt.qu.inputs,{$mapboxInstance:Ut}=wt.outputs,{$initialDistrictPins:Ft}=zt.outputs,Vt=(0,r.combine)({and:[{map:Ut},({map:e})=>{if(!e)return null;const{width:t,height:n}=(0,jt.S3)(e);return{minX:0,minY:0,maxX:t,maxY:n-72}}],or:{sid:"ejt9l1"}}),{setDistrictPinSize:qt,recalculatePinsPosition:Ht,$pins:Gt,$mapDistrictPins:Wt}=Ot({$boundingBox:Vt,$mapboxInstance:Ut,$isCalculationEnabled:U.y.outputs.$isClient,$selectedPinId:(0,r.createStore)(null,{sid:"6wc6ol"}),$poisFromDistrict:(0,r.createStore)([],{sid:"g972sd"}),$initialDistrictPins:Ft});Wt.reset(bt.mH.inputs.fetch);const Zt={inputs:{setDistrictPinSize:qt,recalculatePinsPosition:Ht},outputs:{$mapDistrictPins:Wt,$pins:Gt}};var Qt=n(54236),Yt=n(54428);const Jt=(0,r.sample)({and:[{clock:[d.i.outputs.exact.$departDate.updates,d.i.outputs.exact.$returnDate.updates,d.i.outputs.$passengers.updates]}],or:{sid:"vemoam"}});(0,r.sample)({and:[{clock:[Yt.O.outputs.$jwt.updates,j.qF.outputs.$isFeedEnabled.updates,q.y.outputs.$currency.updates,Qt.z.outputs.$localeDeprecated.updates,V.R.outputs.$direction.updates,Jt],source:{locale:Qt.z.outputs.$localeDeprecated,direction:V.R.outputs.$direction,flag:j.qF.outputs.$isFeedEnabled},filter:({direction:e,flag:t,locale:n})=>Boolean(n&&e&&t),target:ze.inputs.fetch}],or:{sid:"d1thv9"}}),(0,r.sample)({and:[{source:V.R.outputs.$direction,filter:e=>!e,target:ze.inputs.reset}],or:{sid:"dn9h0c"}}),(0,r.sample)({and:[{source:ze.outputs.$nearbyLocationsIds,filter:e=>Boolean(e.length),target:xt.inputs.fetchLocations}],or:{sid:"e23x13"}}),(0,r.sample)({and:[{clock:ze.outputs.$data,filter:Boolean,fn:()=>null,target:ze.inputs.setSourcePlace}],or:{sid:"egyd1u"}});var Kt=n(54870),Xt=n(32671),en=n(39018);const{forwardToAnalyticsWithDefaults:tn}=Xt.I.inputs,{sendEvent:nn}=en.n.inputs;tn({clock:We.inputs.blockShowed,data:{action:"showed",label:"trap_content",category:"direction"},payload:(e,{payload:t})=>({...t,...e,userEvent:!1})}),(0,r.sample)({and:[{clock:We.inputs.providerClick,fn:({trap_id:e,role:t,contacts:n,order:i})=>({trap_id:e,occupation:t,click_url:n[0].url,item_position:i,content_source:"direction"}),target:We.internals.providerClickedAnalytics}],or:{sid:"g5orgp"}}),tn({clock:We.internals.providerClickedAnalytics,data:{action:"clicked",label:"content_providers",category:"direction"},payload:(e,{payload:t})=>({...t,...e,userEvent:!0})}),(0,r.sample)({and:[{clock:We.internals.providerClickedAnalytics,fn:()=>({type:"koroche_open_local_contact"}),target:nn}],or:{sid:"hk9u1x"}}),tn({clock:We.inputs.showMoreHotelsClicked,data:{action:"clicked",label:"hotels",category:"direction"},payload:(e,{payload:t})=>({...t,...e,userEvent:!0})}),(0,r.sample)({and:[{clock:We.inputs.textExpandClick,source:{location_id:V.R.outputs.$direction,location_name:Kt.C.outputs.$park.map((e=>e?.slug??null))},fn:({location_id:e,location_name:t},{trap_id:n})=>({trap_id:n,location_id:e??"",location_name:t??""}),target:We.internals.sendTextExpandAnalitics}],or:{sid:"iv0chm"}}),tn({clock:We.internals.sendTextExpandAnalitics,data:{action:"clicked",label:"trap_description",category:"direction"},payload:(e,{payload:t})=>({...t,...e,userEvent:!0})}),(0,r.sample)({and:[{clock:We.inputs.hotelItemShowed,source:q.y.outputs.$currency,fn:(e,t)=>({source:"explore",hotel_id:t.search_hotel_link_v2?(0,W.wB)(t.search_hotel_link_v2):void 0,rating:t.rating,stars:t.stars,price_per_night:t.price_from,currency:e}),target:We.internals.sendHotelItemShowedAnalitics}],or:{sid:"-eptihc"}}),tn({clock:We.internals.sendHotelItemShowedAnalitics,data:{action:"showed",label:"offer",category:"hotels"},payload:(e,{payload:t})=>({...t,...e,userEvent:!1})});const sn={feed:ze,widget:M,analytics:We,nearbyParks:xt,districtPins:Zt,mapboxInstance:wt,previewMap:zt};var on,an=n(94184),rn=n.n(an),cn=n(47956),ln=n(44904),dn=n(31087),un=n(43587),pn=n(1156),mn=n(39535),hn=n(49963),yn=n(44619),gn=n(16097),_n="s__RekoOrh__Tnih48WfITv",fn=n(4407);function kn(){return kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},kn.apply(this,arguments)}var xn=function(e){return s.createElement("svg",kn({width:6,height:6,xmlns:"http://www.w3.org/2000/svg"},e),on||(on=s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0v6h6a6 6 0 01-6-6z"})))},vn={badge:"s__Uu0HBD_do1PC0Tv6xfP9",corner:"s__PZEgVk4tSGRmYYdxIBOJ",topCorner:"s__sU_wQHYEWmzGo65JhAiA",bottomCorner:"s__VuykG0ooMedk_DVNpLHg"};function bn({className:e,title:t,textColor:n,backgroundColor:i}){const s=(0,o.useUnit)(Nt.H.outputs.$isNight),a=s?n.dark_color:n.light_color,r=s?i.dark_color:i.light_color;return(0,p.jsxs)("div",{className:rn()(e,vn.badge),style:{backgroundColor:r},children:[(0,p.jsx)(hn.x,{type:yn.y.Body3Semi,className:vn.title,truncateMode:yn.k.SingleLine,children:(0,p.jsx)("span",{style:{color:a},children:t})}),(0,p.jsx)(xn,{className:rn()(vn.corner,vn.topCorner),style:{fill:r}}),(0,p.jsx)(xn,{className:rn()(vn.corner,vn.bottomCorner),style:{fill:r}})]})}function jn({imageUrl:e,title:t,subtitle:n,badge:i,imageSize:s,className:o,backgroundColor:a,onClick:r}){return(0,p.jsxs)("div",{className:rn()("s__J7ZHoXiwzo0NlyQfNdl8",o),onClick:r,children:[(0,p.jsxs)("div",{className:"s__gDAoDmcTafqbS4XaQGhA",style:{backgroundColor:a},children:[(0,p.jsx)("div",{className:"s__tvMi0GyQpAEV0SNuDWER",children:(0,p.jsx)(fn.E,{className:"s__upXpP1tdGkRi3QFVqhBJ",srcTemplate:e,width:s,height:s,contrastOverlay:!0})}),i&&(0,p.jsx)(bn,{className:"s__wivxTYp25ApkKji4cYAx",title:i.text,textColor:i.style.text_color,backgroundColor:i.style.background_color})]}),(0,p.jsx)(hn.x,{className:"s__htwsw6zjDoxP9OamSur7",type:yn.y.Body2Semi,truncateMode:n?yn.k.SingleLine:yn.k.TwoLines,children:t}),n&&(0,p.jsx)(un.AT,{className:"s__wR2wIYJIvP7F2sLlnK1X",type:yn.y.Body3Regular,truncateMode:yn.k.SingleLine,children:n})]})}function Cn({block:e,className:t,onAllPlacesClick:n,onPlaceClick:i}){const{isMobile:a}=(0,o.useUnit)({isMobile:H.l.outputs.$isMobile}),{places:r,button:c,title:l,subtitle:d}=e,u=(0,s.useMemo)((()=>1===r.length),[r.length]),m=(0,s.useMemo)((()=>2===r.length),[r.length]),h=(0,s.useMemo)((()=>r.length>2?179:131),[r.length]),{scrollForward:y,scrollBackward:g,isAtStart:_,isAtEnd:f,carouselRef:k}=function({gapWidth:e,itemWidth:t}){const n=(0,s.useRef)(null),[i,o]=(0,s.useState)(!0),[a,r]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e=n.current,t=()=>{if(!e)return;const{scrollLeft:t,scrollWidth:n,clientWidth:i}=e;o(t<=0),r(t+i>=n)};return e&&(e.addEventListener("scroll",t,{passive:!0}),t()),()=>{e&&e.removeEventListener("scroll",t)}}),[]);const c=(0,s.useCallback)((()=>{if(!n.current)return 0;const{clientWidth:s}=n.current;return i||a?2*t+.5*e-s/2:t+e}),[a,i,t,e]);return{scrollBackward:(0,s.useCallback)((()=>{if(!n.current)return;const e=c();n.current.scrollBy({left:-e,behavior:"smooth"})}),[c]),scrollForward:(0,s.useCallback)((()=>{if(!n.current)return;const e=c();n.current.scrollBy({left:e,behavior:"smooth"})}),[c]),isAtStart:i,isAtEnd:a,carouselRef:n}}({gapWidth:12,itemWidth:179}),x=(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"s__ZaZ1VrXfLB8M7_wu1m0c",children:[(0,p.jsx)(hn.x,{className:"s__bmro3VPqhm1mqz8lcc3k",type:yn.y.Title2Bold,children:l}),(0,p.jsx)(hn.x,{className:"s__xtWUwvCpODvWN6KzMIu4",type:yn.y.Body1Regular,children:d})]}),c&&(0,p.jsx)("div",{className:"s__QoRk3CxSeHBXTzTUbZHg",children:(0,p.jsx)(pn.z,{size:mn.qE.M,mod:mn.Ly.Default,priority:mn.Ji.Secondary,onClick:()=>{"group_id"===c.navigation.type?n({type:"group_id",groupId:c.navigation.group_id}):n({type:"deeplink",deeplink:c.navigation.deeplink})},children:c.text})})]});return(0,p.jsxs)("div",{className:rn()("s__QzzU9ndQYi74HJkyRFMj",t),children:[a?x:(0,p.jsx)("div",{className:rn()("s__mo6xtq1Ik6yHdZNqMKw2",!_&&"s__AM_75s0JLxwVeoMiKt3z"),children:x}),(0,p.jsxs)("div",{className:rn()("s__ptrtW089nOQCy0LUJjea",u&&"s__NCfSfQ8W5wb9zaWXWgpL",m&&"s__j7m0suAEl0efg1aMeSIx"),children:[(0,p.jsxs)("nav",{className:"s__mJ1WdncPYj0iqcXKufVr",children:[!_&&(0,p.jsx)("div",{onClick:g,className:rn()(_n,"s__R98iaMYTkU3w07GWc_fy"),children:(0,p.jsx)(gn.V,{})}),!f&&(0,p.jsx)("div",{onClick:y,className:rn()(_n,"s__PYB28ZkMHYdIqr0QwQSQ"),children:(0,p.jsx)(gn.V,{})})]}),(0,p.jsx)("div",{ref:k,className:"s__MqN2qpZNcisvmwv7vkf1",children:r.map(((e,t)=>(0,p.jsx)(jn,{title:e.name,subtitle:e.description,imageUrl:e.image_url,imageSize:h,className:"s__hGhEkst2vs5lbU1Geex7",badge:e.badge,backgroundColor:e.background_color,onClick:()=>{"group_id"===e.navigation.type?i({type:"group_id",groupId:e.navigation.group_id,placeId:e.id}):i({type:"deeplink",deeplink:e.navigation.deeplink})}},t)))})]})]})}const wn=(0,r.createEvent)({sid:"mshtq6"}),Sn=(0,r.createEvent)({sid:"-792wq3"}),Nn=(0,r.createEvent)({sid:"sibucg"}),En=(0,r.createEvent)({sid:"-2gn0sd"}),Tn=(0,r.createEvent)({sid:"-g3s300"}),Pn=(0,r.createEvent)({sid:"-okkx99"});(0,r.sample)({and:[{clock:wn,filter:e=>"group_id"===e.type,fn:e=>e,target:Nn}],or:{sid:"-u1t6hr"}}),(0,r.sample)({and:[{clock:wn,filter:e=>"deeplink"===e.type,fn:e=>e,target:En}],or:{sid:"-tmexvn"}}),(0,r.sample)({and:[{clock:Sn,filter:e=>"group_id"===e.type,fn:e=>e,target:Tn}],or:{sid:"-tikdq4"}}),(0,r.sample)({and:[{clock:Sn,filter:e=>"deeplink"===e.type,fn:e=>e,target:Pn}],or:{sid:"-t36540"}}),(0,r.sample)({and:[{clock:Tn,fn:({groupId:e})=>({mapOpenSource:dn.Oj.POI_CAROUSEL,openSource:dn.Ur.DIRECTION,layer:e}),target:cn.I.inputs.open}],or:{sid:"-snrwhw"}}),(0,r.sample)({and:[{clock:Nn,source:V.R.outputs.$direction,fn:(e,{groupId:t,placeId:n})=>({guideId:e,mapOpenSource:dn.Oj.POI_CAROUSEL,openSource:dn.Ur.DIRECTION,poiQueryOpenSource:dn.ik.DIRECTION,layer:t,poi:n}),target:ln.Y.inputs.open}],or:{sid:"-s5mowz"}}),(0,r.sample)({and:[{clock:Tn,source:V.R.outputs.$direction,fn:(e,{groupId:t})=>({guideId:e,mapOpenSource:dn.Oj.POI_CAROUSEL,openSource:dn.Ur.DIRECTION,layer:t}),target:cn.I.inputs.open}],or:{sid:"2t4nn4"}}),(0,r.sample)({and:[{clock:[En,Pn],fn:({deeplink:e})=>e,target:(0,r.createEffect)((e=>{window.open(e,"_blank")}),{sid:"qvdpt2"})}],or:{sid:"3cdger"}});const In={inputs:{placeClick:wn,groupClick:Sn}},Bn=(0,r.withFactory)({sid:"nfw0sf",fn:()=>(0,c.SC)({view:Cn,bind:{onAllPlacesClick:In.inputs.groupClick,onPlaceClick:In.inputs.placeClick}})}),An=(0,i.G6)({api:{containers:{CarouselBlockContainer:Bn}},importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/guides/services/direction_screen_carousel_v2_plugin/index.ts"});var Mn=n(77657),Dn=n(10001);const Rn=({className:e,onClick:t})=>{const{t:n}=(0,y.useTranslation)("widget_guides_feed"),i=(0,o.useUnit)(H.l.outputs.$isMobile);return(0,p.jsx)(a.A.Block,{className:rn()("s__XVRobUCPxHXtnuPHim2R",e),children:(0,p.jsxs)(u.A,{size:i?Mn.g.Mobile:Mn.g.Desktop,children:[(0,p.jsx)(u.A.Icon,{mod:Dn.i.Warning}),(0,p.jsx)(u.A.Title,{children:n("feedError.title")}),(0,p.jsx)(u.A.Content,{className:"s__Amr1EFFuZL9J6G932CoN",children:n("feedError.description")}),(0,p.jsx)(u.A.Actions,{children:(0,p.jsx)(u.A.Action,{onClick:t,children:n("feedError.button")})})]})})};const $n=()=>(0,p.jsx)("div",{className:"s__E5bRl_do_3RFkFOo6qAl"});var Ln="s__ssaVwzkhdH9AA7LsqKnb";const zn=({className:e})=>(0,o.useUnit)(H.l.outputs.$isMobile)?(0,p.jsx)("div",{className:Ln}):(0,p.jsx)(un.qH,{className:rn()(e,"s__OVYzT5vefsJXP1OI9VbJ"),children:(0,p.jsx)("div",{className:Ln,children:(0,p.jsx)("div",{className:"s__uK0BP9FyWjSkRkfChKdX"})})});const On=()=>(0,p.jsxs)("div",{className:"s__jVTQX1mWxipTlsC8v8Ep",children:[(0,p.jsx)("div",{className:"s__ek7QU8qYWllho7FaYN4N"}),(0,p.jsx)("div",{className:"s__pEL0bDUiYPiu7MSloWXs"})]}),Un=()=>{if((0,o.useUnit)(H.l.outputs.$isMobile))return null;const e=new Array(4).fill(null).map(((e,t)=>(0,p.jsx)(On,{},t)));return(0,p.jsxs)(un.qH,{className:"s__kYocTABYF1NVLfqje3JS",children:[(0,p.jsx)("div",{className:"s__Z8ONhy56vcMdeKLy7djc"}),(0,p.jsx)("div",{className:"s__Q1Jm_i2cIvjwQO2F_mM5",children:e}),(0,p.jsx)("div",{className:"s__U3bPSCnCIhooxFvJ1JNw"})]})},Fn=e=>(0,p.jsxs)("div",{className:rn()("s__wCCkNnHKriMlx8fUtSHx",e.className),children:[(0,p.jsx)($n,{}),(0,p.jsx)(zn,{}),(0,p.jsx)(Un,{})]});var Vn={feed:"s__CgGJxL7EiL38uQHQvyvh",feedCarouselV2:"s__DaApSJUKd58eU0bQeSUo",error:"s__mQrGgMigebYYgHohc1rQ",skeleton:"s__yLLHK6u6fYFUXgQ7Emcl",oneColumnBlock:"s__B7p0LmZpRmNDiVGQADpH",twoColumnsBlock:"s__EsDLCwfEswK6jTce3Fp4",carouselV2:"s__ItndWgbwEDWPePWiPLZX",header:"s__ngIenD8OjESCID1fupnw"};const qn=({block:e,className:t})=>(0,p.jsx)("div",{className:rn()("s__zvnyuBEEWpOC2Yf4h1iA",t),children:(0,p.jsxs)("div",{className:"s__VGRhQN7gvrPwIIwHv5xx",children:[(0,p.jsx)(hn.x,{className:"s__lB4Bv_jz95LwFy06oZN7",type:yn.y.Title2Bold,children:e.title}),e.subtitle&&(0,p.jsx)(hn.x,{className:"s__vfF4tB3sF9cv23HbczaF",type:yn.y.Body2Paragraph,mobileType:yn.y.Body1Paragraph,children:e.subtitle})]})});var Hn=n(50112),Gn=n(97405),Wn={trapPreview:"s__MtFQQRTA1RXpcGCDAayP",header:"s__J85UgdBV_lgZmmgo16W6",title:"s__TI7i0ZWzCwqRQYGYxIIq",image:"s__dTjEihgoGDUdcxZkVb4G",map:"s__Zs8FGxe9vA8ozuTBJnml",imageWrapper:"s__w6KAF65k3oHY8NkVyefp",bubble:"s__GxiYWYx8ufJ5ZjzhUHZ8",bubbles:"s__Lft1c1BdrasxQN0cw8Gf",bubblesRow:"s__c5DN58P332JuUgxPFxBn"},Zn=n(62221);let Qn;!function(e){e[e.S=0]="S",e[e.M=1]="M",e[e.L=2]="L"}(Qn||(Qn={}));const Yn=e=>{switch(e){case Qn.L:return yn.y.Body2Semi;case Qn.M:return yn.y.Body3Semi;case Qn.S:return yn.y.CaptionSemi;default:return yn.y.Body2Semi}},Jn=({iconUrl:e,title:t,className:n,size:i=Qn.L})=>(0,p.jsxs)("div",{className:rn()("s__IeNsOhmbbJRXbjGYNHy4",n),children:[e&&(0,p.jsx)(un.Mf,{imageAlt:"",imageUrl:e,className:rn()("s__nFArTuidbQMAreL3aGiF",i===Qn.M&&"s__n1Q2SQZef6xc3IvGXhgK",i===Qn.S&&"s__XNgLUUOsugNHo5YYsmNZ")}),(0,p.jsx)(hn.x,{type:Yn(i),children:t})]}),Kn=(e,t)=>(0,p.jsx)(Jn,{className:Wn.bubble,title:e.title,iconUrl:e.emoji.svg,size:t},e.id),Xn=({block:e,onClick:t,cardWithTopIcon:n})=>{const i=(0,o.useUnit)(Nt.H.outputs.$theme),{bubblesRef:a,mapRef:r,currentSize:c,shouldRemoveLongestBubble:l}=(()=>{const{ref:e,width:t,isAlreadyRendered:n}=(0,Zn.y)(),{ref:i,width:o,isAlreadyRendered:a}=(0,Zn.y)(),[r,c]=(0,s.useState)(!1),[l,d]=(0,s.useState)(Qn.L),u=n||a,p=t-o,m=(0,Gn.D9)(u?p:0);return(0,s.useEffect)((()=>{if(u&&m&&m!==p&&p<=24)switch(l){case Qn.L:return void d(Qn.M);case Qn.M:d(Qn.S);break;case Qn.S:if(!0===r)return;c(!0),d(Qn.L)}}),[u,m,p,l,r]),{bubblesRef:i,mapRef:e,currentSize:l,shouldRemoveLongestBubble:r}})(),d=(0,s.useMemo)((()=>me({url:e.trap_preview.image_url,theme:i,width:311,height:128})),[e,i]),{isImageLoaded:u,onImageLoad:m}=(0,Gn.h3)(d),h=e.layers,y=(0,s.useMemo)((()=>h.length>4?h.slice(0,3):h.slice(0,4)),[h]),g=(0,s.useMemo)((()=>l?(e=>{const t=e.reduce(((e,t)=>t.title.length>e.title.length?t:e));return e.filter((e=>e.id!==t.id))})(y):y),[y,l]),_=h.length>(l?3:4),f=g.slice(0,2),k=g.slice(2);return(0,p.jsxs)(un.qH,{cardWithTopIcon:n,title:e.trap_preview.title,iconUrl:e.emoji?.svg,className:Wn.trapPreview,classNames:{header:Wn.title},onClick:t,children:[(0,p.jsxs)("div",{ref:r,className:Wn.map,onClick:t,children:[(0,p.jsx)("div",{className:Wn.imageWrapper,children:(0,p.jsx)("img",{className:rn()(Wn.image,Wn.transition,u&&Wn.visible),onLoad:m,src:d})}),(0,p.jsxs)("div",{ref:a,className:Wn.bubbles,children:[(0,p.jsx)("div",{className:Wn.bubblesRow,children:f.map((e=>Kn(e,c)))}),k.length>0&&(0,p.jsxs)("div",{className:Wn.bubblesRow,children:[k.map((e=>Kn(e,c))),_&&(0,p.jsx)(Jn,{className:Wn.bubble,size:c,title:"+"+(h.length-g.length)})]})]})]}),(0,p.jsx)(un.of,{testId:"places-on-map-btn",children:e.button.text})]})};var ei=n(25650);const ti=({children:e,className:t,onClick:n})=>(0,p.jsxs)(pn.z,{className:rn()("s__VysbEy0KNzDKYxayzq9b",t),priority:mn.Ji.Primary,size:mn.qE.Custom,onClick:n,testId:"places-on-map-btn",children:[(0,p.jsx)(pn.z.Icon,{className:"s__YdcSPJacOxXpgC4K8BJv",children:(0,p.jsx)(ei.a,{})}),e]});const ni="guides-feed-preview-map",{DistrictPin:ii}=vt.qu.containers,si=({pin:e})=>{const{setSize:t}=(0,o.useUnit)({setSize:sn.districtPins.inputs.setDistrictPinSize}),{ref:n,height:i,width:a,isAlreadyRendered:c}=(0,Zn.y)(),l=e.displayType===vt.ZF.PIN?-i/2:0,d=vt.ai;return(0,s.useEffect)((()=>{c&&t({type:e.displayType,id:e.id,width:a+d,height:i+d})}),[a,i,c,e.id,e.displayType,t,d]),(0,p.jsx)(Hn.Jx,{style:{zIndex:(0,r.withFactory)({sid:"-td3w7y",fn:()=>(0,vt.wY)(!1,e.displayType)}),pointerEvents:"none"},latitude:e.controlledCoordinates.latitude,longitude:e.controlledCoordinates.longitude,offset:[0,l],children:(0,p.jsx)("div",{ref:n,children:(0,p.jsx)(ii,{pin:e,isHovered:!1,isSelected:!1})})})},oi=(0,s.memo)(si),ai=({block:e,onClick:t,cardWithTopIcon:n})=>{const{mapStyles:i,placeData:a,districtPins:r,recalculatePinsPosition:c}=(0,o.useUnit)({mapStyles:sn.previewMap.outputs.$mapStyleData,placeData:sn.previewMap.outputs.$travelMapData,districtPins:sn.districtPins.outputs.$pins,recalculatePinsPosition:sn.districtPins.inputs.recalculatePinsPosition});return(()=>{const e=(0,Hn.Sx)(),{setMapboxInstance:t,isClient:n}=(0,o.useUnit)({setMapboxInstance:sn.mapboxInstance.inputs.setMapboxInstance,isClient:U.y.outputs.$isClient}),i=e[ni];(0,s.useEffect)((()=>(i&&n&&t(i.getMap()),()=>{t(null)})),[n,i,t])})(),(0,o.useGate)(sn.previewMap.outputs.TrapPreviewGate),i&&a?(0,p.jsxs)(un.qH,{cardWithTopIcon:n,className:"s__JMzMda7NAjZA0ibpfXZw",children:[e.header&&(0,p.jsx)(hn.x,{className:"s__HSfbsT433vHdrMgnrswK",type:yn.y.Title3Bold,children:e.header}),(0,p.jsx)("div",{className:"s__zrsQgHXs37VGAVQAY4Kx",onClick:t,children:(0,p.jsx)(un.c3,{id:ni,mapStyle:i,zoom:a.start_zoom,startPoint:a.start_point,className:"s__URSQ9Mg00X6WZISFTRtw",onLoad:c,children:r?.map((e=>(0,p.jsx)(oi,{pin:e},e.id)))})}),(0,p.jsx)(ti,{className:"s__d8ejIJwAkS5Txq2Gu5GH",onClick:t,children:e.button.text})]}):(0,p.jsx)(zn,{className:"s__lczZn09j1PxvU_UzRA5J"})},ri=e=>(0,o.useUnit)(H.l.outputs.$isMobile)?(0,p.jsx)(Xn,{...e}):(0,p.jsx)(Hn.Ib,{children:(0,p.jsx)(ai,{...e})});const ci=({block:e,onPinClick:t,onShowPlacesClick:n,cardWithTopIcon:i})=>(0,o.useUnit)(H.l.outputs.$isMobile)?(0,p.jsx)(un.HY,{cardWithTopIcon:i,...ke(e),onButtonClick:()=>n(e.id),children:e.places.map((n=>(0,p.jsx)(un.d$,{title:n.name,subtitle:n.description,url:n.image_url,onClick:()=>t(e.id,n),icon:ye(n),iconSize:un.Jh.LARGE,showOverlay:he(n)},n.id)))}):(0,p.jsx)(un.Ri,{cardWithTopIcon:i,title:e.title,subtitle:e.subtitle,iconUrl:e.emoji.svg,iconImageUrl:e.icon_image_url,buttonText:e.button?.text,onButtonClick:()=>n(e.id),className:rn()("s__DHMesDGIYSwTue9geQhS",i&&"s__FtJY0h3EuZE9Ao2qIn56"),children:(0,p.jsx)("div",{className:"s__iDoqv0dIyWu9XQ4YP4iE",children:e.places.slice(0,2).map((n=>(0,p.jsx)(un.ek,{onClick:()=>t(e.id,n),image:({className:e})=>(0,p.jsx)("div",{className:e,children:(0,p.jsxs)(un.G0,{imageUrl:n.image_url,size:170,caption:n.name,customOverlay:n.premium?.badge===dn.gZ.PAID,children:[(0,p.jsx)(un.G0.Icon,{type:ye(n),size:un.Jh.LARGE}),he(n)&&(0,p.jsx)(un.G0.Overlay,{})]})}),content:()=>(0,p.jsx)(hn.x,{className:rn()("s__p_f_JkqWWfCZswTPvwKi"),type:yn.y.Body2Regular,truncateMode:yn.k.TwoLines,children:n.name})},n.id)))})});function li(e,t){return e?151:t?374:181}const di=({block:e,shouldShrink:t=!1,onPinClick:n,onShowPlacesClick:i,cardWithTopIcon:a})=>{const r=(0,o.useUnit)(H.l.outputs.$isMobile),c=t=>e.places.slice(0,t),l=(0,s.useMemo)((()=>r?e.places.length%2==0?e.places:c(e.places.length-1):c(5)),[r]);return(0,p.jsx)(un.Ri,{cardWithTopIcon:a,buttonText:e.button?.text,iconUrl:e.emoji?.svg,iconImageUrl:e.icon_image_url,title:e.title,subtitle:e.subtitle,onButtonClick:()=>i(e.id),children:(0,p.jsx)("div",{className:rn()("s__V55baHNdteFQiPQCXGwK",t&&"s__MmivruYWZBCywkv5pSBq"),children:l.map(((t,i)=>{const s=0===i&&l.length>=5;return(0,p.jsx)(un.ek,{className:s?"s__I9n3VYkWcmGONZun9nbf":void 0,onClick:()=>n(e.id,t),image:({className:e})=>(0,p.jsx)("div",{className:e,children:(0,p.jsxs)(un.G0,{imageUrl:t.image_url,size:li(Boolean(r),s),customOverlay:t.premium?.badge===dn.gZ.PAID,children:[(0,p.jsx)(un.G0.Icon,{className:s?"s__VjH235oHaBBicNwPfhhL":void 0,size:un.Jh.LARGE,type:ye(t)}),he(t)&&(0,p.jsx)(un.G0.Overlay,{})]})},t.id)},t.id+1)}))})})};var ui=n(80871);const pi=({iconUrl:e,title:t,subtitle:n,icon:i,onClick:s})=>(0,p.jsx)(pn.z,{className:"s__IjB25u3OIW88_go93cW8",onClick:s,priority:mn.Ji.Tertiary,mod:mn.Ly.Custom,children:(0,p.jsxs)(pn.z.Label,{className:"s__iZjCmZM3uQQtdUTIbtU2",children:[(0,p.jsx)("img",{className:"s__PC4qWyaL917pT1XUmn1R",src:e}),(0,p.jsxs)("div",{className:"s__kgILwQSPifsWQGdIu3aR",children:[(0,p.jsxs)("div",{className:"s__d9kubra9d3ZW_xCuym4d",children:[(0,p.jsx)(hn.x,{className:"s__ZjxmQXvpIs7f502uToCw",type:yn.y.Body1Semi,children:t}),i&&(0,p.jsx)(un.TC,{badge:i,isSmall:!0,className:"s__kM14qShDkVAb714h6aTo"})]}),(0,p.jsx)(un.AT,{className:"s__R7Qf6fHVzjd0q5pKgRo6",type:yn.y.CaptionRegular,children:n})]}),(0,p.jsx)(ui.i,{className:"s__BB10lBMM8gh4XWmyCTlc"})]})});const mi=({block:e,onLayerClick:t,cardWithTopIcon:n})=>(0,p.jsx)(un.qH,{cardWithTopIcon:n,className:"s__EPnihRy1JPxMgniuiCqD",iconUrl:e.emoji?.svg,title:e.title,children:(0,p.jsx)("div",{children:e.layers.map((e=>(0,p.jsx)(pi,{title:e.title,subtitle:e.subtitle,iconUrl:e.emoji.svg,icon:e.premium?.badge,onClick:()=>t(e.id)},e.id)))})}),hi=({block:e,trap_id:t})=>{const n=(0,o.useUnit)(sn.analytics.inputs.providerClick);return(0,p.jsx)(un.Cl,{providers:e.providers,onProviderClick:e=>{n({...e,trap_id:t})}})};const yi=e=>(0,p.jsx)(un.qH,{cardWithTopIcon:e.cardWithTopIcon,className:"s__d0ravPA2niHSVSHq3GJi",title:e.block.title,classNames:{header:"s__ccBo3asYNanA5yK9Iwvw"},children:(0,p.jsx)("div",{className:"s__uI2AEWJQNC3nMzcQlhEx",children:e.block.places.map((t=>(0,p.jsx)(un.ek,{image:({className:e})=>(0,p.jsx)("div",{className:e,children:(0,p.jsxs)(un.G0,{imageUrl:t.image_url,size:151,caption:t.name,customOverlay:t.premium?.badge===dn.gZ.PAID,children:[(0,p.jsx)(un.G0.Icon,{type:ye(t),size:un.Jh.LARGE}),he(t)&&(0,p.jsx)(un.G0.Overlay,{})]})}),content:({className:e})=>(0,p.jsx)(hn.x,{className:rn()("s__mcotWPISr27tVebdwGr2",e),type:yn.y.Body2Regular,truncateMode:yn.k.TwoLines,children:t.name}),onClick:()=>e.onPinClick(void 0,t)},t.id)))})});var gi=n(50308),_i=n.n(gi),fi=n(97650);const ki=(0,s.createContext)(null),xi=({children:e})=>{const t=(0,s.useRef)(new Set),n=(0,o.useUnit)(V.R.outputs.$direction);return(0,s.useEffect)((()=>{t.current.clear()}),[n]),(0,p.jsx)(ki.Provider,{value:t,children:e})},vi=({blockItem:e,children:t,className:n,threshold:i=.75})=>{const[a,r]=(0,fi.YD)({threshold:i}),{sendBlockShowedAnalytics:c}=(0,o.useUnit)({sendBlockShowedAnalytics:sn.analytics.inputs.blockShowed}),l=(0,s.useContext)(ki),d=(0,s.useCallback)((()=>{e.analytics.block_order&&(l?.current.add(e.analytics.block_order),c(e.analytics))}),[e,c]);return(0,s.useEffect)((()=>{r&&e.analytics.block_order&&!l?.current.has(e.analytics.block_order)&&d()}),[r,e.analytics.block_order,d]),(0,p.jsx)("div",{className:n,ref:a,children:t})};const bi=({className:e})=>(0,p.jsxs)("div",{className:rn()("s__JsgyY4HfJr9w4Tt87n77",e),children:[(0,p.jsx)("div",{className:"s__pEjZ3eQZBsR8r0qhMCW7"}),(0,p.jsx)("div",{className:"s__OrqvCiulpdQmIrJT5gJh",children:(0,p.jsx)("div",{className:"s__CsIQ2Lzb982nEuP7z1As"})})]}),ji=({cardWithTopIcon:e,blockItem:t,Component:n,componentProps:i={},className:a,SkeletonComponent:r=bi})=>{const{defaultHeaders:c}=(0,o.useUnit)({defaultHeaders:F.D.outputs.$defaultHeaders}),[l,d]=(0,s.useState)(t.data),[u,m]=(0,s.useState)(!1),[h,y]=(0,fi.YD)({threshold:0,triggerOnce:!0});return(0,s.useEffect)((()=>{!l&&y&&t.url&&(m(!0),async function(e,t){const n=await fetch(e,{headers:t});if(!n.ok)throw new Error(`Failed to load feed block ${e}`);return n.json()}(t.url,c).then(d).catch(_i()).finally((()=>{m(!1)})))}),[t,y,l]),l?(0,p.jsx)(vi,{className:a,blockItem:t,children:(0,p.jsx)(n,{...i,block:l,cardWithTopIcon:e})}):!y||u?(0,p.jsx)("div",{ref:h,className:a,children:(0,p.jsx)(r,{})}):null};const Ci=({className:e})=>{const t=new Array(4).fill(null).map(((e,t)=>(0,p.jsx)(On,{},t)));return(0,p.jsx)("div",{className:rn()("s__CfIZUixCGJi31y99CF86",e),children:(0,p.jsxs)(un.qH,{className:"s__F89Cx0t10qO0wshM3Cwy",children:[(0,p.jsx)("div",{className:"s__V6nar_mYkry_PM2sxKOf"}),(0,p.jsx)("div",{className:"s__il9f2adspwcVlvmm05oA",children:t}),(0,p.jsx)("div",{className:"s__nkVX_yz6BIzN6JpRvXGA"})]})})};const wi=({block:e,trap_id:t})=>{const n=(0,o.useUnit)(sn.analytics.inputs.textExpandClick),[i,a]=(0,s.useState)((()=>Boolean(e.expanded?.button_text))),[r,c]=(0,s.useState)((()=>e.text)),l=(0,s.useCallback)((()=>{a((e=>!e)),c(e?.expanded?.text??e.text),n({trap_id:t})}),[e,t,n]);return(0,p.jsxs)("div",{className:"s__Zzeh5m_UOmeyC5wtHtjJ",children:[(0,p.jsx)(un.Jv,{type:yn.y.Body1Paragraph,transformOnMobile:!0,children:r}),i&&(0,p.jsx)("div",{className:"s__eZlF061BSFfjwSzsNTdd",children:(0,p.jsx)("button",{className:"s__cTszDADsjK1IfsQx4CBY",type:"button",onClick:l,children:(0,p.jsx)(hn.x,{type:yn.y.Body1Paragraph,mobileType:yn.y.Body2Regular,children:e.expanded?.button_text})})})]})};var Si=n(62423),Ni="s__iuTF51mDayOrxDApMU5h",Ei=n(34701),Ti=n(87115);const Pi=({badges:e})=>e?(0,p.jsx)("div",{className:"s__O6uHZche2BGqOQdqjHOp",children:e.map(((e,t)=>(0,p.jsx)(Ei.C,{priority:Ti.Tt.Primary,className:"s__Mu5iCFdIe7ytqbiklXNl",size:Ti.OD.S,customHexColor:e.style.background_color,children:(0,p.jsxs)("div",{className:"s__o0xIhucRRU6U2QbY4Ink",children:[e.icon?.svg&&(0,p.jsx)("img",{className:"s__Jd9twqyZtGIIOm9D_v3Z",alt:"",src:e.icon.svg}),(0,p.jsx)(hn.x,{type:yn.y.Body3Semi,truncateMode:yn.k.SingleLine,style:{color:e.style.text_color},children:e.text})]})},t)))}):null,Ii=({block:e,onShowPlacesClick:t,onPinClick:n,cardWithTopIcon:i})=>(0,o.useUnit)(H.l.outputs.$isMobile)?(0,p.jsx)(un.HY,{cardWithTopIcon:i,...ke(e),buttons:(0,p.jsx)(un.WB,{text:e.landing_button?.text,cashBackType:Si.N9.CashbackHotelTrap}),onButtonClick:()=>t(e.id),children:e.places.map((t=>(0,p.jsx)(un.d$,{title:t.name,subtitle:t.description,url:t.image_url,className:Ni,icon:t.premium?.badge,iconSize:un.Jh.LARGE,onClick:()=>n(e.id,t),children:(0,p.jsx)(Pi,{badges:t.badges})},t.id)))}):(0,p.jsx)(un.Ri,{cardWithTopIcon:i,buttonText:e.button?.text,iconUrl:e.emoji.svg,iconImageUrl:e.icon_image_url,title:e.title,subtitle:e.subtitle,onButtonClick:()=>t(e.id),buttons:(0,p.jsx)(un.WB,{text:e.landing_button?.text,cashBackType:Si.N9.CashbackHotelTrap}),children:(0,p.jsx)("div",{className:"s__dqSzzcPOSGkDrldDpH4a",children:e.places.slice(0,4).map((t=>(0,p.jsx)(un.ek,{className:Ni,onClick:()=>n(e.id,t),image:({className:e})=>(0,p.jsxs)("div",{className:e,children:[(0,p.jsx)(un.G0,{size:181,imageUrl:t.image_url,customOverlay:t.premium?.badge===dn.gZ.PAID,children:(0,p.jsx)(un.G0.Icon,{type:t.premium?.badge,size:un.Jh.LARGE})}),(0,p.jsx)(Pi,{badges:t.badges})]},t.id),content:()=>(0,p.jsxs)("div",{className:"s__ZAGCvzQJ8KuEJVhPPaIV",children:[(0,p.jsx)(hn.x,{type:yn.y.Body2Regular,truncateMode:yn.k.TwoLines,children:t.name}),(0,p.jsx)(hn.x,{type:yn.y.Body3Regular,className:"s__xWJbgLybuQqKyK84HxGB",truncateMode:yn.k.SingleLine,children:t.description})]})},t.id)))})});const Bi=e=>{const t=e.length>=8?8:4;return e.slice(0,t)},Ai=({block:e,onPinClick:t,onShowPlacesClick:n,cardWithTopIcon:i})=>(0,o.useUnit)(H.l.outputs.$isMobile)?(0,p.jsx)(un.HY,{cardWithTopIcon:i,...ke(e),onButtonClick:()=>n(e.id),children:e.places.map((n=>(0,p.jsx)(un.d$,{title:n.name,subtitle:n.description,url:n.image_url,imageWidth:140,className:"s__CcLt91TSct5iSHVmdPPF",titleTextType:yn.y.Body2Regular,onClick:()=>t(e.id,n),icon:ye(n),iconSize:un.Jh.MEDIUM,showOverlay:he(n)},n.id)))}):(0,p.jsx)(un.Ri,{cardWithTopIcon:i,buttonText:e.button?.text,iconUrl:e.emoji.svg,iconImageUrl:e.icon_image_url,title:e.title,subtitle:e.subtitle,onButtonClick:()=>n(e.id),children:(0,p.jsx)("div",{className:"s__LMXR5kvoviMvxwW42Id0",children:Bi(e.places).map((n=>(0,p.jsx)(un.ek,{onClick:()=>t(e.id,n),image:({className:e})=>(0,p.jsx)("div",{className:e,children:(0,p.jsxs)(un.G0,{imageUrl:n.image_url,size:181,caption:n.name,customOverlay:n.premium?.badge===dn.gZ.PAID,children:[(0,p.jsx)(un.G0.Icon,{type:ye(n),size:un.Jh.LARGE}),he(n)&&(0,p.jsx)(un.G0.Overlay,{})]})},n.id),content:()=>(0,p.jsx)(hn.x,{type:yn.y.Body2Regular,className:"s__nrG2fAJqtJBl5KvpKjYi",truncateMode:yn.k.TwoLines,children:n.name})},n.id)))})});const Mi=({block:e,className:t})=>{const{emoji:n,text:i}=e;return(0,p.jsxs)(un.Qu,{className:rn()("s__h__pZWIdhUrO1dn74oGB",t),children:[(0,p.jsx)(un.Qu.Icon,{className:"s__a7Spp0TL5EfbKeCYdn3a",src:n.svg}),(0,p.jsx)(un.Qu.Text,{text:i,type:yn.y.Body1Paragraph,mobileType:yn.y.Body3Paragraph})]})};const Di=({img:e,zIndex:t})=>{const n=(0,o.useUnit)(H.l.outputs.$isMobile)?44:52,i=me({url:e.url,width:n,height:n}),{isImageLoaded:s,onImageLoad:a}=(0,Gn.h3)(i);return(0,p.jsx)("div",{className:"s__WSmUyDIH3H4Hv24eLPIC",style:{zIndex:t},children:(0,p.jsx)("img",{className:rn()("s__kzKG4FQokrYwCzXoMLkg",s&&"s__HOSaDRIYl4oiUShQaKyp"),src:i,alt:e.description?.text??"",onLoad:a})})},Ri=({block:e,isFirstBlock:t})=>(0,p.jsxs)("div",{className:rn()("s__Ve6HTMOLIKF1Tunf46kQ",!t&&"s__Uq1ZsaDAkGetkerBbvZk"),children:[(0,p.jsxs)("div",{className:"s__DYcMFFR3cNg4ry3TMdM8",children:[(0,p.jsx)(hn.x,{className:"s__E1U07jlof2EVUWchAa32",type:yn.y.Title2Bold,transformOnMobile:!0,children:e.title}),(0,p.jsx)(hn.x,{className:"s__k2UIuDKC3ya0A1sUVXk6",type:yn.y.Body2Paragraph,children:e.subtitle})]}),(0,p.jsx)("div",{className:"s__WUHA2PYUeuxZIaIG8b1U",children:e.images.map(((e,t)=>(0,p.jsx)(Di,{img:e,zIndex:t},t)))})]});var $i=n(51389),Li=n(92617),zi=n(94590);const Oi=({hotel:e,className:t})=>{const{t:n}=(0,y.useTranslation)("widget_guides_feed");return(0,p.jsxs)("div",{className:rn()("s__hHI2tdQkFmbfGl9jXvOO",t),children:[(0,p.jsxs)("div",{className:"s__k0U2d_NbgPqRc6O3Xv8N",children:[(0,p.jsx)(Ei.C,{className:"s__SkAEeJVj3mlc89fqCt80",size:Ti.OD.S,color:Ti.JV.Green,borderStyle:Ti.Pk.Brick,children:e.rating}),(0,p.jsx)(un.ME,{value:e.stars})]}),(0,p.jsx)(hn.x,{type:yn.y.Body2Regular,truncateMode:yn.k.TwoLines,children:e.name}),(0,p.jsxs)("span",{className:"s__EJn_VurKzbI83JN3_i7n",children:[(0,p.jsxs)(hn.x,{className:"s__MVr7ds2BQCTKDosG5oP5",type:yn.y.Body1Semi,children:[`${n("hotels.priceFrom")}`," ",(0,p.jsx)(un.fE,{price:e.price_from})]}),(0,p.jsx)(hn.x,{className:"s__J3u7zY1LVw4XqwjDYggt",type:yn.y.CaptionRegular,children:n("hotels.priceForPeriod")})]})]})};const Ui=({pin:e,onHotelClick:t,onViewItem:n})=>{const i=(0,$i.nS)((()=>n(e))),s=e.badges.length?e.badges[0]:null,o=(0,Li.r)({link:e.search_hotel_link||null,link_v2:e.search_hotel_link_v2||null,openSource:W.h0.direction_screen});return(0,p.jsx)(un.d$,{ref:i,href:o,title:e.name,url:e.main_photo_url,content:({className:t})=>(0,p.jsx)(Oi,{className:t,hotel:e}),onClick:()=>t({search_hotel_link_v2:e?.search_hotel_link_v2||null,entrypoint:zi.H_.ExploreDirectionHotels}),className:"s__q6rxgaIqjaxwMzSLoKJb",children:s&&(0,p.jsx)(Ei.C,{className:"s__CpLdVj3ceowDk6KSXtjk",size:Ti.OD.S,customHexColor:s.color,children:s.name})},e.id)},Fi=({block:e,onHotelClick:t,onMoreHotelsClick:n,onViewItem:i,cardWithTopIcon:s})=>(0,p.jsx)(un.HY,{cardWithTopIcon:s,title:e.title,subtitle:e.subtitle,iconUrl:e.emoji.svg,buttonText:e.button.text,buttonLink:e.data.search_location_link,buttons:(0,p.jsx)(un.WB,{text:e.landing_button?.text,cashBackType:Si.N9.CashbackHotelSerp}),onButtonClick:()=>n(e.data.search_location_link),children:e.data.hotels.map((e=>(0,p.jsx)(Ui,{pin:e,onHotelClick:t,onViewItem:i},e.id)))});const Vi=({pin:e,onHotelClick:t,onViewItem:n})=>{const i=(0,$i.nS)((()=>n(e))),s=e.badges.length?e.badges[0]:null,o=(0,Li.r)({link:e.search_hotel_link||null,link_v2:e.search_hotel_link_v2||null,openSource:W.h0.direction_screen});return(0,p.jsx)(un.ek,{ref:i,href:o,onClick:()=>t({search_hotel_link_v2:e?.search_hotel_link_v2||null,entrypoint:zi.H_.ExploreDirectionHotels}),image:({className:t})=>(0,p.jsx)("div",{className:t,children:(0,p.jsxs)("div",{className:"s__OVdfTtI388AaQ1uXuS_k",children:[(0,p.jsx)(un.G0,{size:181,imageUrl:e.main_photo_url}),s&&(0,p.jsx)(Ei.C,{className:"s__pi9KYAm61Wo7ROUztJxf",size:Ti.OD.S,customHexColor:s.color,children:s.name})]})}),content:()=>(0,p.jsx)(Oi,{hotel:e})})},qi=({block:e,onHotelClick:t,onMoreHotelsClick:n,onViewItem:i,cardWithTopIcon:s})=>(0,p.jsx)(un.Ri,{cardWithTopIcon:s,buttonText:e.button.text,iconUrl:e.emoji.svg,iconImageUrl:e.icon_image_url,title:e.title,subtitle:e.subtitle,buttonLink:e.data.search_location_link,buttons:(0,p.jsx)(un.WB,{text:e.landing_button?.text,cashBackType:Si.N9.CashbackHotelSerp}),onButtonClick:()=>n(e.data.search_location_link),children:(0,p.jsx)("div",{className:"s__Z9ZQbpYzvxkR47MO5c8_",children:e.data.hotels.slice(0,4).map((e=>(0,p.jsx)(Vi,{pin:e,onViewItem:i,onHotelClick:t},e.id)))})}),Hi=({block:e,cardWithTopIcon:t})=>{const{isMobile:n,onHotelClick:i,sendShowMoreHotelsClickedAnalytics:s,sendHotelItemShowedAnalytics:a}=(0,o.useUnit)({isMobile:H.l.outputs.$isMobile,onHotelClick:W.$o.inputs.hotelClicked,sendShowMoreHotelsClickedAnalytics:sn.analytics.inputs.showMoreHotelsClicked,sendHotelItemShowedAnalytics:sn.analytics.inputs.hotelItemShowed}),r=n?Fi:qi;return(0,p.jsx)(r,{cardWithTopIcon:t,block:e,onHotelClick:i,onMoreHotelsClick:e=>{s({click_url:e})},onViewItem:a})};const Gi=({location:e,isLong:t,className:n,arkId:i})=>{const s=(0,o.useUnit)(sn.nearbyParks.inputs.openPark),a=Boolean(e.subtitle);return(0,p.jsx)(pn.z,{className:rn()("s__ovRdzP8PzsgL2SWg52G5",n),priority:mn.Ji.Tertiary,mod:mn.Ly.Custom,onClick:()=>{s({title:e.title,arkId:i})},children:(0,p.jsxs)(pn.z.Label,{className:"s__DLafGzsn03N6vKf794Qf",children:[(0,p.jsx)("div",{style:{borderRadius:8},className:"s__y9y9X7GhWYy2xIQb_OBL",children:(0,p.jsx)(fn.E,{srcTemplate:e.image_url,width:56,height:56,alt:"",className:"s__YkZzMzqb2BFPmyluSoXb",draggable:!0})}),(0,p.jsxs)("div",{className:"s__D7eET6YRFyaeXqqSfWhx",children:[(0,p.jsxs)("div",{className:rn()("s__qoMSb4PHGQYWPaSt1wgT",t&&"s__mCDGul1GvHSa7gGPERlR"),children:[(0,p.jsx)(hn.x,{truncateMode:a?yn.k.SingleLine:yn.k.TwoLines,type:yn.y.Body2Semi,children:e.title}),a&&(0,p.jsx)(hn.x,{truncateMode:yn.k.SingleLine,className:"s__n9qP2B7dQ2MAfy04jj6X",type:yn.y.Body3Regular,children:e.subtitle})]}),(0,p.jsx)(ui.i,{className:"s__g7s6Z6oYMl_ZcgfaReAc"})]})]})})};const Wi=({className:e})=>(0,p.jsx)("div",{className:rn()("s__Jk95R_J5Ru0mObs35yhh",e)});var Zi="s__llkvj8bykBp2BetUqoyY",Qi="s__lIVQFtQc8BttPVzYIQQp",Yi="s__Kvxrdm5JGiE_CWNi9tqQ";const Ji=({block:e})=>{const{locations:t,locationsLoading:n}=(0,o.useUnit)({locations:sn.nearbyParks.outputs.$data,locationsLoading:sn.nearbyParks.outputs.$pending}),i=e.locations.filter((e=>"direction_screen"===e.navigation.type)),{length:s}=i;return 0===s?null:n?(0,p.jsx)("ul",{className:Zi,children:i.map(((e,t)=>(0,p.jsx)(Wi,{className:rn()(Qi,1===s&&Yi)},t)))}):(0,p.jsx)("ul",{className:Zi,children:i.filter((e=>t?.[e.navigation.ark_id])).map((e=>(0,p.jsx)("li",{className:rn()(Qi,1===s&&Yi),children:(0,p.jsx)(Gi,{location:e,isLong:1===s,arkId:e.navigation.ark_id})},e.navigation.ark_id)))})},{CarouselBlockContainer:Ki}=An.containers,Xi=()=>{const{data:e,direction:t,isError:n,isLoading:i,isMobile:a,openModal:r,openPoi:c,refetch:l,isArkId:d,isReduceTrapTitle:u,trapNewDesignEnabled:m}=(0,o.useUnit)({data:ze.outputs.$data,isLoading:ze.outputs.$pending,isError:ze.outputs.$failed,refetch:ze.inputs.fetch,openModal:cn.I.inputs.open,openPoi:ln.Y.inputs.open,isMobile:H.l.outputs.$isMobile,direction:V.R.outputs.$direction,isArkId:V.R.outputs.$isArkId,isReduceTrapTitle:j.qF.outputs.$isReduceTrapTitle,trapNewDesignEnabled:Z.R.outputs.$trapNewDesignEnabled}),h=(0,s.useCallback)((e=>(n,i)=>{if(i)return a||r({layer:n??null,analytics:e.analytics,openSource:dn.Ur.DIRECTION,mapOpenSource:dn.Oj.DIRECTION,guideId:t}),void c({layer:n??null,poi:i.id,openType:i.open_type??dn.B8.MAP,guideId:t,openSource:dn.Ur.DIRECTION,poiOpenSource:dn.sL.feed,poiQueryOpenSource:dn.ik.DIRECTION,analytics:e.analytics,mapOpenSource:dn.Oj.DIRECTION});r({layer:n??null,analytics:e.analytics,openSource:dn.Ur.DIRECTION,mapOpenSource:dn.Oj.DIRECTION,guideId:t})}),[t,r,c,a]),y=(0,s.useMemo)((()=>e?.blocks.map(((e,t)=>{if(le(e)&&e.data)return(0,p.jsx)(vi,{className:rn()(Vn.twoColumnsBlock,Vn.header),blockItem:e,children:(0,p.jsx)(Ri,{isFirstBlock:0===t,block:e.data})},t);if(J(e)&&e.data)return(0,p.jsx)(qn,{className:rn()(Vn.twoColumnsBlock,Vn.header),block:e.data},t);if(K(e)&&e.data)return(0,p.jsx)(vi,{className:rn()(Vn.twoColumnsBlock,Vn.item),blockItem:e,children:(0,p.jsx)(ri,{cardWithTopIcon:!u,block:e.data,onClick:()=>h(e)()})},t);if(ce(e)&&e.data)return(0,p.jsx)(vi,{className:rn()(Vn.twoColumnsBlock,Vn.item),blockItem:e,children:(0,p.jsx)(Ai,{cardWithTopIcon:!u,block:e.data,onPinClick:h(e),onShowPlacesClick:h(e)})},t);if(X(e)&&e.data)return(0,p.jsx)(vi,{className:rn()(!a&&Vn.oneColumnBlock,Vn.item),blockItem:e,children:(0,p.jsx)(un.Z9,{cardWithTopIcon:!u,block:e.data})},t);if(ee(e)&&e.data)return(0,p.jsx)(vi,{blockItem:e,className:rn()(!a&&Vn.oneColumnBlock,Vn.item),children:(0,p.jsx)(ci,{cardWithTopIcon:!u,block:e.data,onPinClick:h(e),onShowPlacesClick:h(e)})},t);if(te(e)&&e.data){const n=!a&&ge(e);return(0,p.jsx)(vi,{className:rn()(n?Vn.oneColumnBlock:Vn.twoColumnsBlock,Vn.item),blockItem:e,children:(0,p.jsx)(di,{cardWithTopIcon:!u,block:e.data,shouldShrink:n,onPinClick:h(e),onShowPlacesClick:h(e)})},t)}return ne(e)&&e.data?(0,p.jsx)(vi,{className:rn()(Vn.twoColumnsBlock,Vn.item),blockItem:e,children:(0,p.jsx)(mi,{cardWithTopIcon:!u,block:e.data,onLayerClick:h(e)})},t):ie(e)&&e.data?(0,p.jsx)(vi,{className:rn()(Vn.twoColumnsBlock,Vn.item),blockItem:e,children:(0,p.jsx)(hi,{block:e.data,trap_id:e.analytics.trap_id})},t):re(e)?(0,p.jsx)(ji,{className:rn()(Vn.twoColumnsBlock,Vn.item),blockItem:e,SkeletonComponent:Ci,Component:Ii,componentProps:{onPinClick:h(e),onShowPlacesClick:h(e)},cardWithTopIcon:!u},t):de(e)?(0,p.jsx)(ji,{className:rn()(Vn.twoColumnsBlock,Vn.item),blockItem:e,SkeletonComponent:Ci,Component:Hi,cardWithTopIcon:!u},t):se(e)&&e.data&&a?(0,p.jsx)(vi,{className:Vn.item,blockItem:e,children:(0,p.jsx)(yi,{block:e.data,cardWithTopIcon:!u,onPinClick:h(e)})},t):oe(e)&&e.data?(0,p.jsx)(vi,{blockItem:e,className:rn()(Vn.twoColumnsBlock,Vn.item),children:(0,p.jsx)(Mi,{block:e.data})},t):ae(e)&&e.data?(0,p.jsx)(vi,{className:rn()(Vn.twoColumnsBlock,Vn.item),blockItem:e,children:(0,p.jsx)(wi,{block:e.data,trap_id:e.analytics.trap_id})},t):ue(e)&&e.data?(0,p.jsx)(vi,{className:rn()(Vn.twoColumnsBlock,Vn.item),blockItem:e,children:(0,p.jsx)(Ji,{block:e.data})},t):pe(e)&&e.data?(0,p.jsx)(vi,{className:rn()(Vn.twoColumnsBlock,Vn.item,Vn.carouselV2),blockItem:e,children:(0,p.jsx)(Ki,{block:e.data})},t):null}))),[e,a,h,u]);return(d||e)&&i?(0,p.jsx)(Fn,{className:Vn.skeleton}):n?(0,p.jsx)(Rn,{className:Vn.error,onClick:l}):n||i||!e?null:(0,p.jsx)("div",{className:rn()(Vn.feed,m&&Vn.feedCarouselV2),children:y})};const es=(0,i.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/guides/services/direction_screen_feed/index.ts",lifecycle:{start:sn.widget.outputs.initialized},api:{outputs:{initialized:sn.widget.outputs.initialized},containers:{GuidesFeed:()=>{const{isVisible:e,readyToFetch:t,noData:n}=(0,o.useUnit)({isVisible:sn.widget.outputs.$isVisible,readyToFetch:sn.feed.inputs.readyToFetchFeed,noData:sn.feed.outputs.$noData});return(0,s.useEffect)((()=>(e&&t(!0),()=>{t(!1)})),[t,e]),e?n?(0,p.jsx)(k,{}):(0,p.jsx)(a.A,{className:"s__G2Q1DzjMEAeMOM73mngC",children:(0,p.jsx)(xi,{children:(0,p.jsx)(Xi,{})})}):null}},inputs:{setPlaceSource:sn.feed.inputs.setSourcePlace}}})},73806:function(e,t,n){"use strict";n.d(t,{FE:function(){return P},ai:function(){return N},rr:function(){return g},ZF:function(){return h},SR:function(){return E},Y:function(){return T},wY:function(){return v},v6:function(){return x},A4:function(){return j},a8:function(){return b},qu:function(){return V}});var i={};n.r(i),n.d(i,{DistrictPin:function(){return A}});var s=n(30091),o=n(67294),a=n(49963),r=n(44619),c=n(4190),l=n(94184),d=n.n(l),u=n(38387),p=n(89421),m={root:"s__gNblTg0YCm1tYvI1ZJWK",anchor:"s__rbUgofmGn92lCSMYigYO",bottom:"s__K7u9P81Jv316ts8sL34h",none:"s__ZhyhUg5lnpNPohLiJktg",cluster:"s__Mal45KK0Vz0HrZFu8aXV",cluster_moving:"s__y_deWUHeHcSbGzLCBmmQ",pin:"s__P5t5vSZlx7J05HbS_OvM",arrow:"s__odqe7PxMsj1UMkvteCSD"};let h,y,g;!function(e){e.CLUSTER="cluster",e.PIN="pin"}(h||(h={})),function(e){e.BOTTOM="bottom",e.NONE="none"}(y||(y={})),function(e){e.TOP="top",e.BOTTOM="bottom",e.LEFT="left",e.RIGHT="right"}(g||(g={}));var _=n(31087),f=n(51456),k=n(50191);const x=(e,t,n,i)=>{const s=i?e?.dark_theme:e?.light_theme;return t||n?e?.hover:s};function v(e,t){return e?5:t&&(e=>e===h.CLUSTER||e===h.PIN)(t)?4:3}const b=e=>e.type===_.AS.PLACE,j=(e,t,n)=>{const{x:i,y:s}=t.project((0,k.kI)(e.coordinates)),o=i+e.originalSize.width/3,a=i-e.originalSize.width/3,r=s-e.originalSize.height/3,c=s-2*e.originalSize.height/3;return o>=n.minX&&a<=n.maxX&&r>=n.minY&&c<=n.maxY};var C;function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},w.apply(this,arguments)}var S=function(e){return o.createElement("svg",w({width:15,height:5,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),C||(C=o.createElement("path",{d:"M.5 0c1.488 0 2.915.758 3.968 2.106l1.71 2.192c.73.936 1.914.936 2.645 0l1.71-2.192C11.584.758 13.011 0 14.5 0H.5z"})))};const N=3,E=2,T=1,P=10;var I=n(85893);const B=({pin:e,isHovered:t,isSelected:n})=>{const{isMobile:i=!1,isNight:s}=(0,c.useUnit)({isMobile:u.l.outputs.$isMobile,isNight:p.H.outputs.$isNight}),{displayType:l,anchor:y}=e,g=x(e.pin_colors,t,n,s),_=i?E:N,{width:f,ref:k}=function(e){const{defaultWidth:t="auto",defaultHeight:n="auto",paddingHeight:i=0,paddingWidth:s=0}=e??{},[a,r]=(0,o.useState)(null);return{ref:r,width:(0,o.useMemo)((()=>{const e=a?.getBoundingClientRect().width;return e?e+s:t}),[a,t,s]),height:(0,o.useMemo)((()=>{const e=a?.getBoundingClientRect().height;return e?e+i:n}),[a,n,i])}}({paddingWidth:20+2*_});return(0,I.jsxs)("div",{"data-test-id":"district-pin",className:d()(m.root,m[l]),style:{border:`1px solid ${g}`,boxShadow:`0px ${_}px 0px ${g}`,width:l===h.CLUSTER?"100%":f,opacity:"auto"===f?0:1},children:[(0,I.jsx)(a.x,{ref:k,tag:"span",className:m.text,type:r.y.Body2Bold,mobileType:r.y.Body2Bold,children:e.name}),(0,I.jsx)(S,{className:d()(m.anchor,m[y]),style:{filter:`drop-shadow(0px ${i?3:4}px 0px ${g})`}})]})},A=(0,o.memo)(B);var M=n(98116),D=n(27946);const R=({pin:e,map:t,mapPinRectToRect:n,mapPinToCoordinates:i,mapPinToSize:s})=>{const{x:o,y:a}=((e,t,n)=>n.project((0,k.kI)(t(e))))(e,i,t),{width:r,height:c}=s(e);return n({width:r,height:c,x:o,y:a})},$=e=>({...e,x:e.x-e.width/2,y:e.y-e.height}),L=(e,t,n)=>{const i=R({pin:e,mapPinToSize:e=>e.originalSize,mapPinRectToRect:$,mapPinToCoordinates:e=>e.coordinates,map:n}),s=R({pin:t,mapPinToSize:e=>e.originalSize,mapPinRectToRect:$,mapPinToCoordinates:e=>e.coordinates,map:n});return(0,D.hH)(i,s)};function z(e,t,n,i){const s=e.map((e=>function(e,t){const{pins:n,x:i,y:s,...o}=e,a=t.unproject([i,s]);return{originalSize:o,clusterSize:o,arrowSize:o,controlledCoordinates:(0,k.Tc)(a),coordinates:(0,k.Tc)(a),pins:n}}(U(e,t,n),t)));return(0,D.vK)(s,((e,n)=>L(e,n,t)),i).map((e=>{const i=e.map((e=>e.pins)).flat(),{pins:s,...o}=U(i,t,n);return function(e,t,n,i){const s=e.length>1,o=i?28:34,a=t.x,r=t.y-t.height+o,c=a-t.width/2;return[...e].sort((e=>(t,n)=>{const{y:i}=e.project((0,k.kI)(t.coordinates)),{y:s}=e.project((0,k.kI)(n.coordinates));return i-s})(n)).map(((e,t)=>{let i={};if(s){const s=c+e.clusterSize.width/2,a=t%2?s+16:s,l=r+t*(o+4),d=n.unproject([a,l]);i=(0,k.Tc)(d)}else i=e.coordinates;return{...e,...O(s),controlledCoordinates:i}}))}(s,o,t,n)}))}const O=e=>({displayType:e?h.CLUSTER:h.PIN,anchor:e?y.NONE:y.BOTTOM});function U(e,t,n){const i=n?28:34,s=e.length>1,o=s?e.filter((e=>e.type===_.AS.PLACE)):e,a=o.map((e=>{const n=t.project((0,k.kI)(e.coordinates)),i=s?e.clusterSize:e.originalSize;return{id:e.id,...n,...i}})),r=a.reduce(((e,t)=>e.x<t.x?e:t)),c=a.reduce(((e,t)=>e.x>t.x?e:t)),l=a.reduce(((e,t)=>e.y>t.y?e:t)).y,d=(c.x-r.x)/2+r.x,{width:u}=a.reduce(((e,t)=>e.width>t.width?e:t));return{x:d,y:l,width:u,height:a.length*(i+4),pins:o}}const F={createDistrictPins:function({$mapboxInstance:e,$isCalculationEnabled:t,$selectedPinId:n,$poisFromDistrict:i,$boundingBox:s,$initialDistrictPins:o}){const a=(0,M.createStore)(null,{sid:"-lvh660"}),r=(0,M.createStore)([],{sid:"p1cnz9"}),c=(0,M.createEvent)({sid:"-8o3we"}),l=(0,M.createEvent)({sid:"-w5ew2j"}),d=(0,M.createEvent)({sid:"-apefy3"}),p=(0,M.createEvent)({sid:"4k283s"}),m=(0,M.createEvent)({sid:"z2moij"});return(0,M.sample)({and:[{clock:l,source:{pins:a},filter:({pins:e},{type:t,id:n})=>{const i=e?.find((e=>e.id===n))?.originalSize.width??0;return t===h.PIN&&0===i},fn:(e,t)=>t,target:c}],or:{sid:"-b584oz"}}),(0,M.sample)({and:[{clock:l,source:{pins:a},filter:({pins:e},{type:t,id:n})=>{const i=e?.find((e=>e.id===n))?.clusterSize.width??0;return t===h.CLUSTER&&0===i},fn:(e,t)=>t,target:d}],or:{sid:"-amj4ip"}}),(0,M.sample)({and:[{clock:c,source:{pins:a},filter:({pins:e})=>Boolean(e),fn:({pins:e},{id:t,width:n,height:i})=>e.map((e=>e.id===t?{...e,originalSize:{width:n,height:i}}:e)),target:a}],or:{sid:"-9su8h7"}}),(0,M.sample)({and:[{clock:d,source:{pins:a},filter:({pins:e})=>Boolean(e),fn:({pins:e},{id:t,...n})=>e.map((e=>e.id===t?{...e,clusterSize:n}:e)),target:a}],or:{sid:"-97e9c4"}}),(0,M.sample)({and:[{clock:[o.updates,e.updates],source:{districtPins:o,map:e},filter:({districtPins:e,map:t})=>Boolean(e&&t),fn:({districtPins:e})=>(e=>e.map((e=>{const t=(e=>(0,f.VO)(e)?{width:40,height:42}:{width:0,height:0})(e);return{...e,controlledCoordinates:e.coordinates,originalSize:t,clusterSize:t,arrowSize:t}})))(e),target:a}],or:{sid:"yfyj6h"}}),(0,M.sample)({and:[{clock:[p,a.updates,t.updates,i.updates],source:{pins:a,map:e,isCalculationEnabled:t,selectedDistrictPinId:n,poisFromDistrict:i,boundingBox:s},filter:({pins:e,map:t,isCalculationEnabled:n,boundingBox:i})=>Boolean(e&&t)&&n&&Boolean(i),fn:({pins:e,map:t,poisFromDistrict:n,selectedDistrictPinId:i,boundingBox:s})=>e.filter((e=>(e.id!==i||!n.length)&&j(e,t,s))),target:m}],or:{sid:"yxjy61"}}),(0,M.sample)({and:[{clock:m,source:{map:e,isMobile:u.l.outputs.$isMobile},filter:({map:e})=>Boolean(e),fn:({map:e,isMobile:t},n)=>(({districtPins:e,map:t,isMobile:n})=>{const i=function(e,t,n){let i=!1;const s=()=>{i=!0};let o=(0,D.vK)(e,((e,n)=>L(e,n,t)),s);if(!i)return function(e){return e.flat().map((e=>({...e,displayType:h.PIN,anchor:y.BOTTOM,controlledCoordinates:e.coordinates})))}(o);for(;i;)i=!1,o=z(o,t,n,s);return o.flat()}(e,t,n);return i})({districtPins:n,map:e,isMobile:t??!1}),target:r}],or:{sid:"-ya4l74"}}),{setDistrictPinSize:l,recalculatePinsPosition:p,$pins:r,$mapDistrictPins:a}}},V=(0,s.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/guides/services/map_district_pins/index.ts",api:{inputs:F,containers:{...i}}})},92617:function(e,t,n){"use strict";n.d(t,{r:function(){return c}});var i=n(4190),s=n(67294),o=n(14210),a=n(79403),r=n(14573);const c=({link:e,link_v2:t,openSource:n})=>{const{isHotelsEnabled:c,brand:l}=(0,i.useUnit)({isHotelsEnabled:o.qF.outputs.$isHotelsEnabled,brand:a.U.outputs.$brand});return(0,s.useMemo)((()=>t&&(0,r.q2)(t)&&c||!e?null:((e,t)=>{const n=new URL(e),i={};n.searchParams.forEach(((e,t)=>{i[t]=e}));const s=new URLSearchParams({...i,utm_source:t.brand,utm_campaign:t.openSource}).toString();return n.search=s,n.toString()})(e,{brand:l,openSource:n})),[t,e,l,n,c])}},87007:function(e,t,n){"use strict";n.d(t,{h0:function(){return f.h},wB:function(){return p.wB},$o:function(){return k}});var i=n(30091),s=n(98116),o=n(29893),a=n.n(o),r=n(59051),c=n.n(r),l=n(14210),d=n(20611),u=n(47420),p=n(14573);const m=(0,s.createEvent)({sid:"5z8nrh"}),h=(0,s.createStore)(null,{sid:"-dt1r9n"}),y=(0,s.createStore)(null,{sid:"br7my2"}),g=(0,s.combine)({and:[{hotelDeepLink:h,isHotelsEnabled:l.qF.outputs.$isHotelsEnabled},({hotelDeepLink:e,isHotelsEnabled:t})=>!(!t||!e)&&(0,p.q2)(e)],or:{sid:"-kza2lc"}});(0,s.sample)({and:[{clock:h.updates,source:{searchParams:d.D.outputs.$searchParams,shouldHotelsModalOpen:g,entrypoint:y},filter:({shouldHotelsModalOpen:e})=>Boolean(e),fn:({searchParams:e,entrypoint:t},n)=>{const i=new URL(n);i.searchParams.set("source",t);const s=`${e.toString()}&${i.searchParams.toString()}`,o=new URLSearchParams(s);return{pathname:i.pathname,search:o,type:"push"}},target:d.D.inputs.navigateTo}],or:{sid:"-q5dscw"}}),(0,s.sample)({and:[{clock:m,fn:({entrypoint:e})=>e,target:y}],or:{sid:"-p7uc5v"}}),(0,s.sample)({and:[{clock:m,fn:({search_hotel_link_v2:e})=>e,target:h}],or:{sid:"-oszw54"}});const _={inputs:{hotelClicked:m},outputs:{$searchHotelParams:(0,s.combine)({and:[{departDate:u.i.outputs.exact.$departDate,returnDate:u.i.outputs.exact.$returnDate,passengers:u.i.outputs.$passengers,origin:u.i.outputs.$origin},({departDate:e,returnDate:t,passengers:n,origin:i})=>{const{period:s,...o}=(0,p.hM)(e??void 0,t??void 0)??{},r={adults:n.adults,children:n.children,infants:n.infants,period:s?.toLowerCase(),origin:i?.iata,...o};return a()(c())(r)}],or:{sid:"z9lg4l"}})},internal:{$hotelDeepLink:h,$hotelEntrypoint:y}};var f=n(50255);const k=(0,i.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/guides/services/travel_map_hotel/index.ts",api:_})},50255:function(e,t,n){"use strict";let i,s;n.d(t,{g:function(){return i},h:function(){return s}}),function(e){e.EXACT="EXACT",e.FLEXIBLE="FLEXIBLE",e.RANGES="FLEXIBLE_DATES",e.PERIOD="TRIP_PERIOD"}(i||(i={})),function(e){e.direction_screen="direction_screen",e.poi="poi",e.district="district"}(s||(s={}))},14573:function(e,t,n){"use strict";n.d(t,{hM:function(){return c},q2:function(){return a},wB:function(){return r}});var i=n(95219),s=n(50255);const o=/\/hotels\/(\d+)/,a=e=>o.test(e),r=e=>e.match(o)?.[1];function c(e,t){return e?{period:s.g.EXACT,depart_date:(0,i.cM)(e),one_way:`${!t}`,return_date:t&&(0,i.cM)(t)}:null}},89101:function(e,t,n){"use strict";n.d(t,{B:function(){return p}});var i=n(30091),s=n(98116),o=n(76588),a=n(80472),r=n(89421),c=n(35529);const l=c.Unknown,d=c.Unknown,u={inputs:{createMapStyle:function({$directionMapShowed:e,readyToFetchMapStyle:t,$placeData:n}){const i=(0,s.withFactory)({sid:"-s980zw",fn:()=>(0,o.s5)({name:"guides_map_styles",params:(0,s.withFactory)({sid:"1zs0kg",fn:()=>(0,o.t6)()}),request:{method:"GET",url:({url:e})=>e},response:{contract:(0,a.v)(l)}})}),c=(0,s.withFactory)({sid:"-6a83v",fn:()=>(0,o.s5)({name:"guides_map_polygons",params:(0,s.withFactory)({sid:"ikcsd9",fn:()=>(0,o.t6)()}),request:{method:"GET",url:({url:e})=>e},response:{contract:(0,a.v)(d)}})}),{$data:u,start:p,reset:m}=c,{$data:h,start:y,reset:g}=i,_=(0,s.createEvent)({sid:"au66at"}),f=(0,s.restore)(_,null,{sid:"zd58x0"}),k=(0,s.createEvent)({sid:"gyeg1l"});(0,s.sample)({and:[{clock:t,source:{theme:r.H.outputs.$theme,placeData:n,directionMapShowed:e},filter:({placeData:e})=>Boolean(e),fn:({placeData:e,theme:t,directionMapShowed:n})=>((e,t,n)=>{const i=e.replace("{theme}",t||"light"),s=new URL(i);return n&&s.searchParams.set("source","direction_screen"),s.toString()})(e.polygons_geo_json,t,n),target:_}],or:{sid:"-hgkgtf"}});const x=(0,s.combine)({and:[h,u,n,(e,t,n)=>{if(!e||!t||!n)return null;const i=e,s=t,o=n.polygons_source_id,a={type:"geojson",data:s};return{style:{...i,layers:[],sources:{...i.sources,[o]:a}},layers:i.layers,polygonsSource:s}}],or:{sid:"-exijs4"}}),v=(0,s.combine)({and:[n,h,(e,t)=>{if(!e||!t)return null;const{sources:n={}}=t;return n[e.polygons_source_id].data}],or:{sid:"r1s0kt"}});return(0,s.sample)({and:[{clock:v.updates,filter:Boolean,fn:e=>({url:e}),target:p}],or:{sid:"oblz04"}}),(0,s.sample)({and:[{clock:_,source:f,filter:Boolean,fn:e=>({url:e}),target:y}],or:{sid:"or07m8"}}),(0,s.sample)({and:[{clock:k,target:[m,g]}],or:{sid:"p6y8tp"}}),{$data:x,mapStyleQuery:i,polygonsQuery:c,reset:k}}}},p=(0,i.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/guides/services/travel_map_style/index.ts",api:u})},61653:function(e,t,n){"use strict";n.d(t,{YU:function(){return _},A:function(){return s},qp:function(){return y}});var i=n(17563);const s=({searchId:e,proposalId:t,agentId:n,agentLabel:s,lang:o,resultsHostUrl:a,market:r,brand:c,isCharter:l,isAssisted:d,assistedFallback:u,marker:p,currency:m,passengers:h,priceValue:y,destination:g,departDateTimestamp:_,returnDateTimestamp:f})=>{const k={search_id:e,proposal_id:t,gate_id:n,gate_label:s,lang:o,results_url:a,market:r,brand:c,marker:u?void 0:p};return l&&(k.is_charter=!0),d?`/assisted?${(0,i.stringify)({...k,adults:h.adults,children:h.children,infants:h.infants,price_value:y,price_currency:m,departure_city:g.departureCity,departure_date:_,arrival_city:g.arrivalCity,return_date:f,fallback:u,request_source:"booking_redirect",assisted:!0})}`:`/click?${(0,i.stringify)({...k,fallback:window.location.href,gate_currency:m,request_source:"booking_redirect"})}`};var o=n(38779),a=n(37667),r=n.n(a),c=n(56580),l=n.n(c),d=n(44236),u=n.n(d);const p=l().convert({fixed:!1}),m=e=>(e=>r()("duration",e.flights))(e)+((e=>r()("duration",e.transfers))(e)||0),h=p(((e,t)=>{const n=[e],i=t.segments.map(m);try{for(let e=0;e<t.segments.length;e+=1){const s=t.segments[e];n.push(`${s.flights[0].localDepartureTimestamp}`),n.push(`${s.flights[s.flights.length-1].localArrivalTimestamp}`),n.push(`000000${i[e]}`.slice(-6));const o=[];for(const e of Array.from(s.flights))o.push(e.departureAirportIata),o.push(e.arrivalAirportIata);n.push(...u()(o))}}catch(e){}return[n.join(""),t.sign].join("_")}),((e,t)=>`${e}_${t.sign}`)),y=({agentLabel:e="",ticket:t,proposal:n,unifiedPrice:s,currencyRates:a,searchId:r="",marker:c,currentCurrency:l,utmMedium:d,utmCampaign:u,footprintStr:p,baseSearchUrl:m,expectedPriceSource:y="share",utmSource:g="ticket_sharing",requestSource:_="",preCheckedFilters:f})=>{const{protocol:k,port:x,hostname:v,pathname:b}=window.location,j=a[l]||1,C=s?Math.round(s/j):null;let w;const S=s?`_${s}`:"";if(p)w=`${p}_${t.sign}${S}`;else{const e=n?((e,t)=>{let n=e.segments[0].flights[0],i=0,s=0;for(let t=0;t<e.segments.length;t+=1){const o=e.segments[t];for(let e=0;e<o.flights.length;e+=1){const a=o.flights[e];n.duration<a.duration&&(n=a,i=t,s=e)}}return t[i][s].marketingCarrierDesignator.carrier})(t,n.flightTerms):(e=>{let t=e.segments[0].flights[0];for(let n=0;n<e.segments.length;n+=1){const i=e.segments[n];for(let e=0;e<i.flights.length;e+=1){const n=i.flights[e];t.duration<n.duration&&(t=n)}}return t.operatingCarrier})(t);w=`${h(e,t)}${S}`}const N=(0,i.stringify)({t:w,marker:c,search_date:(0,o.Z)(new Date,"ddMMyyyy"),search_label:e,expected_price:C,expected_price_uuid:r,expected_price_currency:l,expected_price_source:y,utm_source:g,utm_medium:d,utm_campaign:u,request_source:_,filter_stops:f?.direct||"",filter_baggage:f?.withBaggage||"",filter_transfers_without_visa:f?.noVisaAtTransfer||""},{skipEmptyString:!0,skipNull:!0});return m?`${k}//${v}${x?`:${x}`:""}/search${m}?${N}`:`${k}//${v}${x?`:${x}`:""}${b}?${N}`};var g=n(88300);const _=e=>{if(!e)return null;const{segments:t,tripClass:n,passengers:i}=e,s=(e=>e.map((e=>({origin:{iata:e.origin,name:e.origin_name,type:e.origin_type},destination:{iata:e.destination,name:e.destination_name,type:e.destination_type},date:new Date(e.date)}))))(t);return`/${(0,g.j)({tripClass:n,passengers:i,segments:s})}`}},91585:function(e,t,n){"use strict";n.d(t,{t:function(){return m}}),n(21703);var i=n(30091),s=n(98116),o=n(24926),a=n(96864),r=n(47420);const{$userSettings:c}=a.W.outputs,{$seatCount:l}=r.i.outputs,d=(0,s.createStore)(null,{sid:"-4qwnmr"}),u=(0,s.combine)({and:[c,d,(e,t)=>t??Boolean(e.use_price_per_passenger)],or:{sid:"-3wilf9"}}),p=(0,s.withFactory)({sid:"gvkm7l",fn:()=>(0,o.w)({filter:u,then:1,other:l})}),m=(0,i.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/usercom/services/price_multiplier/index.ts",api:{outputs:{$aviaPriceMultiplier:p,$usePricePerPassenger:u}},attachTestApi:()=>{throw new Error("Test API is not available in production")}})},67762:function(e){e.exports=function(e,t){for(var n,i=-1,s=e.length;++i<s;){var o=t(e[i]);void 0!==o&&(n=void 0===n?o:n+o)}return n}},89179:function(e,t,n){var i=n(55639),s=n(40554),o=n(14841),a=n(79833),r=i.isFinite,c=Math.min;e.exports=function(e){var t=Math[e];return function(e,n){if(e=o(e),(n=null==n?0:c(s(n),292))&&r(e)){var i=(a(e)+"e").split("e"),l=t(i[0]+"e"+(+i[1]+n));return+((i=(a(l)+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}},74423:function(e,t,n){var i=n(92822)("get",n(27361));i.placeholder=n(69306),e.exports=i},49546:function(e,t,n){var i=n(92822)("isNumber",n(81763),n(69087));i.placeholder=n(69306),e.exports=i},30494:function(e,t,n){var i=n(92822)("mapValues",n(66604));i.placeholder=n(69306),e.exports=i},56580:function(e,t,n){var i=n(92822)("memoize",n(88306));i.placeholder=n(69306),e.exports=i},77620:function(e,t,n){var i=n(92822)("range",n(96026));i.placeholder=n(69306),e.exports=i},37667:function(e,t,n){var i=n(92822)("sumBy",n(73303));i.placeholder=n(69306),e.exports=i},42583:function(e,t,n){var i=n(92822)("toLower",n(7334),n(69087));i.placeholder=n(69306),e.exports=i},59854:function(e,t,n){var i=n(89179)("round");e.exports=i},73303:function(e,t,n){var i=n(67206),s=n(67762);e.exports=function(e,t){return e&&e.length?s(e,i(t,2)):0}},7334:function(e,t,n){var i=n(79833);e.exports=function(e){return i(e).toLowerCase()}},24036:function(e,t,n){"use strict";var i;n.d(t,{D:function(){return i}}),function(e){e.OneWay="oneway",e.RoundTrip="roundtrip",e.Multiway="multiway"}(i||(i={}))},66656:function(e,t,n){"use strict";n.d(t,{Wm:function(){return i}});const i=()=>window.matchMedia("(any-pointer: coarse)").matches},30367:function(e,t,n){"use strict";n.d(t,{C:function(){return u}});var i=n(85893),s=n(47166),o=n(49963),a=n(44619),r=n(5070);const c=(0,n(67294).memo)((({className:e})=>(0,i.jsxs)("svg",{className:e,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.66602 6V5.33333C4.66602 3.49238 6.1584 2 7.99935 2C9.8403 2 11.3327 3.49238 11.3327 5.33333V6H11.9993C12.7357 6 13.3327 6.59695 13.3327 7.33333V12.6667C13.3327 13.403 12.7357 14 11.9993 14H3.99935C3.26297 14 2.66602 13.403 2.66602 12.6667V7.33333C2.66602 6.59695 3.26297 6 3.99935 6H4.66602ZM5.99935 5.33333C5.99935 4.22876 6.89478 3.33333 7.99935 3.33333C9.10392 3.33333 9.99935 4.22876 9.99935 5.33333V6H5.99935V5.33333ZM8.66602 10.4883C9.06455 10.2578 9.33268 9.82685 9.33268 9.33333C9.33268 8.59695 8.73573 8 7.99935 8C7.26297 8 6.66602 8.59695 6.66602 9.33333C6.66602 9.82685 6.93415 10.2578 7.33268 10.4883V11.3333C7.33268 11.7015 7.63116 12 7.99935 12C8.36754 12 8.66602 11.7015 8.66602 11.3333V10.4883Z",fill:"url(#paint0_linear_1598_60969)"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"paint0_linear_1598_60969",x1:"2.66602",y1:"8",x2:"13.3327",y2:"8",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#E5A1BE"}),(0,i.jsx)("stop",{offset:"0.5",stopColor:"#CFB9F5"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#82C0F0"})]})})]})));c.displayName="CashbackLabelLockIcon";var l={variables:"s__VaJkofe51jX4hVos8126",root_clickable:"s___l5QydiarcUw5fcmLloQ",root_type_unlocked:"s__k0I0P5CQNgfnHKjUt5BE","text-slot":"s__KvdJ57e_KsjN_5rQekj0",root_type_locked:"s__PmK6QCnBznWako7_Raaz",icon:"s__R8ymTg6REsnjcYBW1pwl"};const d=s.bind(l),u=({className:e,children:t,isLocked:n=!1,tooltipProps:s={disabled:!0,content:""},onClick:u})=>(0,i.jsx)(r.u,{...s,children:(0,i.jsxs)("div",{className:d(l.variables,{root_type_locked:n,root_type_unlocked:!n,root_clickable:Boolean(u)},e),onClick:u,children:[n&&(0,i.jsx)(c,{className:d("icon")}),(0,i.jsx)(o.x,{type:a.y.Body3Regular,truncateMode:a.k.SingleLine,className:d("text-slot"),children:t})]})})},37254:function(e,t,n){"use strict";n.d(t,{X:function(){return p}});var i=n(85893),s=n(67294),o=n(94184),a=n(13905),r=n(86523),c=n(84319),l=n(85576),d=n(22677);const u=({value:e,currency:t,formatPriceFn:n,showCurrencySign:u=!0,className:p,formatOptions:m={},branded:h=!1,...y})=>{const g=(0,r.d)("number_short"),_=(0,s.useMemo)((()=>n?n(e,m):g({value:e,options:{maximumFractionDigits:m?.exponent??0}})),[e,n,m,g]),{signPosition:f}=(0,a.zC)(t.toLowerCase()),k=h?"brand":"default",x=(0,i.jsx)(c.I,{currency:t,fontType:k});return(0,i.jsxs)("span",{...y,className:o(d.Z.price,p,{[d.Z.branded]:h}),children:[u&&"before"===f&&x,_,u&&"after"===f&&(0,i.jsxs)(i.Fragment,{children:[l.q,x]})]})},p=(0,s.memo)(u)},93825:function(e,t,n){"use strict";n.d(t,{L:function(){return a}});var i=n(85893),s=n(67294);const o=n(47166).bind({root:"s__JbhTXlovTPG3WUQSML7w"}),a=(0,s.forwardRef)((({className:e,children:t,...n},s)=>t?(0,i.jsx)("div",{className:o("root",e),ref:s,...n,children:t}):null));a.displayName="SlotSection"},66351:function(e,t,n){"use strict";n.d(t,{$:function(){return p}});var i=n(85893),s=n(67294),o=n(28225),a=n(66656),r=n(49963),c=n(44619),l=n(38694),d=n(30367);const u=(0,s.memo)((({price:e,currency:t,isCashbackAvailable:n=!1})=>{const s=n?"ticket.cashbackBoldPrice":"ticket.cashback";return(0,i.jsx)(o.Trans,{ns:"uiKit",i18nKey:s,components:{b:(0,i.jsx)(r.x,{tag:"span",type:c.y.Body3Semi}),value:(0,i.jsx)(l.t,{currency:t,roundingMode:"floor",value:e})}})}));u.displayName="TicketPreviewCashbackLabelText";const p=(0,s.memo)((({className:e,price:t,currency:n,isCashbackAvailable:r=!1,onInavailableCashbackClick:c})=>{const{t:l}=(0,o.useTranslation)("uiKit"),p=(0,a.Wm)(),m=(0,s.useCallback)((e=>{p||r||(e.stopPropagation(),c?.())}),[r,p,c]),h=(0,s.useMemo)((()=>({content:l("ticket.cashbackTooltip"),placement:"right",fallbackPlacements:["top","top-start","bottom","bottom-start"],width:243,touch:!1,disabled:r||p})),[r,p,l]);return(0,i.jsx)(d.C,{className:e,isLocked:!r,onClick:m,tooltipProps:h,children:(0,i.jsx)(u,{price:t,currency:n,isCashbackAvailable:r})})}));p.displayName="TicketPreviewCashbackLabel"},49548:function(e,t,n){"use strict";n.d(t,{$:function(){return d}});var i=n(85893),s=n(67294),o=n(47166),a=n(93825),r=n(52326),c=n(72942);const l=o.bind({variables:"s__FGSl09O3mQkX2SHFd8cc",root:"s__gpt7ANm15Y6vnDm9t9EQ",root_layout_small:"s__A2noUKVmm8c7WONN2A8k","badge-slot":"s__SjBz3JG4ulxhQlVqFx0R","top-bar-slot":"s__TpE5K_ywCd94aoLjV7R3",content:"s__uC0OuI4HJNIHrNdvmEIh",content_background_normal:"s__mZl4vkzI0tdbS1AwnnRu",content_background_lighten:"s__TYMykQ0XvtwgBlfH88pM",content_hoverable:"s__GuUKMUQKlP14VzfvhYAz","content_touch-overlay-visible":"s__II71VvkyT0DyV39MktUn","informers-slot":"s__krateKIUdCXDSnF8ULW_","segments-slot":"s__es05ce6nyqCBX5Q3Ywlc","footnotes-slot":"s__H_rpe_oOPSwnrrcLaaYg",root_layout_normal:"s__kgoM1Z69afA8tvcaAjxL"}),d=({layout:e=r.q.Normal,badgeSlot:t,priceSlot:n,carriersSlot:o,controlsSlot:d,informersSlot:u,segmentsSlot:p,footnotesSlot:m,isHoverable:h=!0,backgroundType:y=c.A.Normal,onClick:g,testId:_})=>{const f=l("variables","root",`root_layout_${e}`),[k,x]=(0,s.useState)(!1),v=(0,s.useCallback)((()=>{h&&x(!0)}),[h]),b=(0,s.useCallback)((()=>{h&&x(!1)}),[h]),j=l("content",`content_background_${y}`,{content_hoverable:h,"content_touch-overlay-visible":k});return(0,i.jsxs)("div",{className:f,onTouchStart:v,onTouchEnd:b,"data-test-id":_,children:[(0,i.jsx)(a.L,{className:l("badge-slot"),onClick:g,children:t}),(0,i.jsxs)("div",{className:j,onClick:g,children:[(0,i.jsxs)(a.L,{className:l("top-bar-slot"),children:[n,o,d]}),(0,i.jsx)(a.L,{className:l("informers-slot"),children:u}),(0,i.jsx)(a.L,{className:l("segments-slot"),children:p}),(0,i.jsx)(a.L,{className:l("footnotes-slot"),children:m})]})]})}},72942:function(e,t,n){"use strict";var i;n.d(t,{A:function(){return i}}),function(e){e.Lighten="lighten",e.Normal="normal"}(i||(i={}))},61750:function(e,t,n){"use strict";n.d(t,{y:function(){return m}});var i=n(85893),s=n(67294),o=n(47166),a=n(49546),r=n(38694),c=n(44619),l=n(49963),d=n(52326),u=n(66351);const p=o.bind({root:"s__xvrPyQP5OIGHTy4FUJvg","price-wrapper":"s__aABGIRR3aQXEXq1Nveeu",price:"s__RQZsUfncge_wEzRXpHoR",root_layout_small:"s__IyJfQQc_tVQIzA0E73tZ",previous_price:"s__sdA3IGQnfAj6ta4dYURe",cashback:"s__BBLWvu9twtKzDHELtqOk",cashback_label:"s__P6KpSQNHaEkYQOaS494_",root_layout_normal:"s__YaGnArZFoMQkrkCm7VHK"}),m=(0,s.memo)((({layout:e=d.q.Normal,price:t,previousPrice:n,cashback:s,currency:o,isCashbackAvailable:m=!1,onUnavailableCashbackClick:h})=>{const y=e===d.q.Small?c.y.Title3Bold:c.y.Title2Bold,g=e===d.q.Small?c.y.Body1Regular:c.y.Title4Regular,_=a(n)&&n>0,f=a(s)&&s>0,k=p("root",`root_layout_${e}`);return(0,i.jsx)("div",{className:k,children:(0,i.jsxs)("div",{className:p("price-wrapper"),children:[(0,i.jsx)(l.x,{type:y,className:p("price"),children:(0,i.jsx)(r.t,{value:t,currency:o})}),_&&(0,i.jsx)(l.x,{type:g,className:p("previous_price"),children:(0,i.jsx)(r.t,{value:n,currency:o,strikeout:!0})}),f&&(0,i.jsx)("div",{className:p("cashback"),children:(0,i.jsx)(u.$,{className:p("cashback_label"),price:s,currency:o,isCashbackAvailable:m,onInavailableCashbackClick:h})})]})})}));m.displayName="TicketPreviewPrice"},18812:function(e,t,n){"use strict";function i(e){var t,n,s;if(Array.isArray(e)){for(n=Array(t=e.length);t--;)n[t]=(s=e[t])&&"object"==typeof s?i(s):s;return n}if("[object Object]"===Object.prototype.toString.call(e)){for(t in n={},e)"__proto__"===t?Object.defineProperty(n,t,{value:i(e[t]),configurable:!0,enumerable:!0,writable:!0}):n[t]=(s=e[t])&&"object"==typeof s?i(s):s;return n}return e}n.d(t,{Y:function(){return i}})}}]);
//# sourceMappingURL=https://private-static.prod.k8s.int.avs.io/selene-source-maps/main_content.bceec43754f3619ad6fa.min.js.map