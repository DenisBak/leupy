(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[74777],{82846:function(e,t,r){"use strict";r.d(t,{S:function(){return $}});var a=r(98116),i=r(76588),s=r(80472),n=r(35529),o=r(54824),c=r(57640),l=r(82525),d=r(64441),u=r(99186),p=r(96864),h=r(87722),g=r(45711);const m=(0,n.Record)({open:n.Boolean.nullable(),openingDate:n.String.nullable(),directAllowed:n.Boolean.nullable(),certificateRequired:n.Boolean.nullable(),certificatePolicy:n.String.nullable(),certificateBeforeRequired:n.Boolean.nullable(),certificateBeforePolicy:n.String.nullable(),certificateAfterRequired:n.Boolean.nullable(),certificateAfterPolicy:n.String.nullable(),vaccinationRequired:n.Boolean.nullable(),vaccinationPolicy:n.String.nullable(),quarantineRequired:n.Boolean.nullable(),quarantinePolicy:n.String.nullable(),insuranceRequired:n.Boolean.nullable(),insurancePolicy:n.String.nullable(),masksRequired:n.Boolean.nullable(),masksPolicy:n.String.nullable(),foodOpen:n.Boolean.nullable(),foodPolicy:n.String.nullable(),internalRestrictions:n.String.nullable(),entryRestrictions:n.String.nullable(),summary:n.String.nullable(),relevanceInfo:n.String.nullable()}),f=(0,n.Record)({widgets:(0,n.Record)({travelRestrictionsV1:(0,n.Record)({travelRestriction:m.nullable(),destination:(0,n.Record)({translations:(0,n.Dictionary)(g.Cu,n.String),country:(0,n.Record)({translations:(0,n.Dictionary)(g.Cu,n.String)}).nullable()}).nullable(),destinationCountry:(0,n.Record)({translations:(0,n.Dictionary)(g.Cu,n.String)}).nullable()})})}),S=(e,t)=>{const{origin:r,destination:a}=e,i=r?.cityIata||r?.iata,s=a?.cityIata||a?.iata,n=(0,h.be)(a);return{...t,origin:i,destination:n?void 0:s,destinationCountry:n?s:void 0}},k={certificatePolicy:null,certificateRequired:null,certificateBeforePolicy:null,certificateBeforeRequired:null,certificateAfterPolicy:null,certificateAfterRequired:null,vaccinationRequired:null,vaccinationPolicy:null,directAllowed:null,entryRestrictions:null,foodOpen:null,foodPolicy:null,insurancePolicy:null,insuranceRequired:null,internalRestrictions:null,masksPolicy:null,masksRequired:null,open:null,openingDate:null,quarantinePolicy:null,quarantineRequired:null,relevanceInfo:null,summary:null,country:null,city:null},{urlWithApiHost:v}=l.B.outputs,b=(0,a.combine)({and:[{userCitizenship:p.W.outputs.$userCitizenship,language:u.l.outputs.$language},({userCitizenship:e,language:t})=>({language:t,passportCountry:e})],or:{sid:"di303i"}}),y=(0,a.withFactory)({sid:"-vne0xc",fn:()=>(0,o.$)({name:"fetch_travel_restrictions",params:(0,a.withFactory)({sid:"-4zx51q",fn:()=>(0,i.t6)()}),graphQL:{query:"\nquery GetTravelRestrictionsV1(\n  $destination: String\n  $destinationCountry: String\n  $origin: String!\n  $passportCountry: String!\n  $language: String!\n) {\n  widgets {\n    travelRestrictionsV1(\n      destination: $destination\n      destinationCountry: $destinationCountry\n      locale: $language\n      origin: $origin\n      passportCountry: $passportCountry\n    ) {\n      destination {\n        ... on City {\n          translations\n        }\n        country {\n          translations\n        }\n      }\n      destinationCountry {\n        translations\n      }\n      travelRestriction {\n        open\n        openingDate\n        directAllowed\n        certificateRequired\n        certificatePolicy\n        certificateBeforeRequired\n        certificateBeforePolicy\n        certificateAfterRequired\n        certificateAfterPolicy\n        vaccinationRequired,\n        vaccinationPolicy,\n        quarantineRequired\n        quarantinePolicy\n        insuranceRequired\n        insurancePolicy\n        masksRequired\n        masksPolicy\n        foodOpen\n        foodPolicy\n        internalRestrictions\n        entryRestrictions\n        relevanceInfo\n        summary\n      }\n    }\n  }  \n}",variables:{source:b,fn:S},extra:{operation_name:"fetch_travel_restrictions"}},enabled:d.i.outputs.travelRestrictionsFlag.$value,request:{url:v(`${c.H.CONTENT_ADMIN_HOST}/api/widgets`)},response:{contract:(0,s.v)((0,n.Record)({data:f})),mapData:({result:e})=>(e=>{const t=e.widgets.travelRestrictionsV1;if(!t?.travelRestriction||!t.destination&&!t.destinationCountry)return null;const{travelRestriction:r,destination:a,destinationCountry:i}=t,s=a?.country||i;return{...r,city:a?{translations:a.translations}:null,country:s}})(e.data)}})});(0,a.withFactory)({sid:"gig5m2",fn:()=>(0,i.Np)(y,{automatically:!0})});const F=(0,a.createEvent)({sid:"-tdb8ur"}),_=(0,a.createEvent)({sid:"f5z6jv"}),T=(0,a.createStore)(k,{sid:"w7gtiq"}).on(y.finished.success,((e,{result:t})=>t||k)),R=T.map((e=>Boolean(e&&null!==e.open))),x=y.$pending,C=y.finished.failure,E=y.finished.success,w=y.finished.skip;(0,a.sample)({and:[{clock:F,filter:({origin:e,destination:t})=>!(0,h.Tu)(e)&&!(0,h.Tu)(t),fn:({origin:e,destination:t})=>({origin:e,destination:t}),target:y.refresh}],or:{sid:"hgjeeg"}}),(0,a.sample)({and:[{clock:_,target:y.reset}],or:{sid:"hy4te0"}});const $={inputs:{requestTravelRestrictions:F,resetTravelRestrictions:_},outputs:{$data:T,$isDataValid:R,$isLoading:x,loadedWithSuccess:E,loadedWithError:C,canNotBeLoaded:w},internals:{travelRestrictionsData:y}}},61330:function(e,t,r){"use strict";r.d(t,{Y:function(){return Fe}});var a=r(30091),i=r(82846),s=r(98116),n=r(47047),o=r(15863);const c=(0,s.createEvent)({sid:"-jg951"}),{$enabled:l,turnOn:d}=(0,s.withFactory)({sid:"i4lhn4",fn:()=>(0,n.d)(o.qs,!1)}),u={previewClicked:c,previewViewed:d},p={$isWidgetViewed:l};var h=r(67294),g=r(24561),m="18px",f="19px",S="24px",k=r(85893);const v=(0,h.memo)((()=>(0,k.jsxs)(g.ZP,{speed:2,height:62,backgroundColor:"var(--white-graphite_600)",foregroundColor:"var(--ink_50-graphite_500)",className:"s__pIBuZqYQgMFGs0Bc09NU",children:[(0,k.jsx)("rect",{x:m,y:f,rx:"0",ry:"0",width:"50%",height:S}),(0,k.jsx)("rect",{x:"calc(75% - 18px)",y:f,rx:"0",ry:"0",width:"25%",height:S})]})));v.displayName="TravelRestrictionsPreviewSkeleton";var b=r(4190),y=r(38387),F=r(28225),_=r(94184),T=r.n(_),R=r(49963),x=r(44619),C=r(4579),E=r(88831),w=r(80871),$=r(50405),D="s__fEDqM_nC2036pGZOqUVn";const P=e=>{const{t:t}=(0,F.useTranslation)("service_travel_restrictions"),{onClick:r,data:a,compact:i,isMobile:s}=e,{mainText:n,additionalText:o}=(0,$.r)(),{open:c}=a,l=!s&&!i;return null===c?null:(0,k.jsxs)("button",{"data-test-id":"tr-preview_button",onClick:r,className:T()("s__Ql9zb9OiPyUomGwTlsdO",i&&"s__ltRIh_YtJFBytUNQ_ynP"),children:[c?(0,k.jsx)(C.D,{className:D}):(0,k.jsx)(E.W,{className:D}),(0,k.jsxs)("div",{"data-test-id":"tr-preview_text",className:"s__ujOQ8WweSQN96Zp01VmA",children:[(0,k.jsx)(R.x,{type:x.y.Body1Semi,tag:"span",transformOnMobile:!0,className:"s__AMmX0W1AXiP9h7aeN3Rn",children:n})," ",o&&(0,k.jsx)(R.x,{type:x.y.Body1Regular,tag:"span",transformOnMobile:!0,className:"s__vOUkxUPryvfqcG6kvINa",children:o})]}),(0,k.jsxs)("div",{className:"s__JxQ8jP9NA8XeA4LIa30q",children:[l&&(0,k.jsx)(R.x,{type:x.y.Body1Semi,tag:"span",transformOnMobile:!0,children:t("conditions")}),(0,k.jsx)(w.i,{className:"s__cI3RXFU3NobNZm7rMiQN"})]})]})},I={inputs:u,outputs:p,internals:{},components:{TravelRestrictionsPreviewSkeleton:v,TravelRestrictionsCard:e=>{const t=Boolean((0,b.useUnit)(y.l.outputs.$isMobile));return(0,k.jsx)(P,{isMobile:t,...e})}}};var q=r(47420),O=r(23588);let B;!function(e){e.Serp="serp",e.Explore="explore"}(B||(B={}));const U=(0,s.createStore)(null,{sid:"4rv19g"}),V=U.map((e=>e?.source===B.Explore||!1)),L=(0,s.createEvent)({sid:"-evmsox"}),{$enabled:Z,turnOn:A,turnOff:M}=(0,s.withFactory)({sid:"-lpfsqb",fn:()=>(0,n.d)(o.qs,!1)}),{setSerp:N,setExplore:j}=(0,s.createApi)({and:[U,{setSerp:(e,t)=>({source:B.Serp,searchId:t.searchId,ticketSign:t?.ticketSign||null,ticketLink:t?.ticketLink||null}),setExplore:()=>({source:B.Explore,searchId:null,ticketSign:null,ticketLink:null})}],or:{sid:"-xgg2t4"}});(0,s.sample)({and:[{clock:O.z.outputs.travelRestrictionInfomerClicked,target:[A,N]}],or:{sid:"1rffhj"}}),(0,s.sample)({and:[{clock:I.inputs.previewClicked,target:[A,j]}],or:{sid:"25q2wx"}});const H={inputs:{showModal:A,hideModal:M,restrictionBlockClicked:L},outputs:{$isModalVisible:Z,$isModalExplore:V,$modalContext:U},internals:{}},{$enabled:z,turnOn:G,turnOff:W}=(0,s.withFactory)({sid:"pov8kl",fn:()=>(0,n.d)(o.qs,!1)}),Q={showFeedback:G,hideFeedback:W},K={$isFeedbackVisible:z,$feedbackData:(0,s.combine)({and:[q.i.outputs.$origin,q.i.outputs.$destination,H.outputs.$modalContext,(e,t,r)=>({originIata:e?.iata||null,destinationIata:t?.iata||null,modalSource:r?.source||null,ticketSign:r?.ticketSign||null,ticketLink:r?.ticketLink||null})],or:{sid:"6gms9o"}})},X=(0,s.createEvent)({sid:"mcbefr"});var Y=r(31409),J=r(30040),ee=r(24002),te=r(10924),re=r(87722),ae=r(82203);const{platform:ie}=ee.t.outputs,se=q.i.outputs.$destination.map((e=>e?.iata??null)),ne=se.map(Boolean),oe=q.i.outputs.$destination.map((function(e){return e?(0,re.be)(e)?ae.yh.Country:(0,re.rP)(e)?ae.yh.World:ae.yh.Direction:null})),ce=(0,s.combine)({and:[i.S.outputs.$data,oe,({open:e,directAllowed:t},r)=>({pageName:"main",userEvent:!1,source:null,platform:ie,travelInfoSource:r,restrictionState:{open:Number(e),directAllowed:Number(t)}})],or:{sid:"-31w1vv"}}),le=ce.map((({platform:e})=>Boolean(e))),de=(0,s.sample)({and:[{clock:[I.outputs.$isWidgetViewed],source:ce,filter:(0,s.withFactory)({sid:"ui0lkf",fn:()=>(0,Y.y)({stores:[le,I.outputs.$isWidgetViewed],predicate:Boolean})})}],or:{sid:"-a6rxdt"}});te.I.inputs.createReporter({data:{category:"travel_info",label:"block",action:"showed",service:J.t6.Explore}})({clock:de,payload:e=>e});const ue=(0,s.combine)({and:[i.S.outputs.$data,ce,({entryRestrictions:e,certificateRequired:t,certificateBeforeRequired:r,certificateAfterRequired:a,masksRequired:i,quarantineRequired:s,foodOpen:n,insuranceRequired:o},c)=>({...c,restrictionItems:{entry:Number(null!==e),certificate:Number(t),certificateBefore:Number(r),certificateAfter:Number(a),quarantine:Number(s),insurance:Number(o),mask:Number(i),food:Number(n)}})],or:{sid:"-3mhus3"}}),pe=(0,s.sample)({and:[{clock:I.inputs.previewClicked,source:ue,filter:(0,s.withFactory)({sid:"-grjgy6",fn:()=>(0,Y.y)({stores:[le,H.outputs.$isModalVisible],predicate:Boolean})})}],or:{sid:"-kn6rzf"}});te.I.inputs.createReporter({data:{category:"travel_info",label:"screen",action:"opened",service:J.t6.Explore}})({clock:pe,payload:e=>e});const he=(0,s.restore)(H.inputs.restrictionBlockClicked,"",{sid:"-opg0nw"}),ge=he.map((e=>Boolean(e))),me=(0,s.combine)({and:[he,ce,(e,t)=>({...t,restrictionItemType:e})],or:{sid:"-t63t38"}}),fe=(0,s.sample)({and:[{clock:H.inputs.restrictionBlockClicked,source:me,filter:(0,s.withFactory)({sid:"-grw7s4",fn:()=>(0,Y.y)({stores:[le,ge,H.outputs.$isModalExplore],predicate:Boolean})})}],or:{sid:"-pocpvg"}});te.I.inputs.createReporter({data:{category:"travel_info",label:"screen_item",action:"opened",service:J.t6.Explore}})({clock:fe,payload:e=>e});const Se=(0,s.sample)({and:[{clock:(0,s.sample)({and:[{clock:O.z.outputs.travelRestrictionInfomerClicked,source:se,fn:(e,{searchId:t})=>({pageName:"search",userEvent:!0,source:null,destination:e,searchId:t})}],or:{sid:"w2yx71"}}),filter:(0,s.withFactory)({sid:"-smdigx",fn:()=>(0,Y.y)({stores:[ne,H.outputs.$isModalVisible],predicate:Boolean})})}],or:{sid:"-469zr1"}});te.I.inputs.createReporter({data:{category:"search",label:"restriction_info",action:"showed",service:J.t6.Serp}})({clock:Se,payload:e=>e});const ke={...i.S.inputs,...I.inputs,...Q,...H.inputs},ve={...i.S.outputs,...I.outputs,...K,...H.outputs},be={...i.S.internals},ye={...I.components},Fe=(0,a.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/explore/services/travel_restrictions/index.ts",lifecycle:{start:X},api:{inputs:ke,outputs:ve,internals:be,components:ye}})},50405:function(e,t,r){"use strict";r.d(t,{r:function(){return c}});var a=r(67294),i=r(28225),s=r(4190),n=r(86523),o=r(82846);const c=e=>{const{t:t}=(0,i.useTranslation)("service_travel_restrictions"),r=(0,n.d)("ts_day_month"),c=(0,s.useUnit)(o.S.outputs.$data),{open:l,openingDate:d,directAllowed:u,quarantineRequired:p}=c,h=(0,a.useMemo)((()=>{const a=e?"countryOpenShort":"countryOpen";return{closed:()=>({mainText:t("countryClosed"),additionalText:null}),closedUntilDate:()=>({mainText:t("countryClosed"),additionalText:t("countryClosedUntilDate",{openingDate:r(new Date(d))})}),openFromDate:()=>({mainText:t(a),additionalText:t("countryOpenFromDate",{openingDate:r(new Date(d))})}),openNotDirectWithQuarantine:()=>({mainText:t(a),additionalText:t("countryOpenNotDirectQuarantine")}),openNotDirect:()=>({mainText:t(a),additionalText:t("countryOpenNotDirect")}),openWithQuarantine:()=>({mainText:t(a),additionalText:t("countryOpenQuarantine")}),open:()=>({mainText:t("countryOpen"),additionalText:null})}}),[e,d,t,r]);return(0,a.useMemo)((()=>l?d?h.openFromDate():u?p?h.openWithQuarantine():h.open():p?h.openNotDirectWithQuarantine():h.openNotDirect():d?h.closedUntilDate():h.closed()),[l,d,u,p,h])}},77313:function(e,t,r){"use strict";r.d(t,{a:function(){return b}}),r(21703);var a=r(30091),i=r(98116),s=r(23588),n=r(94547),o=r(35529);const c=(0,o.Record)({id:o.String,expName:o.String,groupName:o.String,enabled:o.Boolean}),l=(0,o.Record)({marker:(0,o.Optional)(o.String),marketCode:(0,o.Optional)(o.String),currencyCode:(0,o.Optional)(o.String),languages:(0,o.Optional)(o.String),gateErrors:(0,o.Optional)(o.Boolean),dumpRequests:(0,o.Optional)(o.Boolean),bypassRulers:(0,o.Optional)(o.Boolean),disableCache:(0,o.Optional)(o.Boolean),experimentGroups:(0,o.Optional)((0,o.Array)(c)),gatesToRequest:(0,o.Optional)(o.String),referrer:(0,o.Optional)(o.String),"X-Client-Type":(0,o.Optional)(o.String),debugUrl:(0,o.Optional)(o.Boolean),debugMetrics:(0,o.Optional)(o.Boolean),turnOffAnnoyingPopups:(0,o.Optional)(o.Boolean),searchHost:(0,o.Optional)(o.String)}),d=(0,n.Yu)("_debugSettings",{adapter:n.j$.json({contract:l})}),u=(0,i.createStore)(d.read(),{sid:"-9w743h"}),p=u.map((e=>e?.languages?e.languages.split(",").reduce(((e,t,r)=>{const a=t.trim();return a&&(e[a]=r),e}),{}):null)),h=u.map((e=>e?.gatesToRequest?e.gatesToRequest.split(",").map((e=>e.trim())).filter(Boolean):null)),g=u.map((e=>e?.experimentGroups?e.experimentGroups.reduce(((e,{expName:t,groupName:r,enabled:a})=>(t&&r&&a&&(e[t]=r),e)),{}):null)),m=(0,i.createEvent)({sid:"-fu0qwi"}),f=(0,i.createEvent)({},{sid:"-b57ea7"}),S=(0,i.createEvent)({sid:"q3n1bm"});(0,i.sample)({and:[{clock:m,source:u,fn:(e,t)=>({...e,...t}),target:u}],or:{sid:"p9e7am"}}),(0,i.sample)({and:[{clock:f,source:u,filter:Boolean,fn:({debugUrl:e,debugMetrics:t,turnOffAnnoyingPopups:r,experimentGroups:a})=>({debugUrl:e,debugMetrics:t,turnOffAnnoyingPopups:r,experimentGroups:a}),target:u}],or:{sid:"pqftot"}}),(0,i.sample)({and:[{clock:S,fn:()=>null,target:u}],or:{sid:"-h2ydzw"}});const k={$debugSettings:u,$debugLanguages:p,$debugGatesToRequest:h,$debugExperimentGroups:g},v={debugSettingsChanged:m,debugSearchSettingsReset:f,debugSettingsReset:S};(0,i.sample)({and:[{clock:s.z.outputs.debugSettingsChanged,fn:({settings:e})=>e,target:v.debugSettingsChanged}],or:{sid:"lulbhk"}}),(0,i.sample)({and:[{clock:s.z.outputs.debugSearchSettingsReset,target:v.debugSearchSettingsReset}],or:{sid:"zc4j3n"}}),(0,i.sample)({and:[{clock:s.z.outputs.debugSettingsReset,target:v.debugSettingsReset}],or:{sid:"zevi2g"}});const b=(0,a.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/serp/services/debug_settings/index.ts",api:{outputs:k},attachTestApi(){throw new Error("Test API is not available in production")}})},4517:function(e,t,r){"use strict";r.d(t,{r:function(){return M}});var a=r(30091),i=r(98116),s=r(47047),n=r(78364),o=r(31401),c=r(35529);const l=(0,c.Union)((0,c.Literal)(o.g_.Autosearch),(0,c.Literal)(o.g_.Results),(0,c.Literal)(o.g_.Ticket),(0,c.Literal)(o.g_.BottomDrawer),(0,c.Literal)(o.g_.Proposals)),d=(0,c.Record)({enabled:c.Boolean,informerPlacements:(0,c.Array)(l),informerSuspensionTime:c.Number.withConstraint((e=>e>=0))}),u=(0,c.Record)({enabled:c.Boolean,version:(0,c.Union)((0,c.Literal)("old"),(0,c.Literal)("new")).optional(),payload:(0,c.Record)({popupButtonText:c.String.optional(),popupDescription:c.String.optional(),redirectLink:c.String.optional(),imageUrl:c.String.optional(),headline:c.String.optional(),bullets:(0,c.Array)(c.String).optional(),actionButton:(0,c.Record)({label:c.String,type:(0,c.Union)((0,c.Literal)("ios"),(0,c.Literal)("android")),url:c.String}).optional(),showBannerAction:(0,c.Union)((0,c.Literal)("appLaunch"),(0,c.Literal)("searchStart")).optional(),skipLabel:c.String.optional()}).optional()}),p=(0,c.Record)({enabled:c.Boolean,compareButtonVisible:c.Boolean.optional(),shareButtonVisible:c.Boolean.optional(),subscribeButtonVisible:c.Boolean.optional(),baggageInformersVisible:c.Boolean.optional(),handbagsInformersVisible:c.Boolean.optional(),oldDesktopPreviewEnabled:c.Boolean.optional()}),h=(0,c.Record)({enabled:c.Boolean,maxSessionDuration:c.Number.optional()}),g=(0,c.Record)({enabled:c.Boolean,gatesId:(0,c.Array)(c.Number).optional(),isSortTicketsConsideringDowngrade:c.Boolean.optional()}),m=(0,c.Record)({list:(0,c.Array)(c.String)}),f=(0,c.Record)({enabled:c.Boolean}),S=(0,c.Record)({enabled:c.Boolean,isHandbagFilterShown:c.Boolean.optional()}),k=(0,i.createDomain)("serp_flags",{sid:"yo4c8e"}).createEvent({sid:"xglyom"}),v=(0,i.withFactory)({sid:"-aax1ez",fn:()=>(0,s.d)((()=>n.f.inputs.createFlag({name:o.TT.AviaCashback,contract:d,defaultValue:{enabled:!1,informerPlacements:[],informerSuspensionTime:0}})))}),b=v.$value,y=v.__.$override,F=(0,i.withFactory)({sid:"h6lces",fn:()=>(0,s.d)((()=>n.f.inputs.createFlag({name:o.TT.DirectTicketsScheduleInModal,contract:f,defaultValue:{enabled:!1}})))}).$value,_=(0,i.withFactory)({sid:"-chfakj",fn:()=>(0,s.d)((()=>n.f.inputs.createFlag({name:o.TT.ScoringSort,contract:f,defaultValue:{enabled:!1}})))}),T=_.$value,R=_.__.$override,x=(0,i.withFactory)({sid:"osgebu",fn:()=>(0,s.d)((()=>n.f.inputs.createFlag({name:o.TT.TicketPreviewV3,contract:p,defaultValue:{enabled:!0,baggageInformersVisible:!0,compareButtonVisible:!1,shareButtonVisible:!0,subscribeButtonVisible:!0,handbagsInformersVisible:!1,oldDesktopPreviewEnabled:!0}})))}).$value,C=(0,i.withFactory)({sid:"nnf6o9",fn:()=>(0,s.d)((()=>n.f.inputs.createFlag({name:o.TT.SavedFilters,contract:h,defaultValue:{enabled:!1}})))}),E=C.$value,w=C.__.$override,$=(0,i.withFactory)({sid:"7l7rr0",fn:()=>(0,s.d)((()=>n.f.inputs.createFlag({name:o.TT.Fares,contract:f,defaultValue:{enabled:!1}})))}),D=$.$value,P=$.__.$override,I=(0,i.withFactory)({sid:"-pal7jm",fn:()=>(0,s.d)((()=>n.f.inputs.createFlag({name:o.TT.DowngradedGates,contract:g,defaultValue:{enabled:!1,gatesId:[],isSortTicketsConsideringDowngrade:!1}})))}).$value,q=(0,i.withFactory)({sid:"-p9hdbq",fn:()=>(0,s.d)((()=>n.f.inputs.createFlag({name:o.TT.TicketSharingMethods,contract:m,defaultValue:{list:[]}})))}).$value,O=(0,i.withFactory)({sid:"-at9yoz",fn:()=>(0,s.d)((()=>n.f.inputs.createFlag({name:o.TT.DirectTicketsScheduleV3,contract:f,defaultValue:{enabled:!1}})))}).$value,B=(0,i.withFactory)({sid:"-ju88nt",fn:()=>(0,s.d)((()=>n.f.inputs.createFlag({name:o.TT.DynamicFilters,contract:f,defaultValue:{enabled:!1}})))}).$value,U=(0,i.withFactory)({sid:"-tqjur5",fn:()=>(0,s.d)((()=>n.f.inputs.createFlag({name:o.TT.FaresV2,contract:f,defaultValue:{enabled:!1}})))}),V=U.$value,L=U.__.$override,Z={$aviaCashbackFlag:b,$directTicketsScheduleInAutosearchModalFlag:F,$scoringSortFlag:T,$ticketPreviewV3Flag:x,$savedFiltersFlag:E,$faresFlag:D,$downgradedGatesFlag:I,$ticketSharingMethodsFlag:q,$directTicketsScheduleV3Flag:O,$dynamicFiltersFlag:B,$faresV2Flag:V,$tikcetInExpiredSearchFlag:(0,i.withFactory)({sid:"-cw0uv9",fn:()=>(0,s.d)((()=>n.f.inputs.createFlag({name:o.TT.TicketInExpired,contract:f,defaultValue:{enabled:!1}})))}).$value,$nativeSharingFlag:(0,i.withFactory)({sid:"u9eb31",fn:()=>(0,s.d)((()=>n.f.inputs.createFlag({name:o.TT.NativeSharing,contract:f,defaultValue:{enabled:!1}})))}).$value,$interlinesRebrandingFlag:(0,i.withFactory)({sid:"-ar8lmy",fn:()=>(0,s.d)((()=>n.f.inputs.createFlag({name:o.TT.InterlinesRebranding,contract:f,defaultValue:{enabled:!1}})))}).$value,$mobileAppRedirectFlag:(0,i.withFactory)({sid:"-7jk33f",fn:()=>(0,s.d)((()=>n.f.inputs.createFlag({name:o.TT.MobileAppRedirect,contract:u,defaultValue:{enabled:!1}})))}),$ticketHeaderFlag:(0,i.withFactory)({sid:"hdir3b",fn:()=>(0,s.d)((()=>n.f.inputs.createFlag({name:o.TT.TicketHeader,contract:f,defaultValue:{enabled:!1}})))}).$value,$bletFlightInfoFlag:(0,i.withFactory)({sid:"-25vmz4",fn:()=>(0,s.d)((()=>n.f.inputs.createFlag({name:o.TT.BletFlightInfo,contract:f,defaultValue:{enabled:!1}})))}).$value,$drawerAsWidgetFlag:(0,i.withFactory)({sid:"egj1q6",fn:()=>(0,s.d)((()=>n.f.inputs.createFlag({name:o.TT.DrawerAsWidget,contract:f,defaultValue:{enabled:!1}})))}).$value,$bletInformersFlag:(0,i.withFactory)({sid:"-cgznfc",fn:()=>(0,s.d)((()=>n.f.inputs.createFlag({name:o.TT.BletInformers,contract:f,defaultValue:{enabled:!1}})))}).$value,$faresFiltersFlag:(0,i.withFactory)({sid:"-10swyb",fn:()=>(0,s.d)((()=>n.f.inputs.createFlag({name:o.TT.FaresFilters,contract:S,defaultValue:{enabled:!1,isHandbagFilterShown:!1}})))}).$value},A={$aviaCashbackFlagOverride:y,$scoringSortFlagOverride:R,$faresFlagOverride:P,$faresV2FlagOverride:L,$savedFiltersFlagOverride:w},M=(0,a.G6)({lifecycle:{start:k},importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/serp/services/flags/index.ts",api:{outputs:Z,internals:A}})},23588:function(e,t,r){"use strict";r.d(t,{z:function(){return n}});var a=r(83781);let i,s;!function(e){e.AbortSearch="service/helios/serp/api/abort",e.AddRequiredTickets="service/helios/serp/api/required_tickets/add",e.B2bBannerClicked="service/helios/serp/b2b_banner/clicked",e.ChangeSearchResultsPage="service/helios/serp/page/change",e.ContinueStatusChanged="service/helios/continue_status/changed",e.DeviceSearchIdUpdated="service/helios/deviceSearchId/changed",e.DirectScheduleReset="service/helios/serp/direct_schedule/reset",e.DirectScheduleTicketClicked="service/helios/serp/direct_schedule/ticket_clicked",e.DirectScheduleTicketReset="service/helios/serp/direct_schedule/ticket_reset",e.DirectScheduleTicketUnavailableClicked="service/helios/serp/direct_schedule/ticket_unavailable_time_clicked",e.DirectScheduleTicketUpdated="service/helios/serp/direct_schedule/ticket_updated",e.DirectScheduleUpdated="service/helios/serp/direct_schedule/updated",e.DirectScheduleVisibilityChanged="service/helios/serp/direct_schedule/visibility_changed",e.DirectScheduleFlightRequestStarted="service/helios/serp/direct_schedule/flight_request_started",e.DirectScheduleFlightRequestFailed="service/helios/serp/direct_schedule/flight_request_failed",e.DirectScheduleSearchChunksLoaded="service/helios/serp/api/direct_schedule/chunks_loaded",e.ExpiredDialogSubmit="service/helios/serp/expired_dialog/submit",e.ExploreFiltersShouldChange="service/helios/serp/explore_filters/should_change",e.FiltersBoundariesUpdated="service/helios/serp/filters/boundaries_updated",e.FiltersChanged="service/helios/serp/filters/changed",e.ScrollResults="service/helios/serp/results/scroll_to_top",e.FiltersRelax="service/helios/serp/filters/relax",e.FiltersReset="service/helios/serp/filters/reset",e.FiltersStateUpdated="service/helios/serp/filters/state_updated",e.GetSearchResults="service/helios/serp/api/results",e.PremiumLandingShown="service/helios/serp/more_landing/shown",e.RemoveRequiredTickets="service/helios/serp/api/required_tickets/remove",e.ResetSearchResultsPage="service/helios/serp/page/reset",e.RestartSearch="service/helios/serp/api/restart",e.SavedFiltersUpdated="service/helios/serp/saved_filters/updated",e.SearchChunksLoaded="service/helios/serp/api/chunks_loaded",e.SearchFailed="service/helios/serp/api/search_failed",e.SearchFinished="service/helios/serp/api/search_finished",e.SearchMetaLoaded="service/helios/serp/api/meta_loaded",e.SearchParamsUpdated="service/helios/serp/api/search_params_updated",e.SearchStatusChange="service/helios/serp/search_status/change",e.SortingChanged="service/helios/serp/sorting/changed",e.StartSearch="service/helios/serp/api/start",e.SearchStartSourceChanged="service/helios/serp/api/search_start_source_changed",e.TicketPopupClosed="service/helios/serp/ticket/ticket_popup_closed",e.CloseTicketPopup="service/helios/serp/ticket/close_ticket_popup",e.TransferInfoShown="service/helios/serp/transfer_info/shown",e.TravelRestrictionInformerClick="service/helios/serp/travel_restriction_infomer_click",e.TravelRestrictionsUpdated="service/helios/serp/transfer_info/travel_restrictions_updated",e.TicketPopupOpen="service/helios/serp/ticket/ticket_popup_open",e.CalculateTicketDeeplinkPriceDiff="service/helios/serp/ticket/deeplink_price_diff_calculated",e.TicketFlightInfoOpened="service/helios/serp/ticket/flight_info_opened",e.BletFlightInfoOpened="service/helios/serp/ticket/blet_flight_info_opened",e.TicketBuyClicked="service/helios/serp/ticket/buy",e.PopupsFromTicketOpen="service/helios/serp/ticket/drawer/overlapping_popup_open",e.PopupsFromTicketClose="service/helios/serp/ticket/drawer/overlapping_popup_close",e.TicketHasBaggageUpdated="service/helios/serp/ticket/has_baggage/updated",e.TicketFareSelected="service/helios/serp/ticket/ticket_fare_selected",e.TicketFareSelectedByUser="service/helios/serp/ticket/ticket_fare_selected_by_user",e.UpdateResults="service/helios/serp/ticket/update_results",e.DebugProposalModalOpened="service/helios/serp/ticket/debug_proposal_modal/opened",e.RemoveHighlightedTicketParams="service/helios/serp/highlighted_ticket_params/remove",e.DebugSettingsChanged="service/helios/serp/debug_settings/changed",e.DebugSearchSettingsReset="service/helios/serp/debug_settings/search_settings_reset",e.DebugSettingsReset="service/helios/serp/debug_settings/reset",e.TicketPreviewClicked="service/helios/serp/results/ticket_preview_clicked",e.TicketSubscriptionClicked="service/helios/serp/tickets/subscription/clicked",e.TicketsSubscriptionChanged="service/helios/serp/tickets/subscription/changed",e.TicketErrorShownChanged="service/helios/serp/ticket/error/shown/changed",e.TicketErrorActionClicked="service/helios/serp/ticket/error/action/clicked",e.OpenForbiddenLayoverPopup="service/helios/serp/tickets/forbidden_layover_popup/open",e.TicketDeeplinkOpened="service/helios/serp/ticket/deeplink/opened",e.SoldOutDialogOpened="service/helios/serp/ticket/sold_out_dialog/opened",e.TicketSharingModalOpened="service/helios/serp/ticket/sharing_modal/opened",e.TicketDirectScheduleUpdated="service/helios/serp/ticket/direct_schedule/updated",e.TicketChangeHandlersUpdated="service/helios/serp/ticket/change_handlers/updated",e.BookingRedirectStarted="service/helios/serp/ticket/bookingRedirectStarted",e.BaggageUpsellSwitchChange="service/helios/serp/ticket/baggage_upsell/switch/changed",e.AddHighlightTicket="service/helios/serp/api/highlighted_ticket/add",e.ExpiredTicketReload="service/helios/serp/ticket/expired-ticket-reload",e.BletFareKeyChange="service/helios/serp/ticket/fareKey/changed",e.BletChunkLoaded="service/helios/serp/ticket/blet/chunk/loaded",e.SelectedTariffsReset="service/helios/serp/ticket/selected_tariffs/reset"}(i||(i={})),function(e){e.Autosearch="autosearch",e.Results="results",e.Ticket="ticket",e.BottomDrawer="bottomDrawer",e.Proposals="proposals"}(s||(s={}));const n={inputs:{expiredDialogSubmittedFx:(0,a.Sy)((0,a.ZE)(i.ExpiredDialogSubmit)),exploreFiltersShouldChangeFx:(0,a.Sy)((0,a.ZE)(i.ExploreFiltersShouldChange)),searchChunksLoadedFx:(0,a.Sy)((0,a.ZE)(i.SearchChunksLoaded)),searchFailedFx:(0,a.Sy)((0,a.ZE)(i.SearchFailed)),searchFinishedFx:(0,a.Sy)((0,a.ZE)(i.SearchFinished)),searchMetaLoadedFx:(0,a.Sy)((0,a.ZE)(i.SearchMetaLoaded)),searchStatusChangeFx:(0,a.Sy)((0,a.ZE)(i.SearchStatusChange)),filtersStateUpdatedFx:(0,a.Sy)((0,a.ZE)(i.FiltersStateUpdated)),filtersBoundariesUpdatedFx:(0,a.Sy)((0,a.ZE)(i.FiltersBoundariesUpdated)),resetFiltersFx:(0,a.Sy)((0,a.ZE)(i.FiltersReset)),sortingChangedFx:(0,a.Sy)((0,a.ZE)(i.SortingChanged)),savedFiltersUpdatedFx:(0,a.Sy)((0,a.ZE)(i.SavedFiltersUpdated)),closeTicketPopupFx:(0,a.Sy)((0,a.ZE)(i.CloseTicketPopup)),searchRestartFx:(0,a.Sy)((0,a.ZE)(i.RestartSearch)),directScheduleUpdatedFx:(0,a.Sy)((0,a.ZE)(i.DirectScheduleUpdated)),directScheduleVisibilityChangedFx:(0,a.Sy)((0,a.ZE)(i.DirectScheduleVisibilityChanged)),directScheduleResetFx:(0,a.Sy)((0,a.ZE)(i.DirectScheduleReset)),directScheduleTicketUpdatedFx:(0,a.Sy)((0,a.ZE)(i.DirectScheduleTicketUpdated)),directScheduleTicketResetFx:(0,a.Sy)((0,a.ZE)(i.DirectScheduleTicketReset)),directScheduleSearchChunksLoadedFx:(0,a.Sy)((0,a.ZE)(i.DirectScheduleSearchChunksLoaded)),directScheduleFlightRequestStartedFx:(0,a.Sy)((0,a.ZE)(i.DirectScheduleFlightRequestStarted)),directScheduleFlightRequestFailedFx:(0,a.Sy)((0,a.ZE)(i.DirectScheduleFlightRequestFailed)),ticketBuyClickedFx:(0,a.Sy)((0,a.ZE)(i.TicketBuyClicked)),ticketErrorShownChangedFx:(0,a.Sy)((0,a.ZE)(i.TicketErrorShownChanged)),ticketErrorActionClickedFx:(0,a.Sy)((0,a.ZE)(i.TicketErrorActionClicked)),updateResultsFx:(0,a.Sy)((0,a.ZE)(i.UpdateResults)),b2bBannerClickedFx:(0,a.Sy)((0,a.ZE)(i.B2bBannerClicked)),removeHighlightedTicketParamsFx:(0,a.Sy)((0,a.ZE)(i.RemoveHighlightedTicketParams)),ticketPreviewClickedFx:(0,a.Sy)((0,a.ZE)(i.TicketPreviewClicked)),shouldChangeContinueStatusFx:(0,a.Sy)((0,a.ZE)(i.ContinueStatusChanged)),ticketSubscriptionClickedFx:(0,a.Sy)((0,a.ZE)(i.TicketSubscriptionClicked)),ticketDeeplinkOpenedFx:(0,a.Sy)((0,a.ZE)(i.TicketDeeplinkOpened)),scrollResultsFx:(0,a.Sy)((0,a.ZE)(i.ScrollResults)),ticketDirectScheduleUpdatedFx:(0,a.Sy)((0,a.ZE)(i.TicketDirectScheduleUpdated)),ticketChangeHandlersUpdatedFx:(0,a.Sy)((0,a.ZE)(i.TicketChangeHandlersUpdated)),baggageUpsellSwitchChangeFx:(0,a.Sy)((0,a.ZE)(i.BaggageUpsellSwitchChange)),bletFareKeyChangeFx:(0,a.Sy)((0,a.ZE)(i.BletFareKeyChange)),bletChunkLoaded:(0,a.Sy)((0,a.ZE)(i.BletChunkLoaded)),openForbiddenLayoverPopup:(0,a.Sy)((0,a.ZE)(i.OpenForbiddenLayoverPopup))},outputs:{addRequiredTickets:(0,a.V6)((0,a.ZE)(i.AddRequiredTickets)),removeRequiredTickets:(0,a.V6)((0,a.ZE)(i.RemoveRequiredTickets)),searchStartSourceChanged:(0,a.V6)((0,a.ZE)(i.SearchStartSourceChanged)),searchStart:(0,a.V6)((0,a.ZE)(i.StartSearch)),searchGetResults:(0,a.V6)((0,a.ZE)(i.GetSearchResults)),searchAbort:(0,a.V6)((0,a.ZE)(i.AbortSearch)),travelRestrictionInfomerClicked:(0,a.V6)((0,a.ZE)(i.TravelRestrictionInformerClick)),changeSearchResultsPage:(0,a.V6)((0,a.ZE)(i.ChangeSearchResultsPage)),resetSearchResultsPage:(0,a.V6)((0,a.ZE)(i.ResetSearchResultsPage)),filtersChanged:(0,a.V6)((0,a.ZE)(i.FiltersChanged)),filtersRelaxed:(0,a.V6)((0,a.ZE)(i.FiltersRelax)),searchParamsUpdated:(0,a.V6)((0,a.ZE)(i.SearchParamsUpdated)),deviceSearchIdUpdated:(0,a.V6)((0,a.ZE)(i.DeviceSearchIdUpdated)),transferInfoShown:(0,a.V6)((0,a.ZE)(i.TransferInfoShown)),travelRestrictionsUpdated:(0,a.V6)((0,a.ZE)(i.TravelRestrictionsUpdated)),ticketPopupClosed:(0,a.V6)((0,a.ZE)(i.TicketPopupClosed)),directScheduleTicketClicked:(0,a.V6)((0,a.ZE)(i.DirectScheduleTicketClicked)),directScheduleTicketUnavailableClicked:(0,a.V6)((0,a.ZE)(i.DirectScheduleTicketUnavailableClicked)),premiumLandingShown:(0,a.V6)((0,a.ZE)(i.PremiumLandingShown)),ticketPopupOpen:(0,a.V6)((0,a.ZE)(i.TicketPopupOpen)),calculateTicketDeeplinkPriceDiff:(0,a.V6)((0,a.ZE)(i.CalculateTicketDeeplinkPriceDiff)),ticketFlightInfoOpened:(0,a.V6)((0,a.ZE)(i.TicketFlightInfoOpened)),bletFlightInfoOpened:(0,a.V6)((0,a.ZE)(i.BletFlightInfoOpened)),popupsFromTicketOpen:(0,a.V6)((0,a.ZE)(i.PopupsFromTicketOpen)),popupsFromTicketClose:(0,a.V6)((0,a.ZE)(i.PopupsFromTicketClose)),ticketHasBaggageUpdated:(0,a.V6)((0,a.ZE)(i.TicketHasBaggageUpdated)),ticketFareSelected:(0,a.V6)((0,a.ZE)(i.TicketFareSelected)),ticketFareSelectedByUser:(0,a.V6)((0,a.ZE)(i.TicketFareSelectedByUser)),debugProposalModalOpened:(0,a.V6)((0,a.ZE)(i.DebugProposalModalOpened)),debugSettingsChanged:(0,a.V6)((0,a.ZE)(i.DebugSettingsChanged)),debugSearchSettingsReset:(0,a.V6)((0,a.ZE)(i.DebugSearchSettingsReset)),debugSettingsReset:(0,a.V6)((0,a.ZE)(i.DebugSettingsReset)),ticketsSubscriptionChanged:(0,a.V6)((0,a.ZE)(i.TicketsSubscriptionChanged)),soldOutDialogOpened:(0,a.V6)((0,a.ZE)(i.SoldOutDialogOpened)),ticketSharingModalOpened:(0,a.V6)((0,a.ZE)(i.TicketSharingModalOpened)),bookingRedirectStarted:(0,a.V6)((0,a.ZE)(i.BookingRedirectStarted)),addHighlightTicket:(0,a.V6)((0,a.ZE)(i.AddHighlightTicket)),expiredTicketReload:(0,a.V6)((0,a.ZE)(i.ExpiredTicketReload)),selectedTariffsReset:(0,a.V6)((0,a.ZE)(i.SelectedTariffsReset))}}},95693:function(e,t,r){"use strict";let a,i;r.d(t,{I:function(){return i},n:function(){return a}}),function(e){e.LayoverUpsellFilters="layover_upsell_filters",e.GeneralFilters="general_filters",e.SavedFilters="saved_filters",e.ExploreFilters="explore_filters",e.PinSegment="pin_segment",e.PrecheckedFilters="prechecked_filters",e.FaresUpsellFilters="fares_upsell_filters"}(a||(a={})),function(e){e.GeneralFilters="general_filters",e.SavedFiltersWidget="saved_filters_reset",e.FiltersMessage="filters_message"}(i||(i={}))},31401:function(e,t,r){"use strict";let a,i,s;r.d(t,{g_:function(){return d},ng:function(){return n.n},lm:function(){return h},TT:function(){return u},v0:function(){return i},o$:function(){return c},IK:function(){return n.I},Xi:function(){return o},tL:function(){return l},$p:function(){return s},ok:function(){return a},qb:function(){return p}}),function(e){e.Autosearch="autosearch",e.Results="results"}(a||(a={})),function(e){e.Normal="normal",e.Small="small"}(i||(i={})),function(e){e.OtherBaggage="otherBaggage",e.HasBaggage="hasBaggage"}(s||(s={}));var n=r(95693);let o,c,l,d,u,p,h;!function(e){e.Modal="modal",e.Dropdown="dropdown",e.Popup="popup"}(o||(o={})),function(e){e.SavedFilters="saved_filters",e.Deeplink="deeplink",e.Explore="explore",e.Subscription="subscription"}(c||(c={})),function(e){e.GeneralFilters="general_filters",e.ScoringWidget="sorting_widget",e.SavedFilters="saved_filters"}(l||(l={})),function(e){e.Autosearch="autosearch",e.Results="results",e.Ticket="ticket",e.BottomDrawer="bottomDrawer",e.Proposals="proposals"}(d||(d={})),function(e){e.AviaCashback="serp-feat-aviaCashback",e.DirectTicketsScheduleInModal="serp-exp-modalDirectFlights",e.ScoringSort="serp-exp-scoringSort",e.TicketPreviewV3="serp-exp-ticketPreviewV3",e.SavedFilters="serp-exp-savedFilters",e.Ad="avs-feat-ad",e.Fares="serp-exp-fares",e.DowngradedGates="avs-exp-downgradedGates",e.TicketSharingMethods="serp-feat-ticketSharingMethods",e.DirectTicketsScheduleV3="avs-exp-directTicketsScheduleV3",e.DynamicFilters="serp-exp-serverFilters",e.FaresV2="serp-exp-faresV2",e.TicketInExpired="serp-exp-ticketInExpiredSearch",e.NativeSharing="serp-exp-nativeSharing",e.AutosearchFiltersChips="serp-exp-autosearchFiltersChips",e.InterlinesRebranding="serp-exp-interlinesRebranding",e.MobileAppRedirect="serp-exp-web2appBanner",e.TicketHeader="serp-exp-headOfTicket",e.BletFlightInfo="serp-exp-bletFlightInfo",e.DrawerAsWidget="serp-exp-drawerAsWidget",e.BletInformers="serp-exp-bletInformers",e.FaresFilters="serp-exp-faresFilters"}(u||(u={})),function(e){e.BaggageFilterApplied="baggage_filter_applied",e.TicketOpen="ticket_open",e.SearchStarted="search_started",e.FlightInfoShowed="flight_info_showed"}(p||(p={})),function(e){e.Idle="idle",e.Pending="pending",e.Success="success",e.Failure="failure"}(h||(h={}))},58418:function(e,t,r){"use strict";r.d(t,{NL:function(){return i},qL:function(){return s},t9:function(){return a},zO:function(){return n}});const a=e=>e.response?.status?400===e.response?.status?"invalid-same-origin-destination"===e.response.data?.type?"SameOriginDestination":"invalid-date"===e.response.data?.type?"WrongDates":"WrongSearchParams":403===e.response?.status?"GatewayForbidden":500===e.response?.status?"StartSearchInternalServerError":451===e.response?.status?"UnavailableForLegalReasons":"StartSearchUnknownError":"UserOffline",i=e=>e.response&&e.response.status?400===e.response.status&&/uuid is invalid/gi.test(e.response.data)?"InvalidSearchId":404===e.response.status?"SearchNotFound":500===e.response.status?"ChunkLoadInternalServerError":"ChunkLoadUnknownError":"UserOffline",s=e=>Boolean(e.headers?.["x-stop-marker"]),n=()=>Math.floor(9e6*Math.random()).toString(36)},28258:function(e,t,r){"use strict";r.d(t,{E:function(){return ct}});var a=r(98116),i=r(96864),s=r(68621);let n;!function(e){e[e.Idle=0]="Idle",e[e.Fetching=1]="Fetching"}(n||(n={}));const o=(0,a.createStore)(n.Idle,{sid:"l3jrt4"}),c=(0,a.createStore)(null,{sid:"-jlq7t0"}),l=(0,a.createEvent)({sid:"-vslvm1"}),d=(0,a.createEvent)({sid:"jwdm9w"});(0,a.sample)({and:[{clock:l,fn:()=>n.Idle,target:o}],or:{sid:"-2g1yiq"}});const u={inputs:{abortSearch:l,$searchState:o,$searchSession:c},outputs:{searchFailed:d,$searchSession:c}},p="/search/v3/results",h="/search/v3.1/results",g=2e3,m=12e4,f="best",S=(0,a.createStore)({order:f,limit:10},{sid:"tj4pj"}),k={inputs:{...(0,a.createApi)({and:[S,{updateRequiredTickets:(e,t)=>({...e,required_tickets:t}),updateLimit:(e,t)=>({...e,limit:t}),updateFilters:(e,t)=>({...e,filters:t}),updatePrecheckedFilters:(e,t)=>({...e,prechecked_filters:t}),updateDynamicFilters:(e,t)=>({...e,filters_state:t}),updateOrder:(e,t)=>({...e,order:t}),updatePricePerPerson:(e,t)=>({...e,price_per_person:t}),updateHighlightedTicket:(e,t)=>({...e,highlighted_ticket:t})}],or:{sid:"muj7vw"}})},outputs:{$requestContext:S}};var v,b=r(29893),y=r.n(b),F=r(59051),_=r.n(F),T=r(99982),R=r(58418),x=r(15863),C=r(6436),E=r(75381),w=r(20611),$=r(99186),D=r(78364),P=r(57640),I=r(79403),q=r(53788),O=r(37213),B=r(41832),U=r(77313),V=r(38352),L=r(38387);!function(e){e.Mobile="mobile_web",e.Desktop="web"}(v||(v={}));const Z=e=>(0,a.attach)({and:{effect:e,source:L.l.outputs.$isMobile,mapParams:(e,t)=>({...e,params:{...e?.params,config:{...e?.params?.config,headers:{...e?.params?.config?.headers,"X-Client-Type":t?v.Mobile:v.Desktop}}}})},or:{sid:"i8lztu"}}),{SEARCH_ENGINE_HOST:A}=P.H,{withJWT:M,withRetryConfig:N,createRequestEffect:j}=C.R.inputs,{searchFailed:H}=u.outputs,{$searchState:z,$searchSession:G,abortSearch:W}=u.inputs,Q=(0,a.createStore)(0,{sid:"-htzx3o"}),K=(0,a.createEvent)({sid:"-3u5q2q"}),X=(0,a.createEvent)({sid:"-b1ganq"}),Y=(0,a.createEvent)({sid:"-riitim"}),J=j({method:"post",url:({data:e})=>`${e.url}/search/v2/start`,name:"startSearchFx",retry:!0,mapParams:({data:e,...t})=>({data:e.options,...t}),modificators:[M,Z,C.R.inputs.withCredentials,e=>(0,a.attach)({and:{effect:e,mapParams:e=>({...e,params:{...e?.params,config:{...e?.params?.config,headers:{...e?.params?.config?.headers,"X-Origin-Cookie":document.cookie}}}})},or:{sid:"jnqv0f"}}),N({retry:1,retryDelay:2e3,noResponseRetries:1,httpMethodsToRetry:["POST"],backoffType:"static"})],abort:{signal:W}}),ee=i.W.outputs.flags.foreignCardsSettingFlag.$value.map((({enabled:e})=>e)),te=(0,a.combine)({and:[{searchParams:V.s.outputs.$searchParams,debugSettings:U.a.outputs.$debugSettings,debugLanguages:U.a.outputs.$debugLanguages,debugGatesToRequest:U.a.outputs.$debugGatesToRequest,debugExperimentGroups:U.a.outputs.$debugExperimentGroups,market:q.D.outputs.$market,marker:O.b.outputs.$marker,userCitizenship:i.W.outputs.$userCitizenship,currency:B.y.outputs.$currency,language:$.l.outputs.$language,heliosExpGroups:D.f.outputs.$heliosExpGroups,brand:I.U.outputs.$brand,premium:s.b.outputs.$premiumStatus,userPaymentOptions:i.W.outputs.$userPaymentOptions,isForeignCardsExperimentEnabled:ee,source:V.s.outputs.$searchStartSource},({searchParams:e,debugSettings:t,debugLanguages:r,debugGatesToRequest:a,debugExperimentGroups:i,market:s,marker:n,userCitizenship:o,currency:c,language:l,heliosExpGroups:d,brand:u,premium:p,userPaymentOptions:h,isForeignCardsExperimentEnabled:g,source:m})=>{if(!e)return null;const{segments:f,passengers:S,tripClass:k}=e,v=f.map((e=>({origin:e.original_origin||e.origin,destination:e.original_destination||e.destination,date:e.date}))),b=t?.marketCode??s,F=r??{[l]:1},T={...d,...i},R=y()(_())({gate_errors:t?.gateErrors,dump_requests:t?.dumpRequests,bypass_rulers:t?.bypassRulers,disable_cache:t?.disableCache,experiment_groups:T,referrer:t?.referrer}),x=g?h:null,C={search_params:{directions:v,passengers:S,trip_class:k},client_features:{direct_flights:!0,brand_ticket:!1,top_filters:!0,badges:!1,tour_tickets:!0,assisted:!0},market_code:b,marker:t?.marker??n,citizenship:o??b,currency_code:t?.currencyCode??c,languages:F,debug:R,gates_to_request:a,brand:u,premium:p,payment_options:x??null,search_source:m};return y()(_())(C)}],or:{sid:"5p39bd"}}),re=(0,a.combine)({and:[{brand:I.U.outputs.$brand,hostname:w.D.outputs.$hostname,debugSettings:U.a.outputs.$debugSettings},({brand:e,hostname:t,debugSettings:r})=>r?.searchHost?r.searchHost:(0,E.G1)(A,{brand:e,currentHost:t})],or:{sid:"-kzo3ha"}});(0,a.sample)({and:[{clock:K,fn:()=>null,target:G}],or:{sid:"21rl04"}}),(0,a.sample)({and:[{clock:[K,W],source:{startSearchTransactionId:Q},fn:({startSearchTransactionId:e})=>e+1,target:Q}],or:{sid:"2gm10v"}}),(0,a.sample)({and:[{clock:K,source:z,filter:e=>e===n.Fetching,fn:()=>"another search started",target:W}],or:{sid:"2xnnf2"}}),(0,a.sample)({and:[{clock:K,source:{startSearchOptions:te,startSearchUrl:re,startSearchTransactionId:Q},filter:({startSearchOptions:e})=>null!==e,fn:({startSearchUrl:e,startSearchOptions:t,startSearchTransactionId:r})=>({data:{startSearchTransactionId:r,url:e,options:t}}),target:J}],or:{sid:"3e5h7w"}}),(0,a.sample)({and:[{clock:J.done,source:{startSearchTransactionId:Q},filter:({startSearchTransactionId:e},{params:t})=>t.data.startSearchTransactionId===e,fn:(e,{result:t})=>({searchId:t.data.search_id,ticketUrl:t.data.blet_url,resultsHostUrl:t.data.results_url,createdAt:Date.now(),lastUpdateTimestamp:(0,T.Z)(Date.now()),fetchStartTimestamp:Date.now(),transactionId:0,resultsTtl:Math.round(.9833333333333333*t.data.results_ttl_ms)}),target:G}],or:{sid:"4csiln"}}),(0,a.sample)({and:[{clock:J.done,source:{startSearchTransactionId:Q},filter:({startSearchTransactionId:e},{params:t})=>t.data.startSearchTransactionId===e,fn:(e,{result:t})=>t.data,target:Y}],or:{sid:"5cj564"}}),(0,a.sample)({and:[{clock:J.failData,filter:x.Ub,fn:e=>({type:(0,R.t9)(e),transactionId:0,error:e}),target:H}],or:{sid:"fsmf14"}}),(0,a.sample)({and:[{clock:J,fn:()=>n.Fetching,target:z}],or:{sid:"gmbb2m"}}),(0,a.sample)({and:[{clock:J.finally,fn:()=>n.Idle,target:z}],or:{sid:"gq5v85"}});const ae={inputs:{startSearch:K,restartSearch:X},outputs:{searchMetaLoaded:Y},internals:{startSearchFx:J,$startSearchTransactionId:Q,$startSearchUrl:re,$startSearchOptions:te}};r(26699),r(21703);var ie=r(59399),se=r(74423),ne=r.n(se),oe=r(4517);const{withRetryConfig:ce,createRequestEffect:le}=C.R.inputs,{$requestContext:de}=k.outputs,{searchFailed:ue}=u.outputs,{abortSearch:pe,$searchState:he,$searchSession:ge}=u.inputs,me=(0,a.createEvent)({sid:"j0ehaw"}),fe=(0,a.createEvent)({sid:"-95m0uh"}),Se=(0,a.createEvent)({sid:"wnb6eo"}),ke=(0,a.createEvent)({sid:"b76xr8"}),ve=(0,a.createEvent)({sid:"-vchwns"}),be=(0,a.createEvent)({sid:"-2kglvg"}),ye=(0,a.createEvent)({sid:"-h4yosf"}),Fe=(0,a.createEvent)({sid:"js7b8o"}),_e=(0,a.createEvent)({sid:"-c8dnge"}),Te=le({method:"post",url:({data:e})=>`${e.session.resultsHostUrl.includes("://")?"":"https://"}${e.session.resultsHostUrl}${e.resultsPath}`,name:"fetchResultsFx",retry:!0,mapParams:({data:e,...t})=>({...t,data:{search_id:e.session.searchId,rnd:(0,R.zO)(),last_update_timestamp:e.session.lastUpdateTimestamp,...e.params}}),modificators:[Z,ce({retry:4,retryDelay:2e3,noResponseRetries:4,httpMethodsToRetry:["POST"],backoffType:"static"})],abort:{signal:pe}});(0,a.sample)({and:[{clock:pe,source:{searchSession:ge},filter:({searchSession:e})=>null!==e,fn:({searchSession:e})=>({...e,transactionId:e.transactionId+1}),target:ge}],or:{sid:"-7lypih"}}),(0,a.sample)({and:[{clock:me,source:de,target:ye}],or:{sid:"-72pwqu"}}),(0,a.sample)({and:[{clock:ye,source:{searchSession:ge},filter:({searchSession:e})=>null!==e,fn:({searchSession:e})=>({...e,transactionId:e.transactionId+1,fetchStartTimestamp:Date.now()}),target:ge}],or:{sid:"-6nbo4q"}}),(0,a.sample)({and:[{clock:ye,source:{searchSession:ge,searchState:he,dynamicFiltersFlag:oe.r.outputs.$dynamicFiltersFlag},filter:({searchSession:e,searchState:t})=>null!==e&&t===n.Idle,fn:({searchSession:e,dynamicFiltersFlag:t},r)=>({session:e,params:r,resultsPath:t.enabled?h:p}),target:Fe}],or:{sid:"-5rflps"}}),(0,a.sample)({and:[{clock:Fe,source:ge,filter:(e,t)=>{if(!e)return!1;const{transactionId:r,searchId:a,fetchStartTimestamp:i}=e;return r===t.session.transactionId&&a===t.session.searchId&&Date.now()-i<=m},fn:(e,t)=>({data:{session:e,params:t.params,resultsPath:t.resultsPath}}),target:Te}],or:{sid:"-4roz5b"}}),(0,a.sample)({and:[{clock:Fe,source:{searchSession:ge},filter:({searchSession:e})=>!!e&&Date.now()-e.fetchStartTimestamp>m,fn:(e,{session:t})=>({transactionId:t.transactionId,type:"SearchTimeout",error:new Error("Search global timeout")}),target:ue}],or:{sid:"-3bgis0"}}),(0,a.sample)({and:[{clock:Te.doneData,source:ge,fn:(e,{data:t})=>{const[r]=t;return r?{...e,lastUpdateTimestamp:r.last_update_timestamp}:e},target:ge}],or:{sid:"7xruj5"}}),(0,a.sample)({and:[{clock:Te,fn:()=>n.Fetching,target:he}],or:{sid:"8jrm9l"}}),(0,a.sample)({and:[{clock:Te.finally,fn:()=>n.Idle,target:he}],or:{sid:"8z5uvp"}}),(0,a.sample)({and:[{clock:Te.doneData,fn:({data:e})=>e,target:Se}],or:{sid:"9ek3ht"}}),(0,a.sample)({and:[{clock:Te.done,filter:({result:e})=>(0,R.qL)(e),target:be}],or:{sid:"9tyc3x"}}),(0,a.withFactory)({sid:"9xsw9g",fn:()=>(0,ie.g)({source:(0,a.sample)({and:[{clock:Te.done,filter:({result:e})=>!(0,R.qL)(e),fn:({params:e})=>e.data}],or:{sid:"9m6kvv"}}),timeout:g,target:Fe})}),(0,a.withFactory)({sid:"afeb90",fn:()=>(0,ie.g)({source:(0,a.sample)({and:[{clock:Te.fail,filter:({error:e})=>304===ne()(["response","status"],e),fn:({params:e})=>e.data}],or:{sid:"ormhi3"}}),timeout:g,target:Fe})}),(0,a.sample)({and:[{clock:Te.fail,filter:({error:e})=>(0,a.withFactory)({sid:"-1ke0yo",fn:()=>(0,x.Ub)(e)})&&304!==ne()(["response","status"],e),fn:({error:e,params:t})=>({type:(0,R.NL)(e),transactionId:t.data.session.transactionId,error:new Error(e.message)}),target:ue}],or:{sid:"awzq8k"}}),(0,a.sample)({and:[{clock:fe,source:{searchSession:ge},filter:({searchSession:e})=>null!==e,target:_e}],or:{sid:"lqa2c8"}}),(0,a.sample)({and:[{clock:_e,source:he,filter:e=>e===n.Fetching,fn:()=>"continue search",target:pe}],or:{sid:"m7boqf"}}),(0,a.sample)({and:[{clock:_e,source:ge,fn:e=>({...e,lastUpdateTimestamp:0}),target:ge}],or:{sid:"mntij9"}}),(0,a.sample)({and:[{clock:_e,source:de,target:ye}],or:{sid:"n5exit"}}),(0,a.sample)({and:[{source:(0,a.sample)({and:[{source:Se,fn:e=>e.filter((e=>"results"===e.chunk_id))}],or:{sid:"5rp4qn"}}),filter:e=>e.length>0,target:ve}],or:{sid:"nk9djk"}}),(0,a.sample)({and:[{source:(0,a.sample)({and:[{source:Se,fn:e=>e.filter((e=>"debug"===e.chunk_id))}],or:{sid:"jz1skh"}}),filter:e=>e.length>0,target:ke}],or:{sid:"np7ivt"}});const Re={inputs:{getSearchResults:me,continueSearch:fe},outputs:{chunksLoaded:Se,resultChunksLoaded:ve,debugChunksLoaded:ke,searchFinished:be},internals:{maybeFetchResults:Fe,getResults:ye,fetchResultsFx:Te}};var xe=r(78260);const Ce=(0,xe.cr)("serp",{name:"api"}),Ee=["GatewayForbidden","SameOriginDestination","WrongDates","WrongSearchParams"],we=(0,xe.cr)("serp",{name:"searchTimeout",samplingRate:.1}),$e=(0,xe.cr)("serp",{name:"userOffline",samplingRate:.5}),De=(0,xe.cr)("serp",{name:"searchNotFound",samplingRate:.7}),Pe=(0,a.sample)({and:[{clock:u.outputs.searchFailed,source:{searchSession:u.inputs.$searchSession},fn:({searchSession:e},{type:t,error:r})=>({msg:t,error:r,extra:{searchSession:e,responseData:r?.response?.data}})}],or:{sid:"-53z4qi"}});(0,a.split)({and:[{source:Pe,match:{timeout:({msg:e})=>"SearchTimeout"===e,userOffline:({msg:e})=>"UserOffline"===e,searchNotFound:({msg:e})=>"SearchNotFound"===e,api:({msg:e})=>!Ee.includes(e)},cases:{timeout:we.sendErrorLog,userOffline:$e.sendErrorLog,searchNotFound:De.sendErrorLog,api:Ce.sendErrorLog}}],or:{sid:"-7f1ext"}});const{abortSearch:Ie}=u.inputs,{$requestContext:qe}=k.outputs,{searchFailed:Oe,$searchSession:Be}=u.outputs,{updateRequiredTickets:Ue,updateLimit:Ve,updateOrder:Le,updateFilters:Ze,updatePrecheckedFilters:Ae,updateDynamicFilters:Me,updatePricePerPerson:Ne,updateHighlightedTicket:je}=k.inputs,{startSearch:He,restartSearch:ze}=ae.inputs,{searchMetaLoaded:Ge}=ae.outputs,{startSearchFx:We,$startSearchTransactionId:Qe}=ae.internals,{getSearchResults:Ke,continueSearch:Xe}=Re.inputs,{chunksLoaded:Ye,resultChunksLoaded:Je,debugChunksLoaded:et,searchFinished:tt}=Re.outputs,{fetchResultsFx:rt,maybeFetchResults:at}=Re.internals,it={startSearch:He,restartSearch:ze,getSearchResults:Ke,continueSearch:Xe,abortSearch:Ie,updateRequiredTickets:Ue,updateLimit:Ve,updateFilters:Ze,updatePrecheckedFilters:Ae,updateDynamicFilters:Me,updateOrder:Le,updatePricePerPerson:Ne,updateHighlightedTicket:je},st={$requestContext:qe,chunksLoaded:Ye,resultChunksLoaded:Je,debugChunksLoaded:et,searchMetaLoaded:Ge,searchFinished:tt,searchFailed:Oe,$searchSession:Be},nt={startSearchFx:We,fetchResultsFx:rt,maybeFetchResults:at,$startSearchTransactionId:Qe};(0,a.sample)({and:[{clock:st.searchMetaLoaded,fn:({search_id:e})=>e,target:i.W.internals.fillSearchId}],or:{sid:"-xyft8a"}}),(0,a.sample)({and:[{clock:s.b.outputs.$isUserHasAviaCashbackFeature,fn:()=>"aviacashback_change",target:it.restartSearch}],or:{sid:"-xj1km6"}}),(0,a.sample)({and:[{clock:i.W.inputs.changeUserPaymentOptionsFx,filter:e=>"ru_card"!==e,fn:()=>"cards_change",target:it.restartSearch}],or:{sid:"-xf70gn"}}),(0,a.sample)({and:[{clock:i.W.outputs.$userSettings,fn:e=>Boolean(e.use_price_per_passenger),target:it.updatePricePerPerson}],or:{sid:"-wzsruj"}});var ot=r(23588);(0,a.sample)({and:[{clock:ot.z.outputs.searchStart,target:it.startSearch}],or:{sid:"-isosm1"}}),(0,a.sample)({and:[{clock:ot.z.outputs.searchGetResults,target:it.getSearchResults}],or:{sid:"-h77uzx"}}),(0,a.sample)({and:[{clock:ot.z.outputs.searchAbort,target:it.abortSearch}],or:{sid:"-h4gw14"}}),(0,a.sample)({and:[{clock:st.searchMetaLoaded,target:ot.z.inputs.searchMetaLoadedFx}],or:{sid:"-gq68lq"}}),(0,a.sample)({and:[{clock:st.chunksLoaded,target:ot.z.inputs.searchChunksLoadedFx}],or:{sid:"-gnf9mx"}}),(0,a.sample)({and:[{clock:st.searchFinished,target:ot.z.inputs.searchFinishedFx}],or:{sid:"-g94m7j"}}),(0,a.sample)({and:[{clock:st.searchFailed,target:ot.z.inputs.searchFailedFx}],or:{sid:"-g6dn8q"}}),(0,a.sample)({and:[{clock:it.restartSearch,target:ot.z.inputs.searchRestartFx}],or:{sid:"-fo8fnt"}}),(0,a.sample)({and:[{clock:ot.z.outputs.addHighlightTicket,target:it.updateHighlightedTicket}],or:{sid:"-f9xs8f"}});const ct={inputs:it,outputs:st,internals:nt,constants:{SEARCH_RESULTS_MAX_RETRIES:4,SEARCH_RESULTS_RETRY_INTERVAL:2e3,SEARCH_RESULTS_REQUEST_DELAY:g,SEARCH_RESULTS_V3_PATH:p,SEARCH_RESULTS_V3_1_PATH:h,INITIAL_SORTING_ORDER:f},utils:{withClientType:Z}}},38352:function(e,t,r){"use strict";r.d(t,{s:function(){return ee}});var a=r(98116),i=r(23588),s=r(38032),n=r(24036),o=r(27636),c=r(79028),l=r(50196),d=r(88846),u=r.n(d),p=r(27183),h=r.n(p),g=r(3945),m=r.n(g),f=r(46898),S=r.n(f);const k=e=>S()([u()((({origin:e,destination:t})=>m()("-",[e,t]))),m()("-")])(e);var v=r(15458);const b=(0,a.createEvent)({sid:"dlpy4l"}),y=(0,a.createStore)(null,{sid:"-is2hnf"}),F=(0,a.createStore)(null,{sid:"9z5isx"}),_=F.map(l.RH),T=_.map((e=>e?.origin?.iata||null)),R=F.map((e=>e?.originCityIata||null)),x=F.map((e=>e?.originCountryIata||null)),C=_.map((e=>e?.destination?.iata||null)),E=F.map((e=>e?.destinationCityIata||null)),w=F.map((e=>e?.destinationCountryIata||null)),$=_.map((e=>e?.returnDate||null)),D=F.map((e=>(e=>{if(!e)return[];const t=h()([],"segments",e);return u()((({origin:e,destination:t,date:r})=>({date:r,origin:e,destination:t})),t)})(e))),P=D.map((e=>e.reduce(((e,t,r)=>({...e,[r]:t})),{}))),[I,q]=(0,a.withFactory)({sid:"d3v7db",fn:()=>(0,o.K)(D.map(k))}),O=I.map((e=>{const[t]=e.match(/([A-Z]+-[A-Z]+)/g)||[];return t??null})),[B,U]=(0,a.withFactory)({sid:"sqcqfg",fn:()=>(0,o.K)(F.map(c.M))}),[V,L]=(0,a.withFactory)({sid:"-t1hwne",fn:()=>(0,o.K)(B.map((e=>e===n.D.Multiway)))}),Z=B.map((e=>e===n.D.OneWay)),A=B.map((e=>e===n.D.RoundTrip)),M=F.map((e=>e?e.trip_class:v.s.Economy)),N=D.map((e=>e.map(((e,t)=>t.toString())))),j=F.map(l.vQ),H=F.map((e=>e?.passengers??{adults:1,children:0,infants:0})),z=H.map((e=>1===Object.values(e).reduce(((e,t)=>e+t),0))),G=(0,a.withFactory)({sid:"22qswv",fn:()=>(0,s.f)(z)}),W={searchParamsUpdated:b},Q={$tripDirectionOverride:U,$isMultiwayOverride:L,$segmentsHashOverride:q},K={$segments:D,$segmentCollection:P,$segmentIds:N,$segmentsHash:I,$searchParams:F,$direction:_,$firstSegmentDirection:j,$origin:T,$destination:C,$originCityIata:R,$originCountryIata:x,$destinationCityIata:E,$destinationCountryIata:w,$tripDirection:B,$tripClass:M,$isMultiway:V,$isOneWay:Z,$isRoundTrip:A,$isSearchForSinglePassenger:z,$isSearchForMultiPassengers:G,$returnDate:$,$firstSegmentHash:O,$passengers:H,$searchStartSource:y};(0,a.sample)({and:[{source:i.z.outputs.searchParamsUpdated,target:W.searchParamsUpdated}],or:{sid:"y9wju5"}}),(0,a.sample)({and:[{source:i.z.outputs.searchStartSourceChanged,target:K.$searchStartSource}],or:{sid:"-5ofeib"}});var X=r(61330),Y=r(20611),J=r(43175);(0,a.sample)({and:[{source:K.$direction,fn:({origin:e,destination:t})=>({origin:e??null,destination:t??null}),target:X.Y.inputs.requestTravelRestrictions}],or:{sid:"qw2c3h"}}),(0,a.sample)({and:[{clock:J.J.outputs.searchStarted,source:{searchParams:K.$searchParams},filter:({searchParams:e})=>Boolean(e),fn:()=>({keys:["expected_price","expected_price_value","expected_price_uuid","expected_price_currency","expected_price_source","utm_source","utm_medium","utm_campaign","search_label","search_date","request_source","t"],type:"replace"}),target:Y.D.inputs.removeQueryParams}],or:{sid:"-m0944k"}}),(0,a.sample)({and:[{clock:W.searchParamsUpdated,target:K.$searchParams}],or:{sid:"-kxrila"}});const ee={inputs:W,outputs:K,internals:Q}},50196:function(e,t,r){"use strict";r.d(t,{RH:function(){return v},k3:function(){return f},vQ:function(){return b}});var a=r(28789),i=r(56514),s=r(46898),n=r.n(s),o=r(27183),c=r.n(o),l=r(69937),d=r.n(l),u=r(52151),p=r.n(u),h=r(24036),g=r(79028);const m=e=>{const t=c()(null,"date",e);return t?(0,a.Z)((0,i.Z)(t,"yyyy-MM-dd",new Date)):null},f=e=>{const t=(0,g.L)(e),r=p()(e)?.date;return t===h.D.RoundTrip&&r?(0,a.Z)((0,i.Z)(r,"yyyy-MM-dd",new Date)):null},S=e=>e?{iata:e?.original_destination,name:e?.destination_name,type:e?.destination_type,countryIata:e?.destination_country,cityIata:e?.destination}:null,k=e=>e?{iata:e?.original_origin,name:e?.origin_name,type:e?.origin_type,countryIata:e?.origin_country,cityIata:e?.origin}:null,v=e=>{const t=n()([c()(null,"segments"),d()])(e),r=n()([c()(null,"segments"),p()])(e);return{origin:k(t),destination:S(r),departDate:m(t),returnDate:f(c()([],"segments",e))}},b=e=>{const t=n()([c()(null,"segments"),d()])(e);return{origin:k(t),destination:S(t),departDate:m(t),returnDate:null}}},79028:function(e,t,r){"use strict";r.d(t,{L:function(){return i},M:function(){return s}});var a=r(24036);const i=e=>{if(!e||e.length<=1)return a.D.OneWay;if(e.length>2)return a.D.Multiway;const[t,r]=e;return t.destination===r.origin&&t.origin===r.destination?a.D.RoundTrip:a.D.Multiway},s=e=>e?e.tripType:a.D.OneWay},27183:function(e,t,r){var a=r(92822)("getOr",r(27361));a.placeholder=r(69306),e.exports=a},24036:function(e,t,r){"use strict";var a;r.d(t,{D:function(){return a}}),function(e){e.OneWay="oneway",e.RoundTrip="roundtrip",e.Multiway="multiway"}(a||(a={}))}}]);
//# sourceMappingURL=https://private-static.prod.k8s.int.avs.io/selene-source-maps/shared-ab154ae48730cab668999f7bd3ab9f8ec93b20ae.d007f5d6cbaea9261f1d.min.js.map