(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[56774],{42177:function(e,t,i){"use strict";i.d(t,{X:function(){return fe}});var s=i(98116),a=i(53788),n=i(74423),r=i.n(n),o=i(83781),l=i(23588),c=i(62423);const u={title:{ticket:c.N9.SerpCashbackLabelTicket,proposals:c.N9.SerpCashbackLabelProposals,results:c.N9.SerpCashbackLabelResults,bottomDrawer:c.N9.SerpCashbackLabelBottomDrawer,autosearch:c.N9.SerpCashbackLabelAutosearch},informer:{ticket:c.N9.SerpCashbackInformerTicket,proposals:c.N9.SerpCashbackInformerProposals,results:c.N9.SerpCashbackInformerResults,bottomDrawer:c.N9.SerpCashbackInformerBottomDrawer,autosearch:c.N9.SerpCashbackInformerAutosearch}},d="premium_expired_notification";var p;!function(e){e.EntryPointInteract="service/helios/premium/pay_show_called",e.IsFreeMarketReceived="service/helios/premium/is_free_market_received"}(p||(p={}));const g=(0,o.Sy)((0,o.ZE)(p.IsFreeMarketReceived)),m=(0,o.V6)((0,o.ZE)(p.EntryPointInteract)),h=(0,s.sample)({and:[{clock:m,filter:e=>"string"==typeof e&&e.length>0}],or:{sid:"916hty"}}),f=(0,s.sample)({and:[{clock:l.z.outputs.premiumLandingShown,filter:({placement:e,type:t})=>Boolean(r()([t,e],u)),fn:({placement:e,type:t})=>r()([t,e],u)}],or:{sid:"78lp8w"}}),k=(0,s.createEvent)({sid:"-1abnmo"}),v=(0,s.createEvent)({sid:"4wykuf"}),_=(0,s.restore)(k,null,{sid:"h8o9ng"}).reset(v);(0,s.sample)({and:[{clock:[h,f],target:k}],or:{sid:"pyt6pg"}});var y=i(28438),b=i(54448),x=i(68621);const{$isAnyPremium:C}=x.b.outputs,w=(0,s.withFactory)({sid:"-uv0jv",fn:()=>(0,b.or)(y.kX,C)});var S=i(67294),j=i(4190),N=i(38387),P=i(28225),T=i(47166),F=i.n(T),E=i(49963),B=i(44619),D=i(39535),A=i(1156),I=i(22026),$=i(85893);const L=F().bind({root:"s__FDAjsXIeF4rgSBUTnaA7",small:"s__PckyJdY3VeWMEGGpKRp3",xsmall:"s__pn4qy7x9Hw3SP8hKO3jA","icon-container":"s__CTwOMBbK_ETK8aN0SOUf",icon:"s___WbDj18bHQUQuWvaYlEA","info-container":"s__qXOj2B0ichNyVeK8r3aA",title:"s__mB1mybq_YvDbqZabQdYE",description:"s__ppfHcjoQUBWNq1ZY8S2g",button:"s__V6wl2Ens3otYT8mXm2UT"}),M=(0,S.memo)((({mode:e,onClick:t})=>{const{t:i}=(0,P.useTranslation)("service_premium_entry_points"),s="xsmall"===e?D.qE.S:D.qE.M;return(0,$.jsxs)("article",{className:L("root",e),children:[(0,$.jsx)("div",{className:L("icon-container"),children:(0,$.jsx)(I.T,{className:L("icon"),name:"percent",type:"flat"})}),(0,$.jsxs)("dl",{className:L("info-container"),children:[(0,$.jsx)(E.x,{tag:"dt",className:L("title"),type:B.y.Title3Bold,transformOnMobile:!0,children:i("cashbackPromo.title")}),(0,$.jsx)(E.x,{tag:"dd",className:L("description"),type:B.y.Body2Regular,transformOnMobile:!0,children:i("cashbackPromo.description")})]}),(0,$.jsx)(A.z,{onClick:t,mod:D.Ly.More,size:s,className:L("button",e),children:i("cashbackPromo.buttonLabel")})]})}));M.displayName="CashbackPromo";var U=i(72675),R=i(38032),V=i(29178),O=i(82097),Z=i(82672),z=i(80094),H=i(78194),q=i(23046),W=i(21279),K=i(79403);const G=({className:e,...t},i)=>(0,$.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:[(0,$.jsxs)("g",{clipPath:"url(#EmojiFaceCry__a)",children:[(0,$.jsx)("path",{d:"M12 23.25c6.213 0 11.25-5.037 11.25-11.25S18.213.75 12 .75.75 5.787.75 12 5.787 23.25 12 23.25Z",fill:"url(#EmojiFaceCry__b)"}),(0,$.jsx)("path",{d:"M8.25 14.625c.828 0 1.5-.84 1.5-1.875 0-1.036-.672-1.875-1.5-1.875s-1.5.84-1.5 1.875c0 1.036.672 1.875 1.5 1.875ZM15.75 14.625c.828 0 1.5-.84 1.5-1.875 0-1.036-.672-1.875-1.5-1.875s-1.5.84-1.5 1.875c0 1.036.672 1.875 1.5 1.875ZM9.334 19.875c1.372-.964 3.847-1.027 5.329 0 .345.236.91.071.783-.206-1.297-2.828-5.606-2.82-6.9 0-.124.277.446.442.788.206Z",fill:"#1A1626"}),(0,$.jsx)("path",{d:"M6.769 7.68c-3.672 2.171-1.332 2.64 1.995 1.185 1.875-.821.42-2.614-1.995-1.185ZM17.231 7.684c-2.415-1.429-3.87.363-1.995 1.185 3.326 1.459 5.666.986 1.995-1.185Z",fill:"#D69600"}),(0,$.jsx)("path",{d:"M3.292 13.519c-.164-.476-.42-.48-.584 0C2.224 14.925.75 16.83.75 18.48c0 1.204 1.009 2.179 2.25 2.179s2.25-.975 2.25-2.179c0-1.646-1.478-3.574-1.958-4.961Z",fill:"url(#EmojiFaceCry__c)"}),(0,$.jsx)("path",{d:"M3.18 13.41c-.056-.217-.304-.217-.36 0-.3 1.125-1.346 2.996-1.346 4.316 0 1.587 3.052 1.587 3.052 0 0-1.32-1.05-3.206-1.346-4.316Z",fill:"url(#EmojiFaceCry__d)"})]}),(0,$.jsxs)("defs",{children:[(0,$.jsxs)("linearGradient",{id:"EmojiFaceCry__b",x1:12,y1:23.25,x2:12,y2:.75,gradientUnits:"userSpaceOnUse",children:[(0,$.jsx)("stop",{stopColor:"#FF9500"}),(0,$.jsx)("stop",{offset:.192,stopColor:"#FFAD00"}),(0,$.jsx)("stop",{offset:.545,stopColor:"#FFD500"}),(0,$.jsx)("stop",{offset:.827,stopColor:"#FFED00"}),(0,$.jsx)("stop",{offset:1,stopColor:"#FFF600"})]}),(0,$.jsxs)("radialGradient",{id:"EmojiFaceCry__c",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(3.04877 0 0 4.33431 3.042 16.167)",children:[(0,$.jsx)("stop",{stopColor:"#73EFFF"}),(0,$.jsx)("stop",{offset:.187,stopColor:"#6FECFF"}),(0,$.jsx)("stop",{offset:.364,stopColor:"#64E3FF"}),(0,$.jsx)("stop",{offset:.537,stopColor:"#51D3FF"}),(0,$.jsx)("stop",{offset:.707,stopColor:"#36BDFF"}),(0,$.jsx)("stop",{offset:.874,stopColor:"#14A1FF"}),(0,$.jsx)("stop",{offset:.956,stopColor:"#0091FF"})]}),(0,$.jsxs)("linearGradient",{id:"EmojiFaceCry__d",x1:1.415,y1:18.021,x2:4.767,y2:15.405,gradientUnits:"userSpaceOnUse",children:[(0,$.jsx)("stop",{offset:.053,stopColor:"#C4EEFF",stopOpacity:0}),(0,$.jsx)("stop",{offset:.45,stopColor:"#CDF0FF",stopOpacity:.42}),(0,$.jsx)("stop",{offset:1,stopColor:"#D4F2FF"})]}),(0,$.jsx)("clipPath",{id:"EmojiFaceCry__a",children:(0,$.jsx)("path",{fill:"#fff",d:"M0 0h24v24H0z"})})]})]}),Y=(0,S.memo)((0,S.forwardRef)(G));Y.displayName="EmojiFaceCry";var X=i(6057);const J=(0,s.createEvent)({sid:"-pl24jg"}),{$isPremiumExpired:Q,$isPremiumTier:ee}=x.b.outputs,{translated:te}=H.J.outputs,{notify:ie,hideNotification:se}=z.B.inputs,{$premiumExpiredNoticeShown:ae,$premiumExpiredSnackbarShown:ne}=q.H.outputs,{matchPage:re,pages:oe}=Z.$.outputs,{$isAviasalesBrand:le}=K.U.outputs,{$isRuMarket:ce}=a.D.outputs,ue=re(oe.MainPage),de=(0,s.createEvent)({sid:"-ok1m0z"}),pe=(0,s.withFactory)({sid:"-75uu9s",fn:()=>(0,U.x)(le,ce)}),ge=(0,s.withFactory)({sid:"-hwot26",fn:()=>(0,U.x)(ee,Q,ue.$isOpen,(0,s.withFactory)({sid:"-9ukc5h",fn:()=>(0,R.f)((0,s.withFactory)({sid:"-9ukc21",fn:()=>(0,V.c)(ae)}))}),(0,s.withFactory)({sid:"-9u0jk4",fn:()=>(0,O.f)(ae,!1)}),(0,s.withFactory)({sid:"-9tgqyr",fn:()=>(0,R.f)((0,s.withFactory)({sid:"-9tgqvb",fn:()=>(0,V.c)(ne)}))}),(0,s.withFactory)({sid:"-9swyde",fn:()=>(0,O.f)(ne,!1)}),(0,s.withFactory)({sid:"-9gthbg",fn:()=>(0,R.f)(pe)}))}),me=(0,s.sample)({and:[{clock:ge.updates,filter:Boolean}],or:{sid:"vobq5x"}});(0,s.sample)({and:[{clock:J,fn:()=>d,target:[W.k.inputs.showExpiredProfilePaywall,se]}],or:{sid:"svwjkm"}}),(0,s.sample)({and:[{clock:[de,J],fn:()=>!0,target:q.H.inputs.updatePremiumExpiredSnackbarShown}],or:{sid:"taqzld"}}),ie({clock:me,id:d,autoClose:!0,onClose:de,message:te("service_premium_entry_points:premiumExpiredNotification.text"),icon:()=>(0,$.jsx)(Y,{width:24,height:24}),actions:()=>{const{t:e}=(0,P.useTranslation)("service_premium_entry_points"),t=(0,S.useMemo)((()=>e("premiumExpiredNotification.actionText")),[e]),i=(0,j.useUnit)(J);return(0,$.jsx)(X.P,{onClick:i,children:t})}});const he=(0,s.createEvent)({sid:"-a0ivh1"});(0,s.sample)({and:[{clock:he,source:a.D.outputs.$isMyCashbackMarket,target:g}],or:{sid:"knfv5f"}});const fe={inputs:{init:he,entryPointInteracted:k,resetEntryPoint:v},outputs:{$entryPoint:_,$isRoomOfferEntryPointEnabled:y.Wg,$isProfileEntryPointEnabled:y.kX,$isSomethingMoreEntryPointEnabled:y.U5,$isPaywallEntryPointEnabled:y.go,$isTravelRestrictionsEntryPointEnabled:y.Wm,$isPremiumProfileRoutesAvailable:w},config:{premiumCashbackPayloadLookup:u},containers:{FreeMarketsCashbackPromo:()=>{const[e,t]=(0,j.useUnit)([N.l.outputs.$isDesktop,N.l.outputs.$isTablet]),i=(0,j.useUnit)(k),s=(0,S.useCallback)((()=>{i(c.N9.Profile)}),[i]);return(0,$.jsx)(M,{mode:e?"normal":t?"small":"xsmall",onClick:s})}}}},28438:function(e,t,i){"use strict";i.d(t,{U5:function(){return o},Wg:function(){return n},Wm:function(){return c},go:function(){return l},kX:function(){return r}});var s=i(43959);const{premiumEntryPointsFlag:a}=s.r.outputs,n=a.$value.map((({bookingHotelDetail:e})=>e)),r=a.$value.map((({profile:e})=>e)),o=a.$value.map((({somethingMore:e})=>e)),l=a.$value.map((({trapCategory:e})=>e)),c=a.$value.map((({travelRestrictionsPromo:e})=>e))},37721:function(e,t,i){"use strict";i.d(t,{d:function(){return n}});var s=i(67294),a=i(31401);const n=(0,s.createContext)({placement:a.ok.Results})},78803:function(e,t,i){"use strict";i.d(t,{fp:function(){return a},RJ:function(){return n},pc:function(){return c},Y3:function(){return d}});var s=i(67294);const a=(e,t=!1)=>{const i=(0,s.useCallback)((i=>{t&&i.preventDefault(),e()}),[e,t]),a=(0,s.useCallback)((()=>{window.removeEventListener("popstate",i)}),[i]),n=(0,s.useCallback)((()=>{window.addEventListener("popstate",i)}),[i]);(0,s.useEffect)((()=>(a(),n)),[n,a])},n=(e,t)=>{const[i,a]=(0,s.useState)([]),n=(0,s.useCallback)((e=>{a((t=>{if(t.length>=6){const[,...t]=i;return[...t,e.key]}return[...i,e.key]}))}),[i]);(0,s.useEffect)((()=>(document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n))),[n]),(0,s.useEffect)((()=>{i.join("").toLowerCase()===e&&t()}),[i,t,e])};var r=i(4190),o=i(52326),l=i(38387);const c=()=>(0,r.useUnit)(l.l.outputs.$isMobile)?o.q.Small:o.q.Normal;var u=i(37721);const d=e=>{const{onTicketClick:t}=(0,s.useContext)(u.d);return(0,s.useCallback)((()=>t?.(e)),[t,e])}},28398:function(e,t,i){"use strict";i.d(t,{L:function(){return $e},d:function(){return Le}});var s,a=i(30091),n=i(77606),r=i.n(n),o=(i(21703),i(98116)),l=i(20640),c=i.n(l),u=i(38032),d=i(76830),p=i(72675),g=i(65740),m=i(76588),h=i(80472);!function(e){e.Facebook="facebook",e.Twitter="twitter",e.Telegram="telegram",e.Vkontakte="vkontakte",e.Whatsapp="whatsapp",e.CopyLink="copyLink"}(s||(s={}));var f=i(78740),k=i(82249),v=i(4517),_=i(35529);const y=(0,_.Record)({shorturl:_.String});var b=i(80094),x=i(78194),C=i(38387),w=i(82525);const S=(0,i(78260).cr)("serp",{name:"ticket_sharing"}),j=(0,o.withFactory)({sid:"u7v9qu",fn:()=>(0,m.s5)({params:(0,o.withFactory)({sid:"u8uz0i",fn:()=>(0,m.t6)()}),request:{method:"GET",url:{source:w.B.outputs.$apiHost,fn:(e,t)=>((e,t)=>{const i="undefined"!=typeof window?window.location.host:t,s=encodeURIComponent(e);return`${k.O.isLocal?"http://localhost:8082":`https://${i}`}/shorten?url=${s}&title=${s}`})(e.ticketUrl,t)}},response:{contract:(0,h.v)(y),mapData:e=>r()(e)?null:(e=>e.result.shorturl)(e)}})});(0,o.sample)({and:[{clock:j.finished.failure,fn:({error:e})=>({msg:"Ticket sharing failed",error:new Error(e.explanation),extra:{error:e}}),target:S.sendErrorLog}],or:{sid:"-hjv183"}});const N=(0,o.createEvent)({sid:"-e96hit"}),P=(0,o.createEvent)({sid:"3ifvya"}),T=(0,o.createEvent)({sid:"433u8w"}),F=(0,o.createEvent)({sid:"-azcsu7"}),E=(0,o.createEvent)({sid:"-putlfb"}),B=(0,o.createEvent)({sid:"-5xk4ua"}),D=(0,o.combine)({and:[{flag:v.r.outputs.$ticketSharingMethodsFlag},({flag:e})=>e.list||[]],or:{sid:"gcls8v"}}),A=(0,o.createStore)(null,{sid:"bv9txz"}).reset(T),I=(0,o.createStore)(null,{sid:"xzm62g"}).reset(T),$=(0,o.createStore)(null,{sid:"3zgn3r"}).reset(T),L=(0,o.createStore)(!1,{sid:"-za0joz"}).reset(T),M=(0,o.createStore)(!1,{sid:"tvpbhl"}).on(F,(()=>!0)).reset(T),U=j.$data,R=(0,o.createStore)((0,f.I)(!1,(()=>"function"==typeof window.navigator?.share)),{sid:"-hq9ilm"}),V=v.r.outputs.$nativeSharingFlag.map((e=>e.enabled)),O=(0,o.combine)({and:[{ticketSharingShortUrl:U,ticketSharingOriginalUrl:$},({ticketSharingShortUrl:e,ticketSharingOriginalUrl:t})=>e||t],or:{sid:"-84zl0b"}}),Z=(0,o.createEffect)((e=>window?.navigator?.share({url:e})),{sid:"-j2383r"}),z=(0,o.createEffect)((e=>c()(e)),{sid:"vty2bo"});(0,o.sample)({and:[{clock:P,filter:(0,o.withFactory)({sid:"-dejtil",fn:()=>(0,u.f)(V)}),fn:()=>!0,target:L}],or:{sid:"or6ese"}}),(0,o.sample)({and:[{clock:(0,o.withFactory)({sid:"4qybvk",fn:()=>(0,d.D)({source:P,timeout:500,name:"debounce: serp ticket sharing popup opened"})}),source:O,filter:(0,o.withFactory)({sid:"27xphu",fn:()=>(0,p.x)(V,O)}),fn:e=>e,target:B}],or:{sid:"p6knei"}}),(0,o.withFactory)({sid:"-zeg4pm",fn:()=>(0,g.s)({source:B,if:(0,o.withFactory)({sid:"-gr86kh",fn:()=>(0,p.x)(R,(0,o.withFactory)({sid:"-fifpyg",fn:()=>(0,u.f)(C.l.outputs.$isDesktop)}))}),then:Z,else:z})}),b.B.inputs.notify({clock:z.finally,message:x.J.outputs.translated("component_serp_ticket_sharing:share.copyLinkDone"),icon:"success",autoClose:!0}),(0,o.sample)({and:[{clock:Z.fail,source:O,filter:(e,{error:t})=>"AbortError"!==t.name,fn:e=>e,target:z}],or:{sid:"-yu3qr9"}}),(0,o.sample)({and:[{clock:T,target:j.reset}],or:{sid:"-xy7ocb"}}),(0,o.sample)({and:[{clock:P,fn:({ticketSign:e})=>e,target:A}],or:{sid:"-xi9n4u"}}),(0,o.sample)({and:[{clock:P,fn:({source:e})=>e,target:I}],or:{sid:"-x1rtc0"}}),(0,o.sample)({and:[{clock:P,fn:({ticketUrl:e})=>e,target:$}],or:{sid:"-wl9zj6"}}),(0,o.sample)({and:[{clock:P,fn:({ticketUrl:e})=>({ticketUrl:e}),target:j.start}],or:{sid:"-w216rj"}}),(0,o.sample)({and:[{clock:F,fn:()=>s.CopyLink,target:E}],or:{sid:"-vn6qqs"}});const H={$ticketSharingSocialNetworks:D,$ticketSharingSignature:A,$isTicketSharingPopupOpened:L,$ticketSharingSource:I,$isTicketUrlCopied:M,ticketSharingClicked:E,$ticketUrl:O,startNativeShare:B},q={ticketSharingShortUrlUpdated:N,ticketSharingPopupOpened:P,ticketSharingPopupClosed:T,ticketSharingCopyUrl:F,ticketSharingClicked:E},W={inputs:q,outputs:H};var K,G,Y=i(4190),X=i(46531),J=i(9071),Q=i(5393),ee=i(28225),te=i(85893),ie=i(67294),se=i(94184),ae=i(31893),ne=i(41559),re=i(49963),oe=i(59682),le=i(41929),ce=i(28580),ue=i(44065);!function(e){e.Facebook="facebook",e.Twitter="twitter",e.Telegram="telegram",e.Vkontakte="vkontakte",e.Whatsapp="whatsapp"}(K||(K={})),function(e){e.Small="small",e.Medium="medium",e.XLarge="xlarge"}(G||(G={}));var de=i(44619);const pe=e=>(0,ie.useMemo)((()=>{switch(e){case G.XLarge:return de.y.Body2Regular;case G.Small:return de.y.CaptionRegular;default:return de.y.Body3Regular}}),[e]);var ge={root:"s__RsRxehmRSWzBZeI8oKkP",button:"s__Hrxt9hsUdoxbuwud5xl4",title:"s__gfK0GNtdlcRCgak0oGSF",small:"s__q_Ifu4JLSKEvkXhPOSmo",icon:"s__lRDE3qw0PyPMJTYbbp6c",medium:"s__QhI1rUGMJYE4SSeISaLW",xlarge:"s__IkxRUynviPREvmNLm8Bg",isHidden:"s__AR2XQJNdTTgffoBQg6sx",copyLink:"s__cZfYEGviisg5dFLtFoq0",inputInner:"s__OCJQWdU4HDOoW189RDeA"};const me=e=>{const{title:t,urlToShare:i,innerClassName:s,showTitle:a,size:n=G.Medium,className:r,onClick:o,onLinkCopy:c,testId:u}=e,[d,p]=(0,ie.useState)(!1),[g,m]=(0,ie.useState)(!1),h=(0,ie.useRef)(null),f=pe(n),k=(0,ie.useCallback)((e=>{if(h.current){const t=l(i);t?p(!0):m(!0),c&&c(t),o&&o(e)}}),[h,i,c,o]);return(0,te.jsxs)("div",{className:se(ge.variables,ge.root,ge[n],r),"data-test-id":u??"copy-link",children:[!g&&(0,te.jsx)(oe.z,{className:se(ge.button,ge.copyLink,s),onClick:k,mod:le.L.Ghost,size:le.q.Custom,title:t,inline:!0,children:d?(0,te.jsx)(ne.g,{className:ge.icon}):(0,te.jsx)(ae.u,{className:ge.icon})}),(0,te.jsx)(ce.I,{className:se(ge.input,{[ge.isHidden]:!g}),type:"url",readOnly:!0,value:i,ref:h,height:ue.a.Custom,innerClassname:se(ge.inputInner,ge[n])}),a&&!g&&(0,te.jsx)(re.x,{className:ge.title,tag:"span",type:f,children:t})]})},he=(0,ie.memo)(me);var fe=i(86616),ke=i(29203),ve=i(81087),_e=i(24912),ye=i(81800),be={variables:"s__heIBZA_cenSKtztTPqw4",socialButton:"s__dZLs8VdYS5BPsLOIdjGl",button:"s__hixj9SLSjVHpVYkr6mAA",title:"s__sulin5IepNmgfnjcRUAU",facebook:"s__OK8jV3MXHEkTn_wtQbBF",twitter:"s__kv5gyHjhdmTAGzCrvQ8M",telegram:"s__BShvohNEjQ9Cr0o_Ridr",vkontakte:"s__CmxO7RUunIvDYYuUlFLC",whatsapp:"s__sdpPGiovXn4S9le8qhtb",small:"s__wRXatdfJC9uHeqsZHGFS",icon:"s__U4QFvOWXEHE5EB2p9On4",medium:"s__dbNBxmaEXM6bz46UOELA",xlarge:"s__w7PiOI9ITyxhHuifrcNW"};const xe={[K.Facebook]:fe.g,[K.Twitter]:ke.t,[K.Vkontakte]:ve.W,[K.Whatsapp]:_e.A,[K.Telegram]:ye.j},Ce=e=>{const{type:t,title:i,showTitle:s,size:a=G.Medium,className:n,innerClassName:r,onClick:o,testId:l}=e,c=xe[t],u=pe(a);return(0,te.jsxs)("div",{className:se(be.variables,be.socialButton,be[t],be[a],n),"data-test-id":l??"social-button",children:[(0,te.jsx)(oe.z,{className:se(be.button,r),onClick:o,mod:le.L.Ghost,size:le.q.Custom,title:i,inline:!0,children:(0,te.jsx)(c,{className:be.icon})}),s&&(0,te.jsx)(re.x,{className:be.title,tag:"span",type:u,children:i})]})},we=(0,ie.memo)(Ce),Se=e=>{const{type:t,urlToShare:i,textToShare:a,onClick:n,...r}=e,o=(0,ie.useMemo)((()=>((e,t,i)=>{const{encodedUrl:a,encodedText:n}=(0,f.I)({encodedText:"",encodedUrl:""},(()=>({encodedText:i?window.encodeURIComponent(i):"",encodedUrl:window.encodeURIComponent(t)})));switch(e){case s.Facebook:return`https://www.facebook.com/sharer.php?u=${a}&t=${n}`;case s.Telegram:return`https://telegram.me/share/url?url=${a}&text=${n}`;case s.Twitter:return`http://twitter.com/intent/tweet?text=${n}&url=${a}`;case s.Vkontakte:return`http://vkontakte.ru/share.php?url=${a}`;case s.Whatsapp:return`https://api.whatsapp.com/send?text=${a}`;default:return null}})(t,i,a)),[t,i,a]),l=(0,ie.useCallback)((e=>{o&&window.open(o,"_blank","width=740,height=440"),n&&n(e)}),[o,n]);return(0,te.jsx)(we,{...r,type:t,onClick:l})},je=e=>{const{type:t}=e;return t===s.CopyLink?(0,te.jsx)(he,{...e}):(0,te.jsx)(Se,{...e})},Ne=(0,ie.memo)(je),Pe=({network:e,urlToShare:t,textToShare:i,title:s,size:a,onClick:n,showTitle:r,className:o})=>{const l=(0,ie.useCallback)((t=>{t.stopPropagation(),n&&n(e)}),[e,n]);return(0,te.jsx)(Ne,{type:e,urlToShare:t,textToShare:i,title:s,onClick:l,size:a,innerClassName:o,showTitle:r})};var Te="s__b_Ki1BhAuz3MzdRQzRpF",Fe="s__AujzHDGyGqHpYvvTfgX1";const Ee=({handleTicketUrlCopy:e,isTicketUrlCopied:t,onTicketShare:i,ticketSharingSocials:a,ticketUrl:n})=>{const{t:r}=(0,ee.useTranslation)("component_serp_ticket_sharing");return(0,te.jsx)("div",{className:"s__xwMx2orHL0M40udUwvSY",children:(0,te.jsxs)("ul",{className:"s__olXeqOg408LhRoPR3Szn",children:[a.map((e=>(0,te.jsx)("li",{className:Fe,children:(0,te.jsx)(Pe,{network:e,urlToShare:n,textToShare:r("sharingText"),title:r(`shortShare.${e}`),onClick:i,size:G.XLarge,className:Te,showTitle:!0})},e))),(0,te.jsx)("li",{className:Fe,children:(0,te.jsx)(Ne,{type:s.CopyLink,urlToShare:n,title:r("shortShare."+(t?"copyLinkDone":"copyLink")),onLinkCopy:e,size:G.XLarge,innerClassName:Te,showTitle:!0})})]})})};const{outputs:Be,inputs:De}=W,Ae={TicketSharingModalContainer:()=>{const{ticketSharingSocialNetworks:e,isTicketSharingPopupOpened:t,isTicketUrlCopied:i,onClose:s,onTicketShare:a,onTicketUrlCopy:n,ticketUrl:r}=(0,Y.useUnit)({ticketSharingSocialNetworks:Be.$ticketSharingSocialNetworks,isTicketSharingPopupOpened:Be.$isTicketSharingPopupOpened,isTicketUrlCopied:Be.$isTicketUrlCopied,ticketUrl:Be.$ticketUrl,onClose:De.ticketSharingPopupClosed,onTicketShare:De.ticketSharingClicked,onTicketUrlCopy:De.ticketSharingCopyUrl});return(0,te.jsxs)(X.G,{visible:t,onClose:s,width:480,className:"s__ImuIBb0dbh1NZ9_kBfzQ",children:[(0,te.jsx)(X.G.Navigation,{transparent:!0,children:(0,te.jsx)(J.w.RightAccessory,{children:(0,te.jsx)(Q.P,{onClick:s})})}),(0,te.jsx)(Ee,{ticketSharingSocials:e,isTicketUrlCopied:i,ticketUrl:r??"",handleTicketUrlCopy:n,onTicketShare:a})]})}};var Ie=i(23588);let $e;(0,o.sample)({and:[{clock:Ie.z.outputs.resetSearchResultsPage,target:W.inputs.ticketSharingPopupClosed}],or:{sid:"-8gtsi8"}}),function(e){e.TicketInfo="ticket_info",e.TicketPreview="ticket_preview"}($e||($e={}));const Le=(0,a.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/serp/services/ticket_sharing/index.ts",api:{outputs:H,inputs:q,containers:Ae}})},67940:function(e,t,i){"use strict";i.d(t,{gF:function(){return ge},lH:function(){return d},vZ:function(){return m},Px:function(){return B},lp:function(){return O},ey:function(){return Y},O_:function(){return se},Zc:function(){return re},QZ:function(){return ce},YG:function(){return de},x1:function(){return ye}});var s=i(67294),a=i(47166),n=i.n(a),r=i(28225),o=i(49963),l=i(44619),c=i(85893);const u=n().bind({root:"s__qfApaFEErZfq7dtma7ri"}),d=(0,s.memo)((({className:e,brandName:t})=>{const{t:i}=(0,r.useTranslation)("component_ticket_preview_desktop");return t?(0,c.jsx)(o.x,{className:u("root",e),type:l.y.Body3Regular,children:i("adInfo",{brandName:t})}):null}));d.displayName="TicketPreviewDesktopAdInfo";var p=i(35332);const g=n().bind({root:"s__fQedSoOntEndWYrxzwjN",cashback:"s__WfM5xsKUqHLdG0K4HE1X"}),m=(0,s.memo)((({className:e,priceSlot:t,cashbackSlot:i,baggageUpsellSlot:s,buttonSlot:a,seatsAvailableSlot:n,adInfoSlot:r})=>(0,c.jsxs)("div",{className:g("root",e),children:[(0,c.jsx)(p.L,{children:t}),(0,c.jsx)(p.L,{className:g("cashback"),children:i}),(0,c.jsx)(p.L,{children:s}),(0,c.jsx)(p.L,{children:a}),(0,c.jsx)(p.L,{children:n}),(0,c.jsx)(p.L,{children:r})]})));m.displayName="TicketPreviewDesktopAside";var h,f=i(5070),k=i(33036),v=i(20580);!function(e){e.AVAILABLE="available",e.NOT_AVAILABLE="not_available"}(h||(h={}));const _=(0,s.memo)((({availability:e,title:t,options:i})=>{const{t:a}=(0,r.useTranslation)("uiKit"),n=(0,s.useMemo)((()=>i?.map((e=>"not_available"===e.availability?e:{...e,text:(0,c.jsx)("div",{className:"s__DqJ1wYNWhRrAEWkA9fWw",children:e.text})}))),[i]),u=(0,k.s)(n);return e===h.NOT_AVAILABLE?(0,c.jsx)(o.x,{type:l.y.Body3Semi,children:a("flight_info.luggage.disclaimer.withoutLuggage")}):(0,c.jsxs)("div",{children:[(0,c.jsx)(o.x,{className:"s__u40sZld8wzLtU1BhgmTw",type:l.y.Body2Bold,children:t}),(0,c.jsx)(v.a,{options:u})]})}));_.displayName="FareTooltipContent";const y=(0,s.memo)((({availability:e,visible:t,title:i,options:s=[],children:a})=>{const n=e===h.AVAILABLE?360:240;return(0,c.jsx)(f.u,{visible:t,content:(0,c.jsx)(_,{availability:e,title:i,options:s}),placement:"right",width:n,padding:12,hideOnClick:!1,children:a})}));y.displayName="FareTooltip";var b=i(63119),x=i(3745),C=i(13905),w=i(85576),S=i(37254);const j=({labelText:e,price:t,currency:i,isPriceShown:s})=>{const a=(0,C.zC)(i).sign,n=t<1e6&&a.length<=3,r=t<1e6?0:1;return(0,c.jsx)("div",{className:"s__vuzArb9RgGcgS__62pdP",children:(0,c.jsxs)("div",{className:"s__ZsJorCPi_c9EkmaJ6Xms",children:[(0,c.jsx)(o.x,{type:l.y.Body3Regular,children:e}),s&&(0,c.jsxs)(o.x,{className:"s__vhKPNBRC_ke6FMt6cPgz",type:l.y.Body3Semi,children:[`+${w.q}`,(0,c.jsx)(S.X,{value:t,currency:i,showCurrencySign:n,formatOptions:{exponent:r}})]})]})})};j.displayName="LuggageSwitchLabel";const N=(0,s.memo)((({className:e,price:t,basePrice:i,currency:s,disabled:a=!1,checked:n=!1,onChange:o})=>{const{t:l}=(0,r.useTranslation)("uiKit"),u=i?t-i:t,d=!n&&u>0,p=l(n?"luggage.switch.included":"luggage.switch.notIncluded");return(0,c.jsx)(x.r,{className:e,disabled:a,checked:n,size:"small",onChange:o,label:(0,c.jsx)(j,{labelText:p,currency:s,price:u,isPriceShown:d})})}));var P;N.displayName="LuggageSwitch",function(e){e.AVAILABLE="available",e.NOT_AVAILABLE="not_available"}(P||(P={}));var T="s__VfXtY64h2BGfJVEwLcwQ";const F=(0,s.memo)((({price:e,basePrice:t,currency:i,availability:s,disabled:a=!1,checked:n=!1,onChange:u})=>{const{t:d}=(0,r.useTranslation)("uiKit");return s===P.AVAILABLE?(0,c.jsx)(N,{className:T,currency:i,price:e,basePrice:t,checked:n,disabled:a,onChange:u}):(0,c.jsxs)("div",{className:T,children:[(0,c.jsx)(o.x,{type:l.y.Body3Regular,children:d("luggage.switch.notAvailable")}),(0,c.jsx)(b.X,{className:"s__DSTcxhFZiDEpo2SAu_fg"})]})}));let E;F.displayName="LuggageCard",function(e){e.AVAILABLE="available",e.NOT_AVAILABLE="not_available"}(E||(E={}));const B=(0,s.memo)((({isAvailable:e=!1,isDisabled:t=!0,isChecked:i=!1,price:a=0,currency:n="rub",tooltipTitle:r,fareOptions:o=[],onChange:l})=>{const u=(0,s.useCallback)((e=>e.stopPropagation()),[]),d=(0,s.useCallback)((()=>{t||l?.(!i)}),[i,t,l]),p=e?E.AVAILABLE:E.NOT_AVAILABLE;return(0,c.jsx)(y,{availability:p,title:r??void 0,options:o,children:(0,c.jsx)("div",{onClick:u,children:(0,c.jsx)(F,{disabled:t,checked:i,availability:p,price:a,currency:n,onChange:d})})})}));B.displayName="TicketPreviewDesktopBaggageUpsell";var D,A,I=i(1156),$=i(39535),L=i(4190),M=i(79403);function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},U.apply(this,arguments)}var R=function(e){return s.createElement("svg",U({width:26,height:26,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e),D||(D=s.createElement("defs",null,s.createElement("filter",{x:"-25%",y:"-20%",width:"150%",height:"150%",filterUnits:"objectBoundingBox",id:"assisted_badge_svg__a"},s.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),s.createElement("feGaussianBlur",{stdDeviation:1.5,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),s.createElement("feComposite",{in:"shadowBlurOuter1",in2:"SourceAlpha",operator:"out",result:"shadowBlurOuter1"}),s.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0",in:"shadowBlurOuter1"})),s.createElement("circle",{id:"assisted_badge_svg__b",cx:10,cy:10,r:10}))),A||(A=s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("g",{transform:"translate(3 2)"},s.createElement("use",{fill:"#000",filter:"url(#assisted_badge_svg__a)",xlinkHref:"#assisted_badge_svg__b"}),s.createElement("use",{fill:"#0C73FE",xlinkHref:"#assisted_badge_svg__b"}),s.createElement("circle",{stroke:"#FFF",strokeWidth:2,cx:10,cy:10,r:9})),s.createElement("path",{fill:"#FFF",fillRule:"nonzero",d:"M14.389 6.123l-4.722 6.945h2.916l-1.11 5 4.86-6.945h-2.916z"}))))};const V=n().bind({root:"s__I_K0MtJ5bphxBz97WWNz",button:"s__DW0Ga5H1qU_RvVpVSZj_","assisted-badge":"s__BvI9jt8q8XifTIPK8EdA"}),O=(0,s.memo)((({className:e,isAssistedIconVisible:t=!1,isExpired:i=!1,onClick:a})=>{const{t:n}=(0,r.useTranslation)("component_ticket_preview_desktop"),o=(0,L.useUnit)(M.U.outputs.$isWayAwayBrand),l=n(i?"update":"chooseTicket"),u=t&&!i,d=(0,s.useCallback)((e=>{e.stopPropagation(),a?.()}),[a]);return(0,c.jsxs)("div",{className:V("root",e),children:[(0,c.jsx)(I.z,{className:V("button"),mod:o?$.Ly.Default:$.Ly.Orange,priority:$.Ji.Primary,size:$.qE.M,onClick:d,children:l}),u&&(0,c.jsx)(f.u,{content:n("assistedTooltip"),placement:"top-start",delay:100,children:(0,c.jsx)("div",{className:V("assisted-badge"),children:(0,c.jsx)(R,{})})})]})}));O.displayName="TicketPreviewDesktopButton";var Z=i(15265),z=i(34611);const H={plane:Z.Z.Plane,train:Z.Z.Train,bus:Z.Z.Bus,boat:Z.Z.Boat,unknown:Z.Z.Plane},q=(0,s.memo)((({className:e,isNight:t,carrier:i,transportType:s="plane",getCarrierName:a})=>{const n=a(i)||i,r=H[s];return(0,c.jsx)(f.u,{width:"auto",content:n,placement:"top",delay:100,children:(0,c.jsx)(z.p,{className:e,isNightMode:t,marketingCarrierIata:i,marketingCarrierName:n,fallbackIconType:r})})}));q.displayName="TicketPreviewDesktopCarrierLogo";const W=n().bind({root:"s__vizY3leqG6q7isw6LLEc"}),K=(0,s.memo)((({className:e,isNight:t=!1,carrier:i,getCarrierName:a,getCarrierBrandColor:n})=>{const r=a(i)||i,u=n(i),d=(0,s.useMemo)((()=>{if(!t&&u)return{color:`#${u}`}}),[u,t]);return(0,c.jsx)(o.x,{className:W("root",e),type:l.y.Body2Semi,truncateMode:l.k.SingleLine,style:d,children:r})}));K.displayName="TicketPreviewDesktopCarrierLabel";const G=n().bind({root:"s__Z7WNzSDK1pr1ZnxmfqAx",list:"s__iLii9nj713he1PD8WMQ9","carrier-logo":"s__IfNnlCoxL4fHuW2lW3Xl","rest-carriers":"s__i_uexdNOGaq7NBGEUbZh"}),Y=(0,s.memo)((({isNight:e=!1,carriers:t=[],getCarrierName:i,getCarrierBrandColor:s})=>{if(0===t.length)return null;const a=1===t.length,n=t.length>5?t.slice(0,4):t,r=t.length>5?t.slice(4,t.length):[],u=r.map((({id:e})=>i(e))).join(", ");return(0,c.jsxs)("div",{className:G("root"),children:[(0,c.jsxs)("div",{className:G("list"),children:[n.map((({id:t,transportType:s})=>(0,c.jsx)(q,{className:G("carrier-logo"),isNight:e,carrier:t,transportType:s,getCarrierName:i},t))),u&&(0,c.jsx)(f.u,{placement:"top",width:"auto",delay:100,content:u,children:(0,c.jsxs)(o.x,{className:G("rest-carriers"),type:l.y.Body3Semi,"data-test-id":"carriersMore",children:["+",r.length]})})]}),a&&(0,c.jsx)(K,{isNight:e,carrier:t[0].id,getCarrierName:i,getCarrierBrandColor:s})]})}));Y.displayName="TicketPreviewDesktopCarriers";var X=i(69430),J=i(55464),Q=i(42811);const ee=n().bind({root:"s__yqnlLVrbf93m9U6IyVAm",root_active:"s__O2m9BXoFpJJFHMFmLt8J"}),te=(0,s.memo)((({iconType:e,isActive:t=!1,tooltipText:i,onClick:a})=>{const n=ee("icon"),r=(0,s.useMemo)((()=>"bell"===e?t?(0,c.jsx)(X.C,{className:n}):(0,c.jsx)(J.G,{className:n}):"share"===e?(0,c.jsx)(Q.E,{className:n}):null),[n,e,t]),o=(0,s.useCallback)((e=>{e.stopPropagation(),a?.()}),[a]);return(0,c.jsx)(f.u,{disabled:!i,content:i,width:"auto",maxWidth:250,placement:"top",children:(0,c.jsx)("button",{className:ee("root",{root_active:t}),onClick:o,children:r})})}));te.displayName="TicketPreviewDesktopControl";const ie=n().bind({root:"s__lPu2GhhyKCJx16JOSU5i"}),se=(0,s.memo)((({isSubscribeButtonVisible:e=!0,isSubscribeButtonActive:t=!1,isShareButtonVisible:i=!0,onSubscribeButtonClick:s,onShareButtonClick:a})=>{const{t:n}=(0,r.useTranslation)("component_ticket_preview_desktop"),o=n(t?"subscribeButtonTooltip.remove":"subscribeButtonTooltip.add");return e||i?(0,c.jsxs)("div",{className:ie("root"),children:[e&&(0,c.jsx)(te,{iconType:"bell",isActive:t,tooltipText:o,onClick:s}),i&&(0,c.jsx)(te,{iconType:"share",tooltipText:n("shareButtonTooltip"),onClick:a})]}):null}));se.displayName="TicketPreviewDesktopControls";var ae=i(15157);const ne=n().bind({informer:"s__KYk_GWvbG5oAx7VFJp_k"}),re=(0,s.memo)((({className:e,onClick:t})=>{const{t:i}=(0,r.useTranslation)("component_ticket_preview_desktop"),a=(0,s.useCallback)((e=>{e.stopPropagation(),t?.()}),[t]);return(0,c.jsx)(ae.o,{className:e,children:(0,c.jsx)(ae.o.Item,{className:ne("informer"),type:"neutral",padding:"small",iconType:"restricted",onClick:a,children:(0,c.jsx)(o.x,{type:l.y.Body3Regular,truncateMode:l.k.TwoLines,children:i("forbiddenLayover")})})})}));re.displayName="TicketPreviewDesktopForbiddenLayover";var oe=i(38694);const le=n().bind({root:"s__wfLcPf6IF1Ayy7uJmdtH"}),ce=(0,s.memo)((({className:e,value:t=0,currency:i="rub"})=>(0,c.jsx)(o.x,{className:le("root",e),type:l.y.Title3Bold,children:(0,c.jsx)(oe.t,{value:t,currency:i,roundingMode:"ceil"})})));ce.displayName="TicketPreviewDesktopPrice";const ue=n().bind({root:"s__ho_GdpGpv6rkyZZnjpia"}),de=(0,s.memo)((({className:e,count:t=0})=>{const{t:i}=(0,r.useTranslation)("component_ticket_preview_desktop");return 0===t?null:(0,c.jsx)(o.x,{className:ue("root",e),type:l.y.Body3Semi,children:i("seatsAvailable",{count:t})})}));de.displayName="TicketPreviewDesktopSeatsAvailable";const pe=n().bind({root:"s__xKtg4fAwICoYLzMUUBbr",root_subscribed:"s__THd0TtZ60CRLScObPzVG",badge:"s__lleIiTmrq4X6cRWnmmEX",aside:"s__udxMJ8Cs9j0M_okGwvjS",main:"s__cZfj3WT5CW4UmwF6rXOA",header:"s__nMsql62Pl64va7MeHELw",carriers:"s__wIMHVhBGXRzxucAUKFZS",tags:"s__Q69bunrDCcM8Rjxpcv8O",controls:"s__UOs_z17igaYSqiGEgtHu","forbidden-layover":"s__OK2h9k1NDlJ14NIorXih",segments:"s__Fc5oTL8UVIBCXx8l9Awg"}),ge=(0,s.memo)((({testId:e,className:t,badgeSlot:i,asideSlot:s,carriersSlot:a,tagsSlot:n,controlsSlot:r,forbiddenLayoverSlot:o,segmentsSlot:l,isSubscriptionActive:u=!1,onClick:d})=>(0,c.jsxs)("div",{className:pe("root",{root_subscribed:u},t),"data-test-id":e,onClick:d,children:[(0,c.jsx)(p.L,{className:pe("badge"),children:i}),(0,c.jsx)(p.L,{className:pe("aside"),children:s}),(0,c.jsxs)("div",{className:pe("main"),children:[(0,c.jsxs)("div",{className:pe("header"),children:[(0,c.jsx)(p.L,{className:pe("carriers"),children:a}),(0,c.jsx)(p.L,{className:pe("tags"),children:n}),(0,c.jsx)(p.L,{className:pe("controls"),children:r})]}),(0,c.jsx)(p.L,{className:pe("forbidden-layover"),children:o}),(0,c.jsx)(p.L,{className:pe("segments"),children:l})]})]})));ge.displayName="TicketPreviewDesktop";var me=i(77620),he=i.n(me),fe=i(24561);const ke=n().bind({root:"s__mSpM4rKdOihdkkX8Ibgv"}),ve=(0,s.memo)((({className:e,segmentsCount:t=1})=>{if(0===t)return null;const i=t>1?61+109*t:251,a=he()(0,t-1),n="calc(100% - 206px - 20px * 2)";return(0,c.jsx)("div",{className:ke("root",e),children:(0,c.jsxs)(fe.ZP,{speed:2,width:"100%",height:i,backgroundColor:"var(--shimmering_picture)",foregroundColor:"var(--shimmering_text)",title:"",children:[(0,c.jsx)("rect",{x:"20",y:"60",rx:"0",ry:"0",width:"166",height:"50"}),(0,c.jsx)("circle",{cx:"245",cy:"38",r:"18"}),(0,c.jsx)("rect",{x:"206",y:"0",rx:"0",ry:"0",width:"1",height:i}),(0,c.jsx)("rect",{x:"226",y:"81",rx:"0",ry:"0",width:n,height:"69"}),a.map((e=>(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)("rect",{x:"226",y:170+109*e,rx:"0",ry:"0",width:n,height:"1"}),(0,c.jsx)("rect",{x:"226",y:190+109*e,rx:"0",ry:"0",width:n,height:"69"})]},e)))]})})}));ve.displayName="TicketPreviewDesktopSkeleton";const _e=n().bind({root:"s__xKO9w1TX7kcG93mjkCWR"}),ye=(0,s.memo)((({className:e,skeletonsCount:t=0,segmentsCount:i=1})=>{if(0===t)return null;const s=[...Array(t).keys()];return(0,c.jsx)("div",{className:_e("root",e),children:s.map((e=>(0,c.jsx)(ve,{segmentsCount:i},e)))})}));ye.displayName="TicketPreviewDesktopSkeletonList"},37762:function(e,t,i){"use strict";i.d(t,{x:function(){return c}}),i(21703);var s=i(30091),a=i(98116),n=i(28258),r=i(99186);const o={$airlines:(0,a.createStore)({},{sid:"-ra6c2w"})};var l=i(21160);(0,a.sample)({and:[{clock:n.E.outputs.resultChunksLoaded,source:r.l.outputs.$language,fn:(e,[t])=>((e,t)=>Object.entries(e.airlines||{}).reduce(((e,[i,s])=>({...e,[i]:{iata:s.iata,name:(0,l.j)(s.name,t,s.iata),siteName:s.site_name,brandColor:s.brand_color}})),{}))(t,e),target:o.$airlines}],or:{sid:"h30b8h"}});const c=(0,s.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/serp_results/services/airlines/index.ts",api:{outputs:o},attachTestApi:()=>{throw new Error("Test API is not available in production")}})},26929:function(e,t,i){"use strict";i.d(t,{L:function(){return I}}),i(21703);var s=i(51359),a=i.n(s),n=i(3945),r=i.n(n),o=i(46898),l=i.n(o),c=i(88846),u=i.n(c),d=i(98116),p=i(85349),g=i(65740),m=i(80094),h=i(78194),f=i(28258),k=i(27497),v=i(4835),_=i.n(v);i(26699);const y=(0,d.createEvent)({sid:"-7oe8j6"}),b=(0,d.createEvent)({sid:"-7x1ma9"}),x=(0,d.createEvent)({sid:"c127f3"}),C=(0,d.createEvent)({sid:"c2uqnu"}),w=(0,d.createStore)([],{sid:"tyz3ht"}),S=w.map((e=>e.map((({signature:e})=>e)))),j=w.map((e=>e.length)),N=j.map((e=>e>0)),P={pinnedSegmentsChanged:y,segmentPinsRelaxedByUser:b},T={$pinnedFlightsSignatures:S,$pinnedFlightsCount:j,$hasPinnedFlights:N,$pinnedFlights:w},F={showNotification:x,hideNotification:C};var E=i(4190),B=i(28225),D=i(6057),A=i(85893);(0,d.sample)({and:[{clock:P.pinnedSegmentsChanged,source:{pinnedFlights:T.$pinnedFlights},fn:({pinnedFlights:e},t)=>(({currentlyPinnedFlights:e=[],pinnedSegmentsChange:t})=>{const{flights:i,isActive:s}=t,a=l()(u()("signature"),_()),n=a(i),r=a(e);if(s)return e.filter((e=>!n.includes(e.signature)));const o=i.filter((e=>!r.includes(e.signature)));return[...e,...o]})({currentlyPinnedFlights:e,pinnedSegmentsChange:t}),target:T.$pinnedFlights}],or:{sid:"pbf0j1"}}),(0,d.withFactory)({sid:"ptk83y",fn:()=>(0,p.m)({clock:P.segmentPinsRelaxedByUser,target:T.$pinnedFlights})}),(0,d.withFactory)({sid:"q7uvjc",fn:()=>(0,g.s)({source:T.$pinnedFlightsSignatures,if:T.$hasPinnedFlights,then:F.showNotification,else:F.hideNotification})}),(0,d.sample)({and:[{clock:P.segmentPinsRelaxedByUser,target:F.hideNotification}],or:{sid:"qbpfov"}}),(0,d.sample)({and:[{clock:f.E.inputs.startSearch,target:F.hideNotification}],or:{sid:"qq0349"}}),(0,d.sample)({and:[{clock:k.N.outputs.searchExpired,target:F.hideNotification}],or:{sid:"qsr232"}}),(0,d.withFactory)({sid:"r71pig",fn:()=>(0,p.m)({clock:f.E.inputs.startSearch,target:T.$pinnedFlights})}),m.B.inputs.notify({clock:{show:F.showNotification,hide:F.hideNotification},autoClose:!1,message:h.J.outputs.translated("service_pinned_segments:notification.description",{count:T.$pinnedFlightsCount.map(String),route:T.$pinnedFlights.map((e=>l()(u()(a()(["departureAirportIata","arrivalAirportIata"])),u()(r()(" - ")),r()(", "))(e)))}),id:"pinFlightSigns",icon:"pin",actions:()=>{const{t:e}=(0,B.useTranslation)("service_pinned_segments"),{segmentPinsRelaxedByUserEvent:t}=(0,E.useUnit)({segmentPinsRelaxedByUserEvent:P.segmentPinsRelaxedByUser});return(0,A.jsx)(D.P,{onClick:t,children:e("notification.button")})}});const I=(0,i(30091).G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/serp_results/services/pinned_segments/index.ts",api:{inputs:P,outputs:T,internals:F},attachTestApi:()=>{throw new Error("Test API is not available in production")}})},86539:function(e,t,i){"use strict";i.d(t,{Y:function(){return b}});var s=i(98116),a=i(28258),n=i(99186),r=i(30494),o=i.n(r);const l=(e,t)=>o()((e=>({name:e?.name?.[t]||{},code:e.code,cityCode:e.city_code,coordinates:e.coordinates})),e),c=(e,t)=>o()((e=>({code:e.code,name:e?.name?.[t]||{},country:e.country,timezone:e.timezone,airports:e.airports})),e),u=(e,t)=>o()((e=>({code:e.code,name:e?.name?.[t]||{}})),e),d=(e,t)=>({airports:l(e.airports,t),cities:c(e.cities,t),countries:u(e.countries,t),metroAreas:e.metro_areas});var p=i(51717);const g=(0,s.createDomain)("places",{sid:"6yr8uk"}).createEvent({sid:"slzssy"}),m=(0,s.restore)(g,null,{sid:"nljgto"}),{$airports:h,$cities:f,$countries:k,$metroAreas:v}=(0,s.withFactory)({sid:"c0w9xo",fn:()=>(0,p.X)({source:m,shape:{$airports:e=>e?.airports||{},$cities:e=>e?.cities||{},$countries:e=>e?.countries||{},$metroAreas:e=>e?.metroAreas||{}}})}),_={placesUpdated:g},y={$places:m,$airports:h,$cities:f,$countries:k,$metroAreas:v};(0,s.sample)({and:[{clock:a.E.outputs.searchMetaLoaded,source:n.l.outputs.$language,fn:(e,t)=>d(t.places,e),target:_.placesUpdated}],or:{sid:"m4igw1"}}),(0,s.sample)({and:[{clock:a.E.outputs.resultChunksLoaded,source:n.l.outputs.$language,fn:(e,[t])=>d(t.places,e),target:_.placesUpdated}],or:{sid:"-s1vqf5"}});const b={inputs:_,outputs:y}},27497:function(e,t,i){"use strict";i.d(t,{N:function(){return D}});var s=i(98116),a=i(23588),n=i(76830),r=i(31438),o=i(31401),l=i(28258),c=i(27636);const u=(0,s.createEvent)({sid:"-w5syj"}),d=(0,s.createEvent)({sid:"-21c0x8"}),p=(0,s.createEvent)({sid:"b2bfsi"}),g=(0,s.createEvent)({sid:"clbhnr"}),m=(0,s.createStore)(r.S.Inited,{sid:"k39xdd"}),h=(0,s.createStore)(null,{sid:"6lqbcv"}),f=(0,s.createEvent)({sid:"-ahwut8"}),k=(0,s.createStore)({status:o.lm.Idle},{sid:"atpqxu"}),v=m.map((e=>e===r.S.Inited)),_=(0,s.createEvent)({sid:"idmln6"}),y=(0,s.createStore)(0,{sid:"-opm4gh"}),b=k.map((({status:e})=>e===o.lm.Pending)),x=m.map((e=>e===r.S.Expired)),[C,w]=(0,s.withFactory)({sid:"-69vba4",fn:()=>(0,c.K)(m.map((e=>e===r.S.Finished)))}),S=m.map((e=>e===r.S.Started));(0,s.sample)({and:[{clock:_,target:y}],or:{sid:"fer4yb"}}),(0,s.sample)({and:[{clock:u,source:{searchStatus:m},filter:({searchStatus:e},t)=>e!==r.S.Expired&&t===r.S.Expired,target:d}],or:{sid:"ft1sdp"}}),(0,s.sample)({and:[{clock:u,target:m}],or:{sid:"gmbb2b"}}),(0,s.sample)({and:[{clock:p,target:h}],or:{sid:"gp2a14"}}),(0,s.sample)({and:[{clock:u,filter:e=>e!==r.S.Failed,fn:()=>null,target:h}],or:{sid:"h3cxgi"}}),(0,s.sample)({and:[{source:f,target:k}],or:{sid:"hir62m"}}),(0,s.sample)({and:[{clock:(0,s.withFactory)({sid:"-njd5xb",fn:()=>(0,n.D)({source:g,timeout:y,name:"debounce: serp_results start expiration"})}),source:{searchSession:l.E.outputs.$searchSession,isExpired:x},filter:({searchSession:e,isExpired:t},i)=>e?.searchId===i&&!t,fn:()=>r.S.Expired,target:u}],or:{sid:"hn5iti"}});const j={setError:p,searchStatusChanged:u,searchContinueStatusChanged:f},N={$searchStatus:m,$lastError:h,$searchContinueStatus:k,$isContinuePending:b,$isSearchExpired:x,$isSearchFinished:C,$isSearchStarted:S,$isSearchInited:v,searchStatusChanged:u,searchExpired:d},P={startExpiration:g,$remainingTtl:y,remainingTtlChanged:_,$isSearchFinishedOverride:w};(0,s.sample)({and:[{clock:j.searchStatusChanged,target:a.z.inputs.searchStatusChangeFx}],or:{sid:"-a1qa4b"}}),(0,s.sample)({and:[{source:N.$searchContinueStatus,target:a.z.inputs.shouldChangeContinueStatusFx}],or:{sid:"-u3y5mz"}}),i(26699);var T=i(63246);const F=(0,s.createEvent)({sid:"-np2aih"});(0,s.sample)({and:[{clock:l.E.outputs.resultChunksLoaded,source:{searchStatus:N.$searchStatus},filter:({searchStatus:e},[t])=>{const i=t.meta.total_tickets_count;return e===r.S.Started&&i>0},fn:()=>r.S.Shown,target:j.searchStatusChanged}],or:{sid:"o5e5if"}}),(0,s.sample)({and:[{clock:l.E.inputs.abortSearch,filter:e=>"continue search"!==e,target:F}],or:{sid:"onjd3c"}}),(0,s.sample)({and:[{clock:[l.E.outputs.searchFailed,l.E.outputs.searchFinished],target:F}],or:{sid:"p2dt43"}}),(0,s.sample)({and:[{clock:F,source:{searchStatus:N.$searchStatus},filter:({searchStatus:e})=>[r.S.Started,r.S.Shown].includes(e),fn:({searchStatus:e})=>e===r.S.Shown?r.S.Finished:e===r.S.Started?r.S.Failed:e,target:j.searchStatusChanged}],or:{sid:"p54s2w"}}),(0,s.sample)({and:[{clock:l.E.outputs.searchFailed,filter:({type:e})=>"SearchNotFound"===e,fn:()=>r.S.Expired,target:j.searchStatusChanged}],or:{sid:"q3rtgn"}}),(0,s.sample)({and:[{clock:l.E.outputs.searchFailed,fn:({type:e})=>e,target:j.setError}],or:{sid:"qj622r"}}),(0,s.sample)({and:[{clock:l.E.inputs.startSearch,fn:()=>r.S.Started,target:j.searchStatusChanged}],or:{sid:"qznvvl"}}),(0,s.sample)({and:[{source:l.E.outputs.chunksLoaded,fn:()=>({status:o.lm.Success}),target:j.searchContinueStatusChanged}],or:{sid:"r2ynfr"}}),(0,s.sample)({and:[{source:l.E.outputs.searchFailed,fn:()=>({status:o.lm.Failure}),target:j.searchContinueStatusChanged}],or:{sid:"rht3gi"}}),(0,s.sample)({and:[{clock:[T.y.outputs.pageBecomesVisible,l.E.outputs.searchMetaLoaded],source:{searchSession:l.E.outputs.$searchSession},fn:({searchSession:e})=>{if(!e)return 0;const t=Date.now()-e.createdAt;return Math.max(0,e.resultsTtl-t)},target:P.remainingTtlChanged}],or:{sid:"ryax9c"}});const E=(0,s.createEffect)((e=>console.log("SEARCH_TTL_WHEN_PAGE_BECOME_HIDDEN",e)),{sid:"5mpp8y"}),B=(0,s.createEffect)((e=>console.log("SEARCH_TTL_WHEN_PAGE_BECOME_VISIBLE",e)),{sid:"4sxyfa"});(0,s.sample)({and:[{clock:T.y.outputs.pageBecomesVisible,source:{remainingTtl:P.$remainingTtl},fn:({remainingTtl:e})=>e,target:B}],or:{sid:"-wkg75d"}}),(0,s.sample)({and:[{clock:T.y.outputs.pageBecomesHidden,source:{remainingTtl:P.$remainingTtl},fn:({remainingTtl:e})=>e,target:E}],or:{sid:"-w3ekr6"}}),(0,s.sample)({and:[{clock:[T.y.outputs.pageBecomesVisible,l.E.outputs.searchMetaLoaded],source:l.E.outputs.$searchSession,filter:Boolean,fn:e=>e.searchId,target:P.startExpiration}],or:{sid:"-vmcycz"}});const D={inputs:j,outputs:N,internals:P}},52112:function(e,t,i){"use strict";i.d(t,{o:function(){return Cr}});var s=i(98116),a=i(28258),n=i(41832),r=i(4517),o=i(38352),l=i(21247),c=i(27636),u=i(99186),d=i(79403),p=i(53788),g=i(37213),m=i(61653),h=i(91585);const{$usePricePerPassenger:f}=h.t.outputs,k=(0,s.createEvent)({sid:"-k1q0ay"}),v=(0,s.createEvent)({sid:"-vi8ol9"}),_=(0,s.createEvent)({sid:"a13s8z"}),y=(0,s.createEvent)({sid:"-f1sdct"}),b=(0,s.createStore)([],{sid:"bs9wzd"}),x=(0,s.createStore)([],{sid:"1appyo"}),C=(0,s.createStore)(null,{sid:"-rgng4o"}),w=(0,s.createStore)([],{sid:"-95uzii"}),S=(0,s.createStore)(null,{sid:"yu66kz"}),j=(0,s.createStore)([],{sid:"-j4tcnx"}),N=(0,s.createStore)({},{sid:"-yykgpt"}),P=(0,s.createStore)({},{sid:"-v49y3b"}),T=(0,s.createStore)({},{sid:"-ygcxws"}),F=(0,s.combine)({and:[[u.l.outputs.$language,d.U.outputs.$brand,p.D.outputs.$market,a.E.outputs.$searchSession,n.y.outputs.$currencyRates,g.b.outputs.$marker,o.s.outputs.$searchParams],([e,t,i,s,a,n,r])=>{const{searchId:o,resultsHostUrl:l}=s||{};return{lang:e,brand:t,market:i,searchId:o,resultsHostUrl:l,currencyRates:a,marker:n,baseSearchUrl:(0,m.YU)(r)}}],or:{sid:"-r1nctm"}}),E=(0,s.combine)({and:[{cheapestTicketProposalIds:w,proposalCollection:P},({cheapestTicketProposalIds:e,proposalCollection:t})=>{const[i]=e,s=t[i];return s?s.price:null}],or:{sid:"idc6qn"}}),[B,D]=(0,s.withFactory)({sid:"-syoal6",fn:()=>(0,c.K)((0,s.combine)({and:[{filteredCheapestTicketProposalIds:j,proposalCollection:P,isPricePerPassengerEnabled:f},({filteredCheapestTicketProposalIds:e,proposalCollection:t,isPricePerPassengerEnabled:i})=>{const[s]=e,a=t[s];return a?i?a.pricePerPerson:a.price:null}],or:{sid:"njftel"}}))}),A=(0,s.combine)({and:[{ticketSignatures:b,softTicketSignatures:x},({ticketSignatures:e,softTicketSignatures:t})=>[...e,...t]],or:{sid:"-mu1do7"}}),I=A.map((e=>e.length));(0,s.withFactory)({sid:"dtvce5",fn:()=>(0,l.h)({source:k,targets:{ticketSignatures:b,ticketCollection:N,softTicketSignatures:x,cheapestTicket:C,cheapestTicketProposalIds:w,filteredCheapestTicket:S,filteredCheapestTicketProposalIds:j,proposalCollection:P,ticketProposalCollection:T}})}),(0,s.withFactory)({sid:"eresl6",fn:()=>(0,l.h)({source:_,targets:{ticketSignatures:b,ticketCollection:N,proposalCollection:P,ticketProposalCollection:T}})}),(0,s.sample)({and:[{clock:y,fn:()=>({ticketSignatures:[],softTicketSignatures:[],filteredCheapestTicket:null,filteredCheapestTicketProposalIds:[],ticketCollection:{},proposalCollection:{},ticketProposalCollection:{}}),target:(0,s.withFactory)({sid:"-9rvrj3",fn:()=>(0,l.h)({ticketSignatures:b,softTicketSignatures:x,filteredCheapestTicket:S,filteredCheapestTicketProposalIds:j,ticketCollection:N,proposalCollection:P,ticketProposalCollection:T})})}],or:{sid:"f8gezd"}});const $=r.r.outputs.$interlinesRebrandingFlag.map((({enabled:e})=>e)),L={ticketsDataUpdated:k,ticketsDataUpdatedFromDirectSchedule:_,scrollToTicketPreview:v,reset:y},M={$ticketSignatures:b,$ticketCollection:N,$softTicketSignatures:x,$proposalCollection:P,$ticketProposalCollection:T,$cheapestTicket:C,$cheapestTicketProposalIds:w,$filteredCheapestTicket:S,$filteredCheapestTicketProposalIds:j,$minTicketPriceAllPax:E,$minFilteredTicketPrice:B,$allTicketSignatures:A,$allTicketCount:I,$commonDeeplinkParams:F,ticketsDataUpdated:k,$isVirtualInterlinesRebranding:$},U={$minFilteredTicketPriceOverride:D},R={inputs:L,outputs:M};var V=i(18756);(0,s.sample)({and:[{clock:a.E.outputs.resultChunksLoaded,source:{commonDeeplinkParams:M.$commonDeeplinkParams,localTicketCollection:M.$ticketCollection,localProposalCollection:M.$proposalCollection,localTicketProposalCollection:M.$ticketProposalCollection,currency:n.y.outputs.$currency,downgradedGatesFlag:r.r.outputs.$downgradedGatesFlag,passengers:o.s.outputs.$passengers,isDirectFlightsV3Enabled:r.r.outputs.$directTicketsScheduleV3Flag.map((({enabled:e})=>e))},fn:({commonDeeplinkParams:e,currency:t,downgradedGatesFlag:i,localTicketCollection:s,localProposalCollection:a,localTicketProposalCollection:n,passengers:r,isDirectFlightsV3Enabled:o},[l])=>{const c=i?.gatesId||[];return(0,V.T)({commonDeeplinkParams:e,chunkDto:l,localTicketCollection:s,localProposalCollection:a,localTicketProposalCollection:n,currency:t,downgradedAgents:c,passengers:r,isTicketDirectScheduleV2FeatureEnabled:o})},target:L.ticketsDataUpdated}],or:{sid:"t9hffu"}}),(0,s.sample)({and:[{clock:a.E.inputs.startSearch,target:L.reset}],or:{sid:"v8evzf"}});var O=i(4190),Z=i(78803),z=i(28225),H=i(47166),q=i.n(H),W=i(49963),K=i(44619),G=i(92826),Y=i(85893);const X=q().bind({root:"s__Gw1LSuPvEpXuiWzr7NUp","emoji-row":"s__ARenv13KSgLAlcCMTYLA",emoji:"s__FLBcfoVYhGXnPisUh8T1","content-row":"s__y4MvSgqV2gf2E3_x2nD0",content:"s__BLjOkF216QOuSFJQn0Z2",root_layout_normal:"s__oNv56ltyz1bk47c7Bf9m",root_layout_small:"s__mrlJyB08_yEwFjR6d6Jh"}),J=({layout:e="normal",variant:t="noTickets",className:i})=>{const{t:s}=(0,z.useTranslation)("component_soft_tickets_informer"),a=X("root",`root_layout_${e}`,i);return(0,Y.jsxs)("div",{className:a,"data-test-id":"soft-tickets-informer",children:[(0,Y.jsx)("div",{className:X("emoji-row"),children:(0,Y.jsx)(G.M,{className:X("emoji")})}),(0,Y.jsx)("div",{className:X("content-row"),children:(0,Y.jsx)("div",{className:X("content"),children:(0,Y.jsx)(W.x,{type:K.y.Body2Regular,tag:"span",children:s(`content.${t}`)})})})]})},Q={$variant:R.outputs.$ticketSignatures.map((e=>e.length>0?"hasTickets":"noTickets"))};var ee=i(67294),te=i(46898),ie=i.n(te),se=i(31736),ae=i.n(se),ne=i(30494),re=i.n(ne),oe=i(63772),le=i.n(oe),ce=i(31438),ue=i(89421),de=i(27497);const{$ticketCollection:pe}=R.outputs,{$searchStatus:ge}=de.N.outputs,{$language:me}=u.l.outputs,{$isNight:he}=ue.H.outputs,fe=ge.map((e=>e===ce.S.Shown)),ke=(0,s.combine)({and:[{language:me,isNight:he,ticketCollection:pe},({language:e,isNight:t,ticketCollection:i})=>ie()([ae()((e=>!le()(e.badges)&&e.badges.length>0)),re()((i=>{const[s]=i.badges;return{text:s.meta.name[e]||s.type,color:t?s.meta.colors.dark:s.meta.colors.light}}))])(i)],or:{sid:"-q11f8k"}}),ve={outputs:{$isLoading:fe,$ticketBadgeCollection:ke}};i(26699);var _e=i(31401);const{$aviaCashbackFlag:ye}=r.r.outputs,be={outputs:{$cashbackVisibilityCollection:ye.map((({enabled:e,informerPlacements:t})=>e?{[_e.ok.Autosearch]:t.includes(_e.g_.Autosearch),[_e.ok.Results]:t.includes(_e.g_.Results)}:{}))}},xe=(e,t,i)=>[e,t,i].join("_"),{$ticketCollection:Ce,$ticketProposalCollection:we,$proposalCollection:Se}=R.outputs,je=(0,s.combine)({and:[Ce,we,Se,(e,t,i)=>re()((e=>{const{sign:s,segments:a}=e,[n]=t[s],r=i[n],{flightTerms:o}=r;return((e,t)=>{const i=e.flatMap((e=>e.flights)),s=t.flat(),{footnotesData:a}=i.reduce(((e,t,i)=>{const a=t.signature,n=t.airlineId,r=t.transport,o=s[i].marketingCarrierDesignator.airlineId;if("plane"===r&&n===o)return e;const l=xe(o,n,r);if(e.flightKeys.has(l))e.footnotesData.footnoteIndexByFlightSign[a]=Array.from(e.flightKeys).indexOf(l)+1;else{e.flightKeys.add(l);const t=e.flightKeys.size;e.footnotesData.footnotes.push({index:t,operatingCarrier:n,transportType:r}),e.footnotesData.footnoteIndexByFlightSign[a]=t}return e}),{footnotesData:{footnoteIndexByFlightSign:{},footnotes:[]},flightKeys:new Set});return a})(a,o)}),e)],or:{sid:"-xdqm9r"}}),Ne={outputs:{$footnotesData:je}};var Pe=i(38387);const Te=(0,s.createEvent)({sid:"v2q6fr"}),Fe=(0,s.createEvent)({sid:"927d22"}),Ee=(0,s.createEvent)({sid:"zgimqj"}),Be=(0,s.createStore)([],{and:{serialize:"ignore"},sid:"e47mp6"}),De=(0,s.createEvent)({sid:"8bbesj"}),Ae=(0,s.createEvent)({sid:"-klyfnd"}),Ie=(0,s.createEvent)({sid:"-574td"}),$e=(0,s.createEffect)((e=>{window.scrollBy({top:e,behavior:"smooth"})}),{sid:"-68o3qn"}),Le=(0,s.combine)({and:[{isMobile:Pe.l.outputs.$isMobile},({isMobile:e})=>!e],or:{sid:"-skbi53"}});(0,s.sample)({and:[{clock:Ie,source:{refs:Be,isMobile:Pe.l.outputs.$isMobile},filter:({refs:e},t)=>{const i=e.find((e=>e.id===t));return Boolean(i?.ref?.current)},fn:({refs:e,isMobile:t},i)=>{const s=e.find((e=>e.id===i))?.ref,a=13+(t?83:112);return(s?.current?.getBoundingClientRect().top??0)-a},target:$e}],or:{sid:"lvhurt"}}),(0,s.sample)({and:[{clock:De,source:Be,fn:(e,t)=>[...e,t],target:Be}],or:{sid:"n7vqzl"}}),(0,s.sample)({and:[{clock:Ae,source:Be,fn:(e,t)=>e.filter((e=>e.id!==t)),target:Be}],or:{sid:"nn9zlp"}}),(0,s.sample)({and:[{clock:R.inputs.scrollToTicketPreview,target:Ie}],or:{sid:"nr4jr8"}});const Me={inputs:{ticketComeIntoView:Te,ticketComeOutOfView:Fe,ticketHashChanged:Ee,registerReference:De,unregisterReference:Ae},outputs:{$isOldDesktopPreviewVisible:Le}};var Ue=i(23588);const Re=({minimumFare:e})=>Boolean(e.baggage?.count),Ve=e=>!Re(e),{baggageUpsellSwitchChangeFx:Oe}=Ue.z.inputs,{selectedTariffsReset:Ze,ticketFareSelected:ze}=Ue.z.outputs,{$usePricePerPassenger:He}=h.t.outputs,{$ticketCollection:qe,$ticketProposalCollection:We,$proposalCollection:Ke}=R.outputs,{$faresFlag:Ge,$faresV2Flag:Ye}=r.r.outputs,Xe=(0,s.combine)({and:[{faresFlag:Ge,faresV2Flag:Ye},({faresFlag:e,faresV2Flag:t})=>e.enabled||t.enabled],or:{sid:"-xm802q"}}),Je=(0,s.createStore)({},{sid:"-puspvo"}).reset(Ze),Qe=(0,s.createStore)({},{sid:"-c4iun"}).reset(Ze),et=(0,s.createEvent)({sid:"39e1x7"}),tt=(0,s.createEvent)({sid:"ufqfvb"}),it=(0,s.createEvent)({sid:"8kp03g"}),[st,at]=(0,s.withFactory)({sid:"-w4h381",fn:()=>(0,c.K)((0,s.combine)({and:[{ticketCollection:qe,ticketProposalCollection:We,proposalCollection:Ke,ticketBaggageUpsellCollection:Je,isPricePerPassengerEnabled:He,ticketSelectedFareCollection:Qe,isFaresEnabled:Xe},({ticketCollection:e,ticketProposalCollection:t,proposalCollection:i,ticketBaggageUpsellCollection:s,isPricePerPassengerEnabled:a,ticketSelectedFareCollection:n,isFaresEnabled:r})=>Object.values(e).reduce(((e,o)=>{const{sign:l}=o,c=t[l];if(!c)return e;const u=c.map((e=>i[e])),[d]=u,p=n[l],g=p&&c.includes(p)?i[p]:null,m=(e=>e.find(Ve)??null)(u),h=(e=>e.find(Re)??null)(u),f=!!g&&Re(g),k=null!==m,v=null!==h,_=v&&!k,y=r?f:!0===s[l],b=_||v&&y,x=g||(b?h:d),C=((e,t,i)=>e&&t?i?t.pricePerPerson-e.pricePerPerson:t.price-e.price:0)(m,h,a);return e[l]={isBaggageUpsellEnabled:b,isNoBaggageProposalAvailable:k,isBaggageProposalAvailable:v,selectedProposal:x,upsellPrice:C,noBaggageProposal:m,baggageProposal:h},e}),{})],or:{sid:"hk2mdb"}}))});(0,s.sample)({and:[{clock:[et,tt],source:Je,fn:(e,{ticketSign:t,value:i})=>({...e,[t]:i}),target:Je}],or:{sid:"lw9sk4"}}),(0,s.sample)({and:[{clock:et,source:{ticketSelectedFareCollection:Qe,ticketPreviewDesktopProposalCollection:st},fn:({ticketSelectedFareCollection:e,ticketPreviewDesktopProposalCollection:t},{ticketSign:i,value:s})=>{const{noBaggageProposal:a,baggageProposal:n}=t[i];return{...e,[i]:(s?n:a)?.id||null}},target:Qe}],or:{sid:"mqih6z"}}),(0,s.sample)({and:[{clock:et,fn:({ticketSign:e,value:t})=>({ticketSign:e,tariffType:t?_e.$p.HasBaggage:_e.$p.OtherBaggage}),target:Oe}],or:{sid:"xqecez"}}),(0,s.sample)({and:[{clock:it,source:Qe,fn:(e,{ticketSign:t,value:i})=>({...e,[t]:i}),target:Qe}],or:{sid:"y6w67t"}}),(0,s.sample)({and:[{clock:ze,filter:({ticketSign:e,selectedFareProposal:t})=>Boolean(e&&t),fn:({ticketSign:e,selectedFareProposal:t})=>({ticketSign:e,value:t?.id||null}),target:it}],or:{sid:"z0l29b"}});const nt={inputs:{baggageUpsellChangedByUser:et,baggageUpsellUpdated:tt,fareUpdated:it},outputs:{$ticketPreviewDesktopProposalCollection:st},internals:{$ticketPreviewDesktopProposalCollectionOverride:at}};var rt=i(49548),ot=i(52326),lt=i(87115),ct=i(34701);const{$isLoading:ut,$ticketBadgeCollection:dt}=ve.outputs,pt=(0,ee.memo)((({ticketSign:e})=>{const t=(0,O.useStoreMap)({store:dt,keys:[e],defaultValue:null,fn:(e,[t])=>e[t]??null}),i=(0,Z.pc)()===ot.q.Small?lt.OD.S:lt.OD.M,s=(0,O.useUnit)(ut);return t?(0,Y.jsx)(ct.C,{testId:"ticket-preview-badge",isLoading:s,customHexColor:t.color,size:i,children:t.text}):null}));pt.displayName="TicketPreviewBadgeContainer";var gt=i(61750),mt=i(68621),ht=i(37721),ft=i(29893),kt=i.n(ft),vt=i(7108),_t=i.n(vt),yt=i(77606),bt=i.n(yt),xt=i(62423),Ct=i(42177),wt=i(28398),St=i(3708);const jt={[_e.ok.Autosearch]:xt.N9.SerpCashbackLabelAutosearch,[_e.ok.Results]:xt.N9.SerpCashbackLabelResults},{$ticketPreviewV3Flag:Nt}=r.r.outputs,{$ticketCollection:Pt,$ticketProposalCollection:Tt,$proposalCollection:Ft}=R.outputs,Et=(0,s.createEvent)({sid:"-829ncs"}),Bt=(0,s.createEvent)({sid:"-qpji31"}),Dt=(0,s.createEvent)({sid:"-e6hdyi"}),At=(0,s.createEvent)({sid:"-1xmnv3"}),It=(0,s.combine)({and:[{ticketProposalCollection:Tt,proposalCollection:Ft,isPricePerPassengerEnabled:h.t.outputs.$usePricePerPassenger,ticketPreviewV3Flag:Nt,isMultiway:o.s.outputs.$isMultiway,isSubscriptionAvailable:St.si.outputs.flag.$value},({ticketProposalCollection:e,proposalCollection:t,isPricePerPassengerEnabled:i,ticketPreviewV3Flag:s,isMultiway:a,isSubscriptionAvailable:n})=>ie()([re()((e=>{if(bt()(e))return null;const[r]=e,o=t[r];if(!o)return null;const l=Boolean(o.adLabel),{price:c,cashback:u}=((e,t)=>t?{price:e.pricePerPerson,cashback:e.cashbackPerPerson}:{price:e.price,cashback:e.cashback})(o,i);return{price:c,cashback:u,isComparisonButtonVisible:s.compareButtonVisible,isShareButtonVisible:s.shareButtonVisible&&!l,isSubscribeButtonVisible:Boolean(s.subscribeButtonVisible)&&n&&!l&&!a}})),kt()(_t())])(e)],or:{sid:"-y0gu8g"}});(0,s.sample)({and:[{clock:At,target:Ue.z.inputs.ticketSubscriptionClickedFx}],or:{sid:"1poeby"}}),(0,s.sample)({and:[{clock:Dt,source:{ticketCollection:Pt,proposalCollection:Ft,ticketProposalCollection:Tt,currencyRates:n.y.outputs.$currencyRates,currency:n.y.outputs.$currency,marker:g.b.outputs.$marker,searchSession:a.E.outputs.$searchSession,searchParams:o.s.outputs.$searchParams},fn:({ticketCollection:e,proposalCollection:t,ticketProposalCollection:i,currencyRates:s,currency:a,marker:n,searchSession:r,searchParams:o},l)=>{const c=e[l],[u]=i[l],d=t[u],p=(0,m.YU)(o),g=(0,m.qp)({agentLabel:d.agentLabel,ticket:c,proposal:d,unifiedPrice:d?.unifiedPrice,currencyRates:s,currentCurrency:a,marker:n||"",searchId:r?.searchId,baseSearchUrl:p});return{source:wt.L.TicketPreview,ticketUrl:g,ticketSign:l}},target:wt.d.inputs.ticketSharingPopupOpened}],or:{sid:"23z1rc"}}),(0,s.sample)({and:[{clock:Et,fn:e=>jt[e],target:Ct.X.inputs.entryPointInteracted}],or:{sid:"4hqybo"}});const{$cashbackVisibilityCollection:$t}=be.outputs,Lt=({ticketSign:e})=>{const t=(0,Z.pc)(),i=(0,ee.useContext)(ht.d).placement,s=(0,O.useStoreMap)({store:It,keys:[e],defaultValue:null,fn:(e,[t])=>e[t]??null}),a=(0,O.useStoreMap)({store:$t,keys:[i],defaultValue:!1,fn:(e,[t])=>e[t]??!1}),{isUserHasPremiumSubscription:r,currency:o,inavailableCashbackClickedEvent:l}=(0,O.useUnit)({isUserHasPremiumSubscription:mt.b.outputs.$isAnyPremiumActive,currency:n.y.outputs.$currency,inavailableCashbackClickedEvent:Et}),c=(0,ee.useCallback)((()=>{l(i)}),[l,i]);if(!s)return null;const{price:u,cashback:d}=s;return(0,Y.jsx)(gt.y,{layout:t,price:u,cashback:a?d:null,currency:o,isCashbackAvailable:r,onUnavailableCashbackClick:c})},Mt=({className:e,...t},i)=>(0,Y.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:[(0,Y.jsx)("path",{d:"M20 7H4V5h16v2ZM4 13h8v-2H4v2ZM4 19h8v-2H4v2Z"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 15.5a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm-1.47-.97-3.125 3.125h-1.06L15.47 15.78l1.06-1.06 1.345 1.344 2.595-2.594 1.06 1.06Z"})]}),Ut=(0,ee.memo)((0,ee.forwardRef)(Mt));Ut.displayName="Icon24ControlsCompareActive";const Rt=({className:e,...t},i)=>(0,Y.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,Y.jsx)("path",{d:"M4 7h16V5H4v2ZM12 13H4v-2h8v2ZM12 19H4v-2h8v2ZM19 16v3h-2v-3h-3v-2h3v-3h2v3h3v2h-3Z"})}),Vt=(0,ee.memo)((0,ee.forwardRef)(Rt));Vt.displayName="Icon24ControlsCompare";var Ot=i(69430),Zt=i(55464),zt=i(42811),Ht=i(1156),qt=i(39535),Wt=i(5070),Kt={controls:"s__JGyNdVUAzk9Uzw3lgADd",button:"s__niCzNzO09hBaUG9kfOBy",button_active:"s___k72Y63GpKZxWPXxIhB9",icon:"s__toeK8t4EZspU8b9SWUX7"};const Gt=H.bind(Kt),Yt=({tooltipContent:e=null,isActive:t=!1,inProgress:i=!1,onClick:s,children:a})=>{const n=(0,ee.useCallback)((e=>{e.stopPropagation(),s?.()}),[s]),r=(0,ee.useCallback)((e=>e.stopPropagation()),[]);return(0,Y.jsx)(Wt.u,{disabled:!e,content:e,placement:"top",fallbackPlacements:["bottom","bottom-end","top-end"],width:"auto",delay:[500,null],touch:["hold",500],children:(0,Y.jsx)(Ht.z,{className:Gt("button",{button_active:t}),size:qt.qE.M,priority:qt.Ji.Secondary,onClick:n,onTouchStart:r,onTouchEnd:r,progress:i,children:a})})},Xt=H.bind(Kt),Jt=(0,ee.memo)((({layout:e=ot.q.Normal,isComparisonButtonVisible:t=!0,isComparisonActive:i=!1,isShareButtonVisible:s=!0,isSubscribeButtonVisible:a=!0,isSubscriptionActive:n=!1,isSubscriptionPending:r=!1,onComparisonButtonClick:o,onShareButtonClick:l,onSubscribeButtonClick:c})=>{const{t:u}=(0,z.useTranslation)("uiKit"),d=i?(0,Y.jsx)(Ut,{className:Kt.icon}):(0,Y.jsx)(Vt,{className:Kt.icon}),p=n?(0,Y.jsx)(Ot.C,{className:Kt.icon}):(0,Y.jsx)(Zt.G,{className:Kt.icon}),g=Xt("root",`root_layout_${e}`);return(0,Y.jsx)("div",{className:g,children:(0,Y.jsxs)("div",{className:Xt("controls"),children:[t&&(0,Y.jsx)(Yt,{tooltipContent:u("ticket.compareButton"),isActive:i,onClick:o,children:d}),a&&(0,Y.jsx)(Yt,{tooltipContent:u("ticket.subscribeButton"),isActive:n,inProgress:r,onClick:c,children:p}),s&&(0,Y.jsx)(Yt,{tooltipContent:u("ticket.shareButton"),onClick:l,children:(0,Y.jsx)(zt.E,{className:Kt.icon})})]})})}));Jt.displayName="TicketPreviewControls";var Qt=i(92021);const ei=({ticketSign:e})=>{const t=(0,Z.pc)(),i=(0,O.useStoreMap)({store:It,keys:[e],defaultValue:null,fn:(e,[t])=>e[t]??null}),{comparisonButtonClickedEvent:s,shareButtonClickedEvent:a,subscribeButtonClickedEvent:n}=(0,O.useUnit)({comparisonButtonClickedEvent:Bt,shareButtonClickedEvent:Dt,subscribeButtonClickedEvent:At}),r=(0,O.useStoreMap)({store:St.si.outputs.$ticketSubscriptionStatuses,keys:[e],defaultValue:!1,fn:(e,[t])=>e[t]===Qt.oF.Applied}),o=(0,O.useStoreMap)({store:St.si.outputs.$ticketSubscriptionStatuses,keys:[e],defaultValue:!1,fn:(e,[t])=>e[t]===Qt.oF.Pending}),l=(0,ee.useCallback)((()=>{s(e)}),[s,e]),c=(0,ee.useCallback)((()=>{a(e)}),[a,e]),u=(0,ee.useCallback)((()=>{n(e)}),[n,e]);if(!i)return null;const{isComparisonButtonVisible:d,isShareButtonVisible:p,isSubscribeButtonVisible:g}=i;return(0,Y.jsx)(Jt,{layout:t,isComparisonButtonVisible:d,isShareButtonVisible:p,isSubscribeButtonVisible:g,isSubscriptionActive:r,isSubscriptionPending:o,onComparisonButtonClick:l,onShareButtonClick:c,onSubscribeButtonClick:u})};var ti=i(83234),ii=i(37762);const si=({ticketSign:e})=>{const t=(0,O.useStoreMap)({store:Ne.outputs.$footnotesData,keys:[e],defaultValue:null,fn:(e,[t])=>e[t]||null}),i=(0,O.useUnit)(ii.x.outputs.$airlines),s=(0,ee.useCallback)((e=>i[e]?.name||e),[i]);return t?.footnotes.length?(0,Y.jsx)(ti.F,{footnotes:t.footnotes,getAirlineName:s}):null};var ai,ni=i(6824);!function(e){e.Default="default",e.Alert="alert"}(ai||(ai={}));var ri={root:"s__rmEgBGv0aaZHdCIAEYEE",informer_layout_normal:"s__uNGfgsssdHOCdqbkpKNY",informer_layout_small:"s__hj9KTuq6hLgrpppLuSxJ",informer:"s__f_UELc9DnfdWNA5jzu_e","informer_single-row":"s__L_GPfKeCKugYPJHq_w2t",badge:"s__MKJvQ9CIAC_yxzfErpoA",badge_type_alert:"s__yLfEiVJH5YNoCH2wR6pQ","badge-text":"s__LiHMb8l4rLrylcAxNA5Q"};const oi=H.bind(ri),li=({text:e,icon:t,type:i=ai.Default,layout:s=ot.q.Normal,isSingleRow:a=!1,testId:n})=>{const r=oi("informer",`informer_layout_${s}`,{"informer_single-row":a}),o=oi("badge",{badge_type_alert:i===ai.Alert});return(0,Y.jsx)("div",{className:r,"data-test-id":n,children:(0,Y.jsxs)(ct.C,{className:o,size:lt.OD.S,color:lt.JV.Custom,borderStyle:lt.Pk.Brick,children:[t&&(0,Y.jsx)(ct.C.Icon,{position:ni.e.Right,children:t}),(0,Y.jsx)(W.x,{className:oi("badge-text"),type:s===ot.q.Small?K.y.Body3Regular:K.y.Body2Regular,pretty:!1,children:e})]})})},ci=H.bind(ri),ui=(0,ee.memo)((({className:e,informers:t=[],layout:i=ot.q.Normal})=>{const s=ci("root",`root_layout_${i}`,e);return 0===t.length?null:(0,Y.jsx)("div",{className:s,children:t.map((({text:e,icon:t,type:s,isSingleRow:a},n)=>(0,Y.jsx)(li,{type:s,text:e,icon:t,layout:i,isSingleRow:a},n)))})}));ui.displayName="TicketPreviewInformers";var di=i(49546),pi=i.n(di),gi=i(15886),mi=i.n(gi),hi=i(86251),fi=i.n(hi);let ki,vi;!function(e){e.Empty="empty",e.Unknown="unknown",e.Included="included",e.IncludedWithWeight="included_with_weight",e.CouldAddBaggage="could_add_baggage",e.CouldAddBaggageWithWeight="could_add_baggage_with_weight"}(ki||(ki={})),function(e){e.Empty="empty",e.Unknown="unknown",e.Included="included",e.IncludedWithWeight="included_with_weight"}(vi||(vi={}));const _i=["restrictions_ticket_uncertain_layover","restrictions_ticket_forbidden_direct","restrictions_ticket_forbidden_layover"],{$ticketCollection:yi,$ticketProposalCollection:bi,$proposalCollection:xi}=R.outputs,{$usePricePerPassenger:Ci}=h.t.outputs,wi=(n.y.outputs.$currency.map((e=>e.toUpperCase())),(0,s.combine)({and:[{ticketCollection:yi,ticketProposalCollection:bi,proposalCollection:xi,isPricePerPassengerEnabled:Ci},({ticketCollection:e,ticketProposalCollection:t,proposalCollection:i,isPricePerPassengerEnabled:s})=>re()((e=>{const[a]=t[e.sign],n=i[a],r=(({ticketSign:e,ticketProposalCollection:t,proposalCollection:i,isPricePerPassengerEnabled:s})=>{const a=t[e];if(!a)return null;const[n,...r]=a.map((e=>i[e])),{baggage:o}=n.minimumFare,l=o?.count??0,c=o?.weight??0;if(l>0)return c>0?{type:ki.IncludedWithWeight,count:l,weight:c}:{type:ki.Included};const u=r.find((e=>(e.minimumFare.baggage?.count??0)>0));if(!u)return o?{type:ki.Empty}:{type:ki.Unknown};const d=s?u.pricePerPerson:u.price;return u.minimumFare?.baggage?.weight?{type:ki.CouldAddBaggageWithWeight,price:Math.ceil(d),count:u.minimumFare.baggage.count,weight:u.minimumFare.baggage.weight}:{type:ki.CouldAddBaggage,price:Math.ceil(d)}})({ticketSign:e.sign,ticketProposalCollection:t,proposalCollection:i,isPricePerPassengerEnabled:s}),o=(({ticketSign:e,ticketProposalCollection:t,proposalCollection:i})=>{const s=t[e];if(!s)return null;const[a]=s.map((e=>i[e])),{handbags:n}=a.minimumFare;if(!n)return{type:vi.Unknown};const{count:r,weight:o}=n;return 0===r?{type:vi.Empty}:r>0?o?{type:vi.IncludedWithWeight,count:r,weight:o}:{type:vi.Included}:{type:vi.Unknown}})({ticketSign:e.sign,ticketProposalCollection:t,proposalCollection:i,isPricePerPassengerEnabled:s}),l=mi()(_i,e.tags),{seatsAvailable:c}=n;return{seatsAvailable:bt()(l)&&pi()(c)&&fi()(1,8,c)?Number(c):null,isCharter:n.tags.includes("charter"),isAd:Boolean(n.adLabel),adDomain:n.adLabel?.domain??null,restrictionsTags:l,baggageInfo:r,handbagsInfo:o}}),e)],or:{sid:"qox8yl"}}));var Si=i(4835),ji=i.n(Si),Ni=i(88846),Pi=i.n(Ni),Ti=i(55170);const Fi=({className:e,...t},i)=>(0,Y.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:[(0,Y.jsx)("path",{d:"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z",fill:"#F54759"}),(0,Y.jsx)("path",{d:"M4 7h8v2H4V7Z",fill:"#fff"})]}),Ei=(0,ee.memo)((0,ee.forwardRef)(Fi));Ei.displayName="Icon16ColorRestricted";var Bi=i(2437),Di=i(86523);const{$currency:Ai}=n.y.outputs,{$isSearchForMultiPassengers:Ii}=o.s.outputs,{$ticketPreviewV3Flag:$i}=r.r.outputs,{$isSearchForMultiPassengers:Li}=o.s.outputs,{$ticketPreviewV3Flag:Mi}=r.r.outputs,Ui=({ticketSign:e})=>{const t=(0,Z.pc)(),i=(e=>{const{t:t}=(0,z.useTranslation)("service_tickets"),i=(e=>{const{t:t}=(0,z.useTranslation)("service_tickets"),i=(0,Di.d)("mass_regular"),s=(0,Di.d)("price_regular"),{baggageInformersVisible:a}=(0,O.useUnit)($i),{currency:n,isSearchForMultiPassengers:r}=(0,O.useUnit)({currency:Ai,isSearchForMultiPassengers:Ii}),o=r?"allPassengers":"singlePassenger";if(!e||!a)return null;if(e.type===ki.Empty)return{text:t(`ticketPreview.informers.baggage.${o}.hasNoBaggage`)};if(e.type===ki.Unknown)return{text:t(`ticketPreview.informers.baggage.${o}.hasUnknownBaggage`)};if(e.type===ki.Included)return{text:t(`ticketPreview.informers.baggage.${o}.hasBaggage`)};if(e.type===ki.IncludedWithWeight){const{count:s,weight:a}=e;return{text:t(`ticketPreview.informers.baggage.${o}.hasBaggageWithWeight`,{count:s,weight:i(Bi.fb.kilogram(a))})}}if(e.type===ki.CouldAddBaggage){const{price:i}=e;return{text:t(`ticketPreview.informers.baggage.${o}.couldAddBaggage`,{price:s({value:i,currency:n.toUpperCase()})})}}if(e.type===ki.CouldAddBaggageWithWeight){const{price:a,count:r,weight:l}=e;return{text:t(`ticketPreview.informers.baggage.${o}.couldAddBaggageWithWeight`,{price:s({value:a,currency:n.toUpperCase()}),count:r,weight:i(Bi.fb.kilogram(l))})}}return null})(e?.baggageInfo??null),s=(e=>{const{t:t}=(0,z.useTranslation)("service_tickets"),i=(0,Di.d)("mass_regular"),{handbagsInformersVisible:s}=(0,O.useUnit)(Mi),{isSearchForMultiPassengers:a}=(0,O.useUnit)({isSearchForMultiPassengers:Li}),n=a?"allPassengers":"singlePassenger";if(!e||!s)return null;if(e.type===vi.Empty)return{text:t(`ticketPreview.informers.handbags.${n}.handbagsIsEmpty`)};if(e.type===vi.Unknown)return{text:t(`ticketPreview.informers.handbags.${n}.handbagsIsUnknown`)};if(e.type===vi.Included)return{text:t(`ticketPreview.informers.handbags.${n}.handbagsIncluded`)};if(e.type===vi.IncludedWithWeight){const{count:s,weight:a}=e;return{text:t(`ticketPreview.informers.handbags.${n}.handbagsIncludedWithWeight`,{count:s,weight:i(Bi.fb.kilogram(a))})}}return null})(e?.handbagsInfo??null);if(!e)return[];const{isAd:a,adDomain:n,seatsAvailable:r,isCharter:o,restrictionsTags:l}=e,c=n?t("ticketPreview.informers.adWithDomain",{domain:n}):t("ticketPreview.informers.ad"),u=a?{text:c}:null,d=null!==r?{text:t("ticketPreview.informers.seatsAvailable",{count:Number(r)}),type:ai.Alert,isSingleRow:!0}:null,p=o?{text:t("ticketPreview.informers.charter"),icon:(0,Y.jsx)(Ti.W,{})}:null,g=Pi()((e=>"restrictions_ticket_uncertain_layover"===e?{text:t("ticketPreview.informers.uncertainLayover"),icon:(0,Y.jsx)(Ti.W,{})}:{text:t("ticketPreview.informers.ticketForbidden"),icon:(0,Y.jsx)(Ei,{})}),l);return ji()([d,i,s,u,p,...g])})((0,O.useStoreMap)({store:wi,keys:[e],defaultValue:null,fn:(e,[t])=>e[t]??null}));return bt()(i)?null:(0,Y.jsx)(ui,{layout:t,informers:i})};var Ri=i(42911),Vi=i(51007),Oi=i(86539);const{$ticketCollection:Zi,$ticketProposalCollection:zi,$proposalCollection:Hi}=R.outputs,{$footnotesData:qi}=Ne.outputs,Wi=(0,s.combine)({and:[Zi,zi,Hi,qi,(e,t,i,s)=>re()((e=>{const{sign:a,segments:n}=e,[r]=t[a],o=i[r],{flightTerms:l}=o,{footnoteIndexByFlightSign:c}=s[a];return n.map((({flights:e},t)=>((e,t,i)=>{const{carriersData:s}=e.reduce(((e,s,a)=>{const n=s.airlineId,r=s.transport,o=t[a].marketingCarrierDesignator.airlineId,l=xe(o,n,r);if(e.flightKeys.has(l))return e;e.flightKeys.add(l);const c=i?.[s.signature];return e.carriersData.push({airlineId:o,transportType:r,footnoteIndex:c}),e}),{carriersData:[],flightKeys:new Set});return s})(e,l[t],c)))}),e)],or:{sid:"-rvzyob"}}),Ki=({ticketSign:e,segmentIndex:t})=>{const i=(0,Z.pc)(),s=(0,O.useStoreMap)({store:R.outputs.$ticketCollection,keys:[e,t],defaultValue:null,fn:(e,[t,i])=>e[t]?.segments[i]||null}),{airlines:a,airports:n,cities:r}=(0,O.useUnit)({airlines:ii.x.outputs.$airlines,airports:Oi.Y.outputs.$airports,cities:Oi.Y.outputs.$cities}),o=(0,ee.useCallback)((e=>a[e]?.name||e),[a]),l=(0,ee.useCallback)((e=>r[e]?.name?.default||e),[r]),c=(0,ee.useCallback)((e=>n[e]?.name?.default||e),[n]),u=(0,O.useStoreMap)({store:Wi,keys:[e,t],defaultValue:null,fn:(e,[t,i])=>e[t]?.[i]??null});return s&&u?(0,Y.jsx)(Vi.G,{layout:i,segment:s,carriers:u,getAirlineName:o,getCityName:l,getPlaceName:c}):null},Gi=({ticketSign:e})=>{const t=(0,Z.pc)(),i=(0,O.useStoreMap)({store:R.outputs.$ticketCollection,keys:[e],defaultValue:null,fn:(e,[t])=>e[t]||null});return i?(0,Y.jsx)(Ri.s,{layout:t,children:i.segments.map(((t,i)=>(0,Y.jsx)(Ki,{ticketSign:e,segmentIndex:i},i)))}):null},Yi=({ticketSign:e})=>{const t=(0,Z.pc)(),i=(0,Z.Y3)(e);return(0,Y.jsx)(rt.$,{testId:"ticket-preview",layout:t,badgeSlot:(0,Y.jsx)(pt,{ticketSign:e}),priceSlot:(0,Y.jsx)(Lt,{ticketSign:e}),controlsSlot:(0,Y.jsx)(ei,{ticketSign:e}),informersSlot:(0,Y.jsx)(Ui,{ticketSign:e}),segmentsSlot:(0,Y.jsx)(Gi,{ticketSign:e}),footnotesSlot:(0,Y.jsx)(si,{ticketSign:e}),onClick:i})};var Xi=i(67940);const{$ticketPreviewDesktopProposalCollection:Ji}=nt.outputs,Qi=(0,ee.memo)((({ticketSign:e})=>{const t=(0,O.useStoreMap)({store:Ji,keys:[e],defaultValue:null,fn:(e,[t])=>{const i=e[t],{selectedProposal:s}=i;return s?.adLabel?.domain??null}});return(0,Y.jsx)(Xi.lH,{brandName:t})}));Qi.displayName="TicketPreviewDesktopAdInfoContainer";var es=i(36519),ts=i(62034);const is=(e,t,i,s)=>{if(!s||0===s.count)return{text:e(`service_tickets:fares.${i}.notAvailable`),availability:"not_available"};if(s.weight){const a=(0,Bi.WU)(t,"mass_regular",Bi.fb.kilogram(s.weight));return{text:e(`service_tickets:fares.${i}.withWeight`,{count:s.count,weight:a}),availability:"available",dimension:s.dimensions,sumDimension:s.sumDimension}}return{text:e(`service_tickets:fares.${i}.available`),availability:"available",dimension:s.dimensions,sumDimension:s.sumDimension}},{$currency:ss}=n.y.outputs,{baggageUpsellChangedByUser:as}=nt.inputs,{$ticketPreviewDesktopProposalCollection:ns}=nt.outputs,rs=(0,ee.memo)((({ticketSign:e})=>{const t=(0,O.useStoreMap)({store:ns,keys:[e],defaultValue:null,fn:(e,[t])=>e[t]??null}),{currency:i,baggageUpsellChangedByUserEvent:s}=(0,O.useUnit)({currency:ss,baggageUpsellChangedByUserEvent:as}),a=(0,ee.useCallback)((t=>{s({ticketSign:e,value:t})}),[s,e]),n=(e=>{const{t:t}=(0,z.useTranslation)("service_tickets");if(!e)return null;const i=Re(e),s=(e=>Boolean(e.minimumFare.returnBeforeFlight?.available))(e),a=(e=>Boolean(e.minimumFare.changeBeforeFlight?.available))(e);return t(i||s||a?!i||s||a?i||s||!a?i||!s||a?!i&&s&&a?"fares.title.withChangeAndReturn":i&&!s&&a?"fares.title.withBaggageAndChange":i&&s&&!a?"fares.title.withBaggageAndReturn":"fares.title.full":"fares.title.withReturn":"fares.title.withChange":"fares.title.withBaggage":"fares.title.base")})(t?.selectedProposal),r=(e=>{const{t:t}=(0,z.useTranslation)("service_tickets"),i=(0,ts.P)();return(0,ee.useMemo)((()=>{if(!e)return[];const{handbags:s,baggage:a}=e.minimumFare;return[is(t,i,es.F.Handbags,s),is(t,i,es.F.Baggage,a)]}),[i,e,t])})(t?.selectedProposal);if(!t)return null;const{isBaggageUpsellEnabled:o,isNoBaggageProposalAvailable:l,isBaggageProposalAvailable:c,upsellPrice:u}=t,d=c&&!l||u<=0,p=o||u<=0;return(0,Y.jsx)(Xi.Px,{isAvailable:c,isDisabled:d,isChecked:p,price:u,currency:i,tooltipTitle:n,fareOptions:r,onChange:a})}));rs.displayName="TicketPreviewDesktopBaggageUpsellContainer";const{$ticketPreviewDesktopProposalCollection:os}=nt.outputs,{$isSearchExpired:ls}=de.N.outputs,{expiredDialogSubmittedFx:cs}=Ue.z.inputs,us=(0,ee.memo)((({ticketSign:e})=>{const t=(0,O.useStoreMap)({store:os,keys:[e],defaultValue:null,fn:(e,[t])=>e[t]??null}),{isSearchExpired:i,expiredDialogSubmitted:s}=(0,O.useUnit)({isSearchExpired:ls,expiredDialogSubmitted:cs}),a=(0,Z.Y3)(e),n=(0,ee.useCallback)((()=>{i?s({}):a()}),[s,a,i]);if(!t)return null;const r=t.selectedProposal.assisted;return(0,Y.jsx)(Xi.lp,{isAssistedIconVisible:r,isExpired:i,onClick:n})}));us.displayName="TicketPreviewDesktopButtonContainer";var ds=i(66351);const{$usePricePerPassenger:ps}=h.t.outputs,{$ticketPreviewDesktopProposalCollection:gs}=nt.outputs,{entryPointInteracted:ms}=Ct.X.inputs,hs={[_e.ok.Autosearch]:xt.N9.SerpCashbackLabelAutosearch,[_e.ok.Results]:xt.N9.SerpCashbackLabelResults},fs=(0,s.createEvent)({sid:"-nahwgq"}),ks=(0,s.combine)({and:[{isPricePerPassengerEnabled:ps,ticketPreviewDesktopProposalCollection:gs},({isPricePerPassengerEnabled:e,ticketPreviewDesktopProposalCollection:t})=>Object.entries(t).reduce(((t,[i,s])=>{const{cashback:a,cashbackPerPerson:n}=s.selectedProposal;return t[i]=e?n??null:a??null,t}),{})],or:{sid:"-txtsej"}});(0,s.sample)({and:[{clock:fs,fn:e=>hs[e],target:ms}],or:{sid:"-9vk0q7"}});const{$currency:vs}=n.y.outputs,{$isAnyPremiumActive:_s}=mt.b.outputs,{$cashbackVisibilityCollection:ys}=be.outputs,bs=(0,ee.memo)((({ticketSign:e})=>{const t=(0,ee.useContext)(ht.d).placement,i=(0,O.useStoreMap)({store:ys,keys:[t],defaultValue:!1,fn:(e,[t])=>e[t]??!1}),s=(0,O.useStoreMap)({store:ks,keys:[e],defaultValue:null,fn:(e,[t])=>e[t]??null}),{currency:a,isAnyPremiumActive:n,inavailableCashbackClickedEvent:r}=(0,O.useUnit)({currency:vs,isAnyPremiumActive:_s,inavailableCashbackClickedEvent:fs}),o=(0,ee.useCallback)((()=>{r(t)}),[r,t]);return i&&s?(0,Y.jsx)(ds.$,{price:s,currency:a,isCashbackAvailable:n,onInavailableCashbackClick:o}):null}));bs.displayName="TicketPreviewDesktopCashbackContainer";const{$usePricePerPassenger:xs}=h.t.outputs,{$currency:Cs}=n.y.outputs,{$ticketPreviewDesktopProposalCollection:ws}=nt.outputs,Ss=(0,ee.memo)((({ticketSign:e})=>{const{isPricePerPassengerEnabled:t,currency:i}=(0,O.useUnit)({isPricePerPassengerEnabled:xs,currency:Cs}),s=(0,O.useStoreMap)({store:ws,keys:[e],defaultValue:null,fn:(e,[t])=>e[t]??null});if(!s)return null;const{price:a,pricePerPerson:n}=s.selectedProposal,r=t?n:a;return(0,Y.jsx)(Xi.QZ,{currency:i,value:r})}));Ss.displayName="TicketPreviewDesktopPriceContainer";const{$ticketPreviewDesktopProposalCollection:js}=nt.outputs,Ns=js.map((e=>Object.entries(e).reduce(((e,[t,i])=>{const{selectedProposal:s}=i,a=s.seatsAvailable??0;return e[t]=a>0&&a<=7?a:null,e}),{}))),Ps=(0,ee.memo)((({ticketSign:e})=>{const t=(0,O.useStoreMap)({store:Ns,keys:[e],defaultValue:null,fn:(e,[t])=>e[t]??null});return t?(0,Y.jsx)(Xi.YG,{count:t}):null}));Ps.displayName="TicketPreviewDesktopSeatsAvailableContainer";const Ts=(0,ee.memo)((({ticketSign:e})=>(0,Y.jsx)(Xi.vZ,{priceSlot:(0,Y.jsx)(Ss,{ticketSign:e}),cashbackSlot:(0,Y.jsx)(bs,{ticketSign:e}),baggageUpsellSlot:(0,Y.jsx)(rs,{ticketSign:e}),buttonSlot:(0,Y.jsx)(us,{ticketSign:e}),seatsAvailableSlot:(0,Y.jsx)(Ps,{ticketSign:e}),adInfoSlot:(0,Y.jsx)(Qi,{ticketSign:e})})));Ts.displayName="TicketPreviewDesktopAsideContainer";const{$isLoading:Fs,$ticketBadgeCollection:Es}=ve.outputs,Bs=(0,ee.memo)((({ticketSign:e})=>{const t=(0,O.useStoreMap)({store:Es,keys:[e],defaultValue:null,fn:(e,[t])=>e[t]??null}),i=(0,O.useUnit)(Fs);return t?(0,Y.jsx)(ct.C,{testId:"ticket-preview-badge",isLoading:i,customHexColor:t.color,size:lt.OD.S,children:t.text}):null}));Bs.displayName="TicketPreviewDesktopBadgeContainer";var Ds=i(83049),As=i.n(Ds);const{$ticketCollection:Is}=R.outputs,{$ticketPreviewDesktopProposalCollection:$s}=nt.outputs,Ls=(0,s.combine)({and:[{ticketCollection:Is,ticketPreviewDesktopProposalCollection:$s},({ticketCollection:e,ticketPreviewDesktopProposalCollection:t})=>Object.entries(e).reduce(((e,[i,s])=>{const{segments:a}=s,{selectedProposal:n}=t[i],{flightTerms:r}=n,o=r.flatMap(((e,t)=>e.map(((e,i)=>({id:e.marketingCarrierDesignator.airlineId,transportType:a[t].flights[i].transport})))));return e[i]=As()("id",o),e}),{})],or:{sid:"lii15l"}}),{$isNight:Ms}=ue.H.outputs,{$airlines:Us}=ii.x.outputs,Rs=(0,ee.memo)((({ticketSign:e})=>{const{isNight:t,airlines:i}=(0,O.useUnit)({isNight:Ms,airlines:Us}),s=(0,O.useStoreMap)({store:Ls,keys:[e],defaultValue:null,fn:(e,[t])=>e[t]??null}),a=(0,ee.useCallback)((e=>i[e]?.name||e),[i]),n=(0,ee.useCallback)((e=>i[e]?.brandColor||null),[i]);return s?(0,Y.jsx)(Xi.ey,{isNight:t,carriers:s,getCarrierName:a,getCarrierBrandColor:n}):null}));Rs.displayName="TicketPreviewDesktopCarriersContainer";const{$ticketCollection:Vs}=R.outputs,{$ticketPreviewDesktopProposalCollection:Os}=nt.outputs,{ticketSharingPopupOpened:Zs}=wt.d.inputs,{$isMultiway:zs}=o.s.outputs,{$ticketSubscriptionStatuses:Hs}=St.si.outputs,{ticketSubscriptionClickedFx:qs}=Ue.z.inputs,Ws=(0,s.createEvent)({sid:"-etjffg"}),Ks=(0,s.createEvent)({sid:"vmmqfb"}),Gs=(0,s.combine)({and:[{isMultiway:zs,ticketPreviewDesktopProposalCollection:Os,ticketPreviewV3Flag:r.r.outputs.$ticketPreviewV3Flag,ticketSubscriptionStatuses:Hs,isSubscriptionAvailable:St.si.outputs.flag.$value},({isMultiway:e,ticketPreviewDesktopProposalCollection:t,ticketPreviewV3Flag:i,ticketSubscriptionStatuses:s,isSubscriptionAvailable:a})=>Object.entries(t).reduce(((t,[n,r])=>{const{selectedProposal:o}=r,l=Boolean(o.adLabel),c=s[n]===St.oF.Applied,u=Boolean(i.subscribeButtonVisible)&&a&&!l&&!e,d=!l;return t[n]={isSubscribeButtonActive:c,isSubscribeButtonVisible:u,isShareButtonVisible:d},t}),{})],or:{sid:"-gxaq7s"}});(0,s.sample)({and:[{clock:Ws,target:qs}],or:{sid:"-gx8anm"}}),(0,s.sample)({and:[{clock:Ks,source:{ticketPreviewDesktopProposalCollection:Os,ticketCollection:Vs,currencyRates:n.y.outputs.$currencyRates,currency:n.y.outputs.$currency,marker:g.b.outputs.$marker,searchSession:a.E.outputs.$searchSession,searchParams:o.s.outputs.$searchParams},fn:({ticketPreviewDesktopProposalCollection:e,ticketCollection:t,currencyRates:i,currency:s,marker:a,searchSession:n,searchParams:r},o)=>{const l=t[o],{selectedProposal:c}=e[o],{agentLabel:u,unifiedPrice:d}=c,p=(0,m.YU)(r),g=(0,m.qp)({agentLabel:u,ticket:l,proposal:c,unifiedPrice:d,currencyRates:i,currentCurrency:s,marker:a||"",searchId:n?.searchId,baseSearchUrl:p});return{source:wt.L.TicketPreview,ticketUrl:g,ticketSign:o}},target:Zs}],or:{sid:"-guhbot"}});const Ys=(0,ee.memo)((({ticketSign:e})=>{const{subscribeButtonClickedEvent:t,shareButtonClickedEvent:i}=(0,O.useUnit)({subscribeButtonClickedEvent:Ws,shareButtonClickedEvent:Ks}),s=(0,O.useStoreMap)({store:Gs,keys:[e],defaultValue:null,fn:(e,[t])=>e[t]??null}),a=(0,ee.useCallback)((()=>{t(e)}),[t,e]),n=(0,ee.useCallback)((()=>{i(e)}),[i,e]);if(!s)return null;const{isSubscribeButtonActive:r,isSubscribeButtonVisible:o,isShareButtonVisible:l}=s;return(0,Y.jsx)(Xi.O_,{isSubscribeButtonVisible:o,isSubscribeButtonActive:r,isShareButtonVisible:l,onSubscribeButtonClick:a,onShareButtonClick:n})}));Ys.displayName="TicketPreviewDesktopControlsContainer";const{$ticketCollection:Xs}=R.outputs,{openForbiddenLayoverPopup:Js}=Ue.z.inputs,Qs=(0,s.createEvent)({sid:"-klg1al"}),ea=Xs.map((e=>Object.entries(e).reduce(((e,[t,i])=>(e[t]=i.tags.includes("restrictions_ticket_forbidden_layover"),e)),{})));(0,s.sample)({and:[{clock:Qs,target:Js}],or:{sid:"ifvxqb"}});const ta=(0,ee.memo)((({ticketSign:e})=>{const t=(0,O.useStoreMap)({store:ea,keys:[e],defaultValue:!1,fn:(e,[t])=>e[t]??!1}),{forbiddenLayoverClickedEvent:i}=(0,O.useUnit)({forbiddenLayoverClickedEvent:Qs}),s=(0,ee.useCallback)((()=>{i(e)}),[i,e]);return t?(0,Y.jsx)(Xi.Zc,{onClick:s}):null}));ta.displayName="TicketPreviewDesktopForbiddenLayoverContainer";var ia=i(9384),sa=i(93825);const aa=H.bind({endpoint:"s__BDIGHLNzuwIHeViMbEXQ","primary-slot":"s___Hzt0p8X_ooYzXLgQokd",type_destination:"s__m58V02G2itHH4IxKd1ci","secondary-text":"s__n98tCLTBGrvH5SQ0LkaX",pin:"s___WSCVA8jAub3Y3tbr_g3",type_origin:"s__QHWszhZ7uLCUNiwjWbhz"}),na=({className:e,type:t,pinSlot:i,primaryTextSlot:s,secondaryTextSlot:a,tertiaryTextSlot:n})=>(0,Y.jsxs)("div",{className:aa("endpoint",`type_${t}`,e),"data-test-id":`${t}-endpoint`,children:[(0,Y.jsxs)(sa.L,{className:aa("primary-slot",`type_${t}`),children:[(0,Y.jsx)(sa.L,{className:aa("pin"),children:i}),(0,Y.jsx)(sa.L,{children:s})]}),(0,Y.jsx)(sa.L,{className:aa("secondary-text"),children:a}),(0,Y.jsx)(sa.L,{children:n})]});var ra,oa;!function(e){e.Origin="origin",e.Destination="destination"}(ra||(ra={})),function(e){e.Primary="primary",e.Secondary="secondary"}(oa||(oa={}));const la={[oa.Primary]:K.y.Title3Regular,[oa.Secondary]:K.y.Body3Regular},ca=H.bind({root:"s__DhnUWRq_dnfbyy1pfoX2",type_primary:"s__sNYAKy6VBDAUbuW4TLqO",type_secondary:"s__JQTliknB1kZw3563Ls0z"}),ua=({type:e=oa.Secondary,testId:t,children:i})=>{const s=function(e){return la[e]}(e);return(0,Y.jsx)(W.x,{tag:"span",type:s,className:ca("root",`type_${e}`),"data-test-id":t,children:i})};var da=i(26094),pa=i(73918),ga=i(25387),ma=i(22427);function ha(e){const[t,i]=[e[0],e[e.length-1]];return{from:t,to:i}}function fa(e,t){return!ga(e.arrival.iata,t.departure.iata)}function ka(e,t){return!(!e.signature||!t)&&da(e.signature,t)}const va=H.bind({variables:"s__AR3ZoET73nD1uxC03pIQ",text:"s__w0rO64b3tlEVLBooLSIc","type_change-airport":"s__hwi6GDwa7ZIBA0QThnJc",type_active:"s__cA_ACf_RRzjoPZWQFPa_"}),_a=(0,ee.memo)((({children:e,className:t,changeAirport:i,active:s})=>{const a=(0,ee.useCallback)((e=>{e.stopPropagation()}),[]);return(0,Y.jsx)(W.x,{type:K.y.CaptionSemi,onClick:a,className:va("variables","text",{[va("type_change-airport")]:i,[va("type_active")]:s},t),children:e})}));_a.displayName="StopText";var ya=i(95877);const ba=H.bind({variables:"s__kHbspHTbuxINsDYDESOK",stop:"s__QpEbi7ThQBYwxJ_EZMbj","stop_type_change-airport":"s__a8bXXpUggfxkjvOUxurY",stop_type_active:"s__iA317V1PxPrPkuxwuZ9G","stop_no-iata":"s__JDD4JQpe5abwQJlyv2hQ",iatas:"s__X9YHwYUyLQvu1obW1nlf",content:"s__xf2pTUdqPn1KHF3Fw2u2"}),xa=({flightIn:e,flightOut:t,stopsCount:i,noIata:s,combineStopsSlot:a})=>{const{active:n,onTrigger:r,onUntrigger:o}=function(){const[e,t]=(0,ee.useState)(!1);return{active:e,onTrigger:(0,ee.useCallback)((()=>{t(!0)}),[]),onUntrigger:(0,ee.useCallback)((()=>{t(!1)}),[])}}(),l=((e,t)=>{const{t:i}=(0,z.useTranslation)("uiKit"),s=(0,Di.d)("duration")(Bi.nL.fromMinutes(t.delay)),a=[e.transport,t.transport].join("_"),n=i("ticket.transfer",{returnObjects:!0,from_place:e.arrival.placeName,to_place:t.departure.placeName,delay:s,city:e.arrival.cityName,place:e.arrival.placeName});return fa(e,t)?n.place_change[a]||n.place_change.default:e.arrival.placeName===e.arrival.cityName?n.short[a]||n.short.default:n[a]||n.default})(e,t),c=fa(e,t),u=function(e,t,i){if(!fa(e,t))return e.arrival.iata;const s=[e.arrival.iata,t.departure.iata];return i>2?s.map(((e,t)=>(0,Y.jsx)("div",{children:e},`${e}_${t}`))):s.join(` ${ya.OO} `)}(e,t,i);return(0,Y.jsx)(Wt.u,{width:240,onTrigger:r,onUntrigger:o,content:(0,Y.jsx)(W.x,{type:K.y.Body3Semi,className:ba("content"),pretty:!1,children:l}),children:(0,Y.jsxs)("div",{className:H(ba("variables"),ba("stop"),{[ba("stop_type_active")]:n,[ba("stop_type_change-airport")]:c,[ba("stop_no-iata")]:s}),style:{flexGrow:t.delay},children:[(0,Y.jsx)(sa.L,{children:a}),!s&&(0,Y.jsx)(_a,{className:ba("iatas"),changeAirport:c,active:n,children:u})]})})};const Ca=H.bind({content:"s__E2ZuzRLeWCbaokvbB2Jz",connector:"s__AzRuCBvE2n4nd7vpliww",connector_pinnable:"s__A30xqXg5Uof7RtX0wyOa",connector_pinned:"s__xKtZNzMmLBLM9LO0FsPV"}),wa=(0,ee.memo)((({flight:e,canBePinned:t,showPin:i,isPinDisabled:s=!1,onClick:a,pinned:n})=>{const{pinText:r,durationText:o,techStopsText:l}=function({duration:e,technicalStops:t,transport:i},s,a){const n=function(e){const{t:t}=(0,z.useTranslation)("uiKit");return(0,ee.useMemo)((()=>{if(yt(e))return null;const i=Ni((({placeName:e,cityName:i})=>e===i?t("ticket.placeShort",{place:e}):t("ticket.place",{place:e,city:i})),e);return t("ticket.technicalStops",{stopsCount:i.length,stopsText:i.join(", ")})}),[e,t])}(t),r=function(e,t,i){const{t:s}=(0,z.useTranslation)("uiKit");return(0,ee.useMemo)((()=>!t||i?null:s("ticket.pinTooltip."+("plane"===e?"plane":"otherTransport"))),[t,i,e,s])}(i,s,a),o=function(e){const{t:t}=(0,z.useTranslation)("uiKit");return t("ticket.tripDuration",{duration:(0,Di.d)("duration")(Bi.nL.fromMinutes(e))})}(e);return{pinText:r,durationText:o,techStopsText:n}}(e,i,s),c=(0,ee.useCallback)((t=>{s||(t.stopPropagation(),a(e))}),[e,s,a]);return(0,Y.jsx)(Wt.u,{width:240,placement:"top",content:(0,Y.jsxs)(W.x,{type:K.y.Body3Semi,className:Ca("content"),pretty:!1,children:[o&&(0,Y.jsx)("span",{children:o}),l&&(0,Y.jsx)("span",{children:l}),r&&(0,Y.jsx)("span",{children:r})]}),children:(0,Y.jsx)("div",{className:Ca("connector",{connector_pinned:n,connector_pinnable:t&&!s}),style:{flexGrow:e.duration},onClick:c})})}));wa.displayName="Connector";var Sa=i(55606);const ja=H.bind({combined:"s__bVwhoz608u0oj3SLHW6g"}),Na=(0,ee.memo)((({changeAirport:e,stopsCount:t})=>{const{t:i}=(0,z.useTranslation)("uiKit");return(0,Y.jsx)(_a,{className:ja("combined"),changeAirport:e,children:i("ticket.stops",{stopsCount:t})})}));Na.displayName="CombinedStops";const Pa=H.bind({path:"s__bVGrPe8Lz0XeH2kcgdaX",flight:"s__bsiVCsPzx8Q9JzAlWP53"}),Ta=e=>{const{flights:t,showPin:i,signs:s,maxVisibleTransferIatas:a,isPinDisabled:n=!1}=e,{getCombinedStopsElement:r,hasCombinedStops:o,stopsCount:l}=function(e,t=3){const i=function(e){return(0,ee.useMemo)((()=>e.some(((t,i)=>!!e[i+1]&&fa(t,e[i+1])))),[e])}(e),s=Sa(e)-1,a=s>t,n=(0,ee.useCallback)((e=>0===e&&a?(0,Y.jsx)(Na,{stopsCount:s,changeAirport:i}):null),[i,a,s]);return{hasCombinedStops:a,getCombinedStopsElement:n,stopsCount:s}}(t,a),{canBePinned:c,handleConnectorClick:u}=function(e){const{flights:t,onConnectorClick:i,showPin:s=!1,isPinDisabled:a,signs:n,oneWay:r}=e,o=s&&(!r||r&&t.length>1),l=(0,ee.useCallback)((e=>{o&&!a&&i?.([e],ka(e,n),"connector")}),[o,i,n]);return{canBePinned:o,handleConnectorClick:l}}(e);return(0,Y.jsx)("div",{className:Pa("path"),children:t.map(((e,a)=>(0,Y.jsxs)(ee.Fragment,{children:[(0,Y.jsx)(wa,{flight:e,showPin:i,canBePinned:c,isPinDisabled:n,pinned:ka(e,s),onClick:u}),a<t.length-1&&(0,Y.jsx)(xa,{flightIn:e,flightOut:t[a+1],stopsCount:l,noIata:o,combineStopsSlot:r(a)})]},a)))})};var Fa,Ea=i(29279);!function(e){e.Departure="departure",e.Arrival="arrival"}(Fa||(Fa={}));var Ba=i(39510);const Da=({className:e,...t},i)=>(0,Y.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m16.109 14.02-2.719-1.268c-.795-1.945-2.178-4.52-3.18-6.99l-1.193-.567c.06 1.674.23 3.9.295 5.655l-2.72-1.268c-.564-1.058-1.295-2.069-1.744-2.907-.245-.456-.785-.408-.762.198.103 2.858.14 4.006.14 4.006.018.497.182.99.646 1.21l12.445 5.804c.935.398 1.407-.043 1.659-.557.547-1.173-.549-2.214-2.867-3.317Z"})}),Aa=(0,ee.memo)((0,ee.forwardRef)(Da));Aa.displayName="Icon24TicketArrival";var Ia=i(51189),$a=i(5062),La=i(15532),Ma=i(66975);const Ua={boat:Ia.m,taxi:Ma.Z,train:La.Z,bus:$a.F},Ra={departure:Ba.l,arrival:Aa},Va=H.bind({variables:"s__hbeQrFp4p03CwgkNmJ6c","path-endpoint":"s__kiUoVGYFF9v_hTXejtM9","tooltip-content":"s__fsB2O4cRbkHJ6sD1Bp8I",icon:"s__fCbYMka_uizHjX4rpFaA",type_departure:"s__s6yWXhc5Ti8P2LTBzAAJ",type_arrival:"s__K32zZZBsSlqte4guthWt",iata:"s__bPTvIoVic8_KpuMIQouB"});function Oa({flight:e,type:t}){const i=function(e,t){return t===Fa.Departure?e.departure:e.arrival}(e,t),s=function(e){return(0,ee.useCallback)((()=>e===Fa.Arrival?-10:10),[e])}(t),a=function(e,t){const{t:i}=(0,z.useTranslation)("uiKit"),{localTimestamp:s,transport:a,placeName:n,cityName:r}=e,o=(0,Ea.p)(s),l=(0,Di.d)("ts_time",o),c=n===r?i("ticket.placeShort",{place:r}):i("ticket.place",{place:n,city:r});return i(`ticket.${t}.${a}`,{place:c,time:l})}(i,t),n="plane"===(r=i.transport)?Ra[t]:Ua[r]||null;var r;const o=(0,ee.useCallback)((e=>{e.stopPropagation()}),[]);return(0,Y.jsx)(Wt.u,{content:(0,Y.jsx)(W.x,{type:K.y.Body3Semi,className:Va("tooltip-content"),tag:"span",pretty:!1,children:a}),width:240,calculateCustomSkidding:s,children:(0,Y.jsxs)("div",{className:Va("variables","path-endpoint"),onClick:o,children:[(0,Y.jsx)(n,{className:H(Va("icon"),{[Va("type_departure")]:t===Fa.Departure,[Va("type_arrival")]:t===Fa.Arrival})}),(0,Y.jsx)(W.x,{type:K.y.CaptionSemi,className:H(Va("iata"),{[Va("type_departure")]:t===Fa.Departure,[Va("type_arrival")]:t===Fa.Arrival}),tag:"span",children:i.iata})]})})}var Za=i(78085),za=i(99730),Ha=i(14514),qa=i(36948),Wa=i(59910),Ka=i(13882),Ga=i(93645);const Ya=H.bind({route:"s__orV9ARm2izN7AZNWmz6l",duration:"s__Khbz2VzN7C970CDuunwZ","path-list":"s__u_4KTNZUyzv_5oJevKZn"}),Xa=({flights:e,pathListSlot:t})=>{const{t:i}=(0,z.useTranslation)("uiKit"),{from:s,to:a}=ha(e),{duration:n}=function(e){const{from:t,to:i}=ha(e),s=(0,ee.useMemo)((()=>t.departure.timestamp&&i.arrival.timestamp?function(e,t,i){(0,Ka.Z)(2,arguments);var s=(0,Wa.Z)(e,t)/qa.yJ;return(0,Ga.u)(null==i?void 0:i.roundingMethod)(s)}(Ha(i.arrival.timestamp),Ha(t.departure.timestamp)):Za(((e,t)=>za([e,t.delay,t.duration])),0,e)),[t,i,e]);return{duration:(0,Di.d)("duration")(Bi.nL.fromMinutes(s))}}(e);return(0,Y.jsxs)("div",{className:Ya("route"),"data-test-id":"ticket-segment-route",children:[(0,Y.jsx)(Oa,{type:Fa.Departure,flight:s}),(0,Y.jsx)(W.x,{type:K.y.Body3Regular,className:Ya("duration"),tag:"span",pretty:!1,children:i("ticket.tripDuration",{duration:n})}),(0,Y.jsx)(sa.L,{className:Ya("path-list"),children:t}),(0,Y.jsx)(Oa,{type:Fa.Arrival,flight:a})]})};var Ja,Qa,en=i(60792),tn=i(95219);!function(e){e.Active="active",e.Partial="partial",e.Inactive="inactive"}(Ja||(Ja={})),function(e){e.Big="big",e.Normal="normal",e.Small="small"}(Qa||(Qa={}));var sn=i(11556);const an=H.bind({variables:"s__TObPUduloMdCTcUJJY4e",content:"s__NfuVj2Bjs1GbwMuoyWYg",pin:"s__ELtrJr3st37A4CSg8VcT",pin_disabled:"s__OdNCZxmdeZr2uggPjrLA",pin_state_partial:"s__vLpiZ7L3iTOe_02hzMAJ",pin_state_active:"s__y8GslFU6JncXtBThXNZd",pin_state_inactive:"s__W1gX2uScbvpVpGJ9DDLw",pin_size_big:"s__zHTVG6QSSiR1Kj0uP4yy",pin_size_normal:"s__jtfQlfAUCrCLwkHxDyt1",pin_size_small:"s__tLYZwe_ADSyhgWYr6vHp",icon:"s__QQRNyWgL1ZIIBZ5OhqMC",icon_size_big:"s__hCHMTZ0P_Ca36SlPqq3L",icon_size_normal:"s__CI_rPE9PAKWhNhvRh3Rj",icon_size_small:"s__P54GW0L56flj0nEIOT_R"}),nn=({content:e,size:t,state:i,isDisabled:s=!1,onClick:a})=>{const n=(0,ee.useMemo)((()=>(0,Y.jsx)(W.x,{className:an("content"),type:K.y.Body3Semi,children:e})),[e]),r=(0,ee.useCallback)((e=>{s||(e.preventDefault(),e.stopPropagation(),a(e))}),[s,a]);return(0,Y.jsx)(Wt.u,{disabled:s,content:n,placement:"top",width:240,children:(0,Y.jsx)(Ht.z,{mod:qt.Ly.Custom,size:qt.qE.Custom,disabled:s,className:an("variables","pin",`pin_size_${t}`,`pin_state_${i}`,{pin_disabled:s}),onClick:r,children:(0,Y.jsx)(sn.g,{className:an("icon",`icon_size_${t}`)})})})},rn=({flights:e,pinFlightSigns:t,segmentIndex:i,isPinDisabled:s=!1,onPinClick:a})=>{const{t:n}=(0,z.useTranslation)("uiKit"),r=function(e,t){return!!t&&ma((({signature:e})=>da(e,t)),e)}(e,t),o=function(e,t){return pa((e=>ka(e,t)),e)}(e,t),l=(0,ee.useCallback)((()=>{a&&!s&&a(e,r,"segment",i)}),[e,r,s,i,a]),c=(0,ee.useMemo)((()=>r?Ja.Active:o?Ja.Partial:Ja.Inactive),[r,o]);return(0,ee.useMemo)((()=>(0,Y.jsx)(nn,{size:Qa.Big,state:c,isDisabled:s,onClick:l,content:n("ticket.pinTooltip.segment")})),[l,c,s,n])},on=e=>{const t=(0,tn.x2)(),i=(0,Ea.p)(e.localTimestamp),s=!(0,en.Z)(t,i),a=(0,Di.d)(s?"ts_date_full_month_short":"ts_day_month_short_weekday",i),n=(0,Di.d)("ts_time",i);return(0,ee.useMemo)((()=>({date:a,city:e.cityName,time:n})),[e.cityName,a,n])};const ln=(0,ee.memo)((e=>{const{showPin:t,flights:i,tripDirectionType:s,maxVisibleTransferIatas:a,pinFlightSigns:n,isPinDisabled:r=!1,onPinClick:o}=e,{departure:l,arrival:c,Pin:u}=(e=>{const{from:t,to:i}=ha(e.flights);return{departure:on(t.departure),arrival:on(i.arrival),Pin:rn(e)}})(e),d=s===ia.lj.OneWay;return(0,Y.jsxs)("div",{className:"s__HYabv5g__SaNMYDB9me3",children:[(0,Y.jsx)(na,{type:ra.Origin,pinSlot:t&&!d&&u,primaryTextSlot:(0,Y.jsx)(ua,{type:oa.Primary,children:l.time}),secondaryTextSlot:(0,Y.jsx)(ua,{children:l.city}),tertiaryTextSlot:(0,Y.jsx)(ua,{children:l.date})}),(0,Y.jsx)(Xa,{flights:i,pathListSlot:(0,Y.jsx)(Ta,{flights:i,oneWay:d,showPin:t,isPinDisabled:r,signs:n,maxVisibleTransferIatas:a,onConnectorClick:o})}),(0,Y.jsx)(na,{type:ra.Destination,primaryTextSlot:(0,Y.jsx)(ua,{type:oa.Primary,children:c.time}),secondaryTextSlot:(0,Y.jsx)(ua,{children:c.city}),tertiaryTextSlot:(0,Y.jsx)(ua,{children:c.date})})]})}));ln.displayName="TicketSegment";var cn=i(26929),un=i(84063),dn=i.n(un),pn=i(63360),gn=i.n(pn),mn=i(11151),hn=i.n(mn),fn=i(24036);const kn=(0,s.createEvent)({sid:"dixdp3"}),vn={[fn.D.OneWay]:ia.lj.OneWay,[fn.D.RoundTrip]:ia.lj.RoundTrip,[fn.D.Multiway]:ia.lj.Multiway},{$tripDirection:_n}=o.s.outputs,yn=_n.map((e=>vn[e])),bn=(0,s.combine)({and:[{ticketCollection:R.outputs.$ticketCollection,airports:Oi.Y.outputs.$airports,cities:Oi.Y.outputs.$cities},({ticketCollection:e,airports:t,cities:i})=>Object.values(e).reduce(((e,s)=>{const a=s.segments.map((({flights:e})=>((e,t,i)=>{const s=e=>t[e]?.name?.default||e,a=e=>{const s=t[e]?.cityCode;return i[s]?.name?.default||e};return e.map((e=>{const t=e.technicalStops.map((({airportCode:e})=>({airportCode:e,placeName:s(e),cityName:a(e)}))),i={iata:e.departureAirportIata,date:e.departureDate,time:e.departureTime,transport:e.transport,placeName:s(e.departureAirportIata),cityName:a(e.departureAirportIata),localTimestamp:e.localDepartureTimestamp,timestamp:e.departureTimestamp},n={iata:e.arrivalAirportIata,date:e.arrivalDate,time:e.arrivalTime,transport:e.transport,placeName:s(e.arrivalAirportIata),cityName:a(e.arrivalAirportIata),localTimestamp:e.localArrivalTimestamp,timestamp:e.arrivalTimestamp};return{aircraft:e.aircraft,delay:e.delay,duration:e.duration,number:e.number,operatingCarrier:e.operatingCarrier,airlineId:e.airlineId,equipment:e.equipment,transport:e.transport,technicalStops:t,departure:i,arrival:n,signature:e.signature}}))})(e,t,i)));return e[s.sign]=a,e}),{})],or:{sid:"-m6yyeo"}});(0,s.sample)({and:[{clock:kn,source:{ticketCollection:R.outputs.$ticketCollection},fn:({ticketCollection:e},{flightsSignatures:t,isActive:i})=>{const s=ie()(gn(),hn()("segments"))(e),a=hn()("flights")(s);return{isActive:i,flights:ie()(Pi()((e=>dn()((t=>t.signature===e),a))),ji())(t)}},target:cn.L.inputs.pinnedSegmentsChanged}],or:{sid:"lh57a5"}});const xn={segmentFlightsPinsChangedByUser:kn},Cn={$tripDirectionType:yn,$ticketsSegmentsCollection:bn},wn=(0,ee.memo)((({ticketSign:e,segmentIndex:t})=>{const i=(0,O.useStoreMap)({store:Cn.$ticketsSegmentsCollection,keys:[e,t],defaultValue:null,fn:(e,[t,i])=>e[t]?.[i]??null}),{tripDirectionType:s,segmentFlightsPinsChangedByUserEvent:a,pinnedSegmentsSignatures:n,isSearchExpired:r}=(0,O.useUnit)({tripDirectionType:Cn.$tripDirectionType,pinnedSegmentsSignatures:cn.L.outputs.$pinnedFlightsSignatures,segmentFlightsPinsChangedByUserEvent:xn.segmentFlightsPinsChangedByUser,isSearchExpired:de.N.outputs.$isSearchExpired}),o=(0,ee.useCallback)(((e,t)=>{const i=e.map((({signature:e})=>e));a({flightsSignatures:i,isActive:t})}),[a]);return i?(0,Y.jsx)(ln,{segmentIndex:t,flights:i,pinFlightSigns:n,showPin:!0,isPinDisabled:r,onPinClick:o,tripDirectionType:s,maxVisibleTransferIatas:1/0}):null}));wn.displayName="TicketPreviewDesktopSegmentContainer";const Sn=({ticketSign:e})=>{const t=(0,O.useStoreMap)({store:R.outputs.$ticketCollection,keys:[e],defaultValue:null,fn:(e,[t])=>e[t]??null});return t?(0,Y.jsx)(Y.Fragment,{children:t.segments.map(((t,i)=>(0,Y.jsx)(wn,{ticketSign:e,segmentIndex:i},i)))}):null};var jn=i(59051),Nn=i(94184),Pn=i(55057),Tn=i(83104),Fn=i(26947);const En=({className:e,...t},i)=>(0,Y.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,Y.jsx)("path",{clipRule:"evenodd",d:"M18.214 15.014c-.422.091-.86.139-1.31.139-3.364 0-6.09-2.687-6.09-6.002 0-1.099.3-2.13.824-3.016-2.734.591-4.78 2.991-4.78 5.863 0 3.315 2.727 6.002 6.09 6.002 2.248 0 4.211-1.2 5.267-2.986z"})}),Bn=(0,ee.memo)((0,ee.forwardRef)(En));Bn.displayName="Icon24TicketMoonSmall";const Dn=({className:e,...t},i)=>(0,Y.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,Y.jsx)("path",{clipRule:"evenodd",d:"M9 13h6V7c0-.37-.63-1-1-1h-4c-.37 0-1 .63-1 1v6zm-3-2h2v2H6v-2zm12 0h-2v2h2v-2zM7 18v-4h10v4h-2v-2H9v2H7z"})}),An=(0,ee.memo)((0,ee.forwardRef)(Dn));An.displayName="Icon24TicketChair";const In=({className:e,...t},i)=>(0,Y.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,Y.jsx)("path",{clipRule:"evenodd",d:"M12.458 3.75V6c3.292 0 5.958 2.685 5.958 6a5.976 5.976 0 0 1-.924 3.195L16.405 14.1a4.429 4.429 0 0 0 .521-2.1c0-2.482-2.003-4.5-4.469-4.5v2.25l-2.979-3 2.979-3zM7.073 12c0 2.482 2.003 4.5 4.469 4.5v-2.25l2.979 3-2.979 3V18c-3.292 0-5.958-2.685-5.958-6 0-1.178.343-2.273.924-3.195L7.595 9.9a4.432 4.432 0 0 0-.521 2.1z"})}),$n=(0,ee.memo)((0,ee.forwardRef)(In));$n.displayName="Icon24TicketChange";const Ln=({className:e,...t},i)=>(0,Y.jsx)("svg",{width:24,height:25,viewBox:"0 0 24 25",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,Y.jsx)("path",{clipRule:"evenodd",d:"M18.499 6.71a.886.886 0 0 1-.886 1.535l-.767-.443-2.215 3.836-2.463 4.265a3.048 3.048 0 0 0-4.163 1.116l-1.196-.69 4.872-8.44 2.302 1.329 1.214-2.104a2 2 0 0 1 2.732-.732l.57.329ZM9.76 20.075a1.769 1.769 0 1 0 1.769-3.063 1.769 1.769 0 0 0-1.769 3.063Zm1.147-12.617a2 2 0 0 0-2.528.835l-2.872 4.975a2 2 0 0 0 .54 2.607l4.86-8.417Z"})}),Mn=(0,ee.memo)((0,ee.forwardRef)(Ln));Mn.displayName="Icon24TicketRecheckBaggage";const Un=({className:e,...t},i)=>(0,Y.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,Y.jsx)("path",{clipRule:"evenodd",d:"M8.709 16.558a1 1 0 1 0 1.812.845L11.641 15H17a1 1 0 1 0 0-2h-4.426l.933-2H17a1 1 0 1 0 0-2h-2.56l.73-1.567a1 1 0 0 0-1.812-.845L12.233 9H7a1 1 0 0 0 0 2h4.3l-.932 2H7a1 1 0 0 0 0 2h2.435l-.726 1.558Z"})}),Rn=(0,ee.memo)((0,ee.forwardRef)(Un));Rn.displayName="Icon24TicketDifferentAirport";const Vn=({className:e,...t},i)=>(0,Y.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,Y.jsx)("path",{clipRule:"evenodd",d:"M8 6v3.9h.007L8 9.906l2.667 2.594L8 15.1l.007.007H8V19h8v-3.893h-.007L16 15.1l-2.667-2.6L16 9.906l-.007-.006H16V6H8zm7.013 9.667V18H9v-2.333L12.007 13l3.006 2.667zM15 7H9v1h6V7z"})}),On=(0,ee.memo)((0,ee.forwardRef)(Vn));On.displayName="Icon24TicketTime";var Zn,zn,Hn={icon:"s__Eejxt9VIbDxxf2oNIKGW","color-grey":"s__lInqSezkXxxNd79ir0_s","color-blue":"s__mj6KIpegv6vuSzM2trgI","color-red":"s__afbsrZkmCTK0oyB2F_iT","color-white":"s__tOOl1aveJoEbZM4KqUx_"};!function(e){e.Airplane="airplane",e.Boat="boat",e.Bus="bus",e.Chair="chair",e.Change="change",e.Moon="moon",e.RunningMen="running_men",e.Taxi="taxi",e.Time="time",e.Train="train",e.Visa="visa",e.RecheckBaggage="recheck_baggage",e.DifferentAirport="different_airport"}(Zn||(Zn={})),function(e){e.Grey="grey",e.Blue="blue",e.Red="red",e.White="white"}(zn||(zn={}));const qn={[Zn.Airplane]:Pn.q,[Zn.Boat]:Ia.m,[Zn.Bus]:$a.F,[Zn.RunningMen]:Tn.x,[Zn.Taxi]:Ma.Z,[Zn.Train]:La.Z,[Zn.Visa]:Fn.p,[Zn.Moon]:Bn,[Zn.Chair]:An,[Zn.Change]:$n,[Zn.RecheckBaggage]:Mn,[Zn.DifferentAirport]:Rn,[Zn.Time]:On},Wn=(0,ee.memo)((({type:e,color:t=zn.Grey,className:i})=>{const s=qn[e],a=Nn(Hn.icon,Hn[`color-${t}`],i);return(0,Y.jsx)(s,{className:a})}));var Kn,Gn,Yn;function Xn(e){return e===Gn.Warning?zn.Red:e===Gn.Info?zn.Grey:zn.Blue}Wn.displayName="TicketIcon",function(e){e.Icon="icon",e.Text="text"}(Kn||(Kn={})),(Yn=Gn||(Gn={})).Default="default",Yn.Info="info",Yn.Warning="warning",i(43897);const Jn=H.bind({variables:"s__EoYNtscQzakKX3qGdh4k",tag:"s__swggHgqZlDREZQmjFxHV",type_text:"s__y2dk5p6b51VMb8d4r4Bs","view-type_warning":"s__y9yqJ_Bihas4Ryxa1e5M","view-type_info":"s__CEIJTNAu5WyZBJWYdODb","tooltip-content":"s__j2WL0Z78VuKG8w6dQ3ck"}),Qn=(0,ee.memo)((({type:e,viewType:t,value:i,tooltipTextKey:s})=>{const a=function(e,t,i){const{t:s,i18n:a}=(0,z.useTranslation)("uiKit");return e===Kn.Text&&a.exists(`uiKit:ticket.tags.${t}`)?(0,Y.jsx)(W.x,{type:K.y.CaptionSemi,children:s(`ticket.tags.${t}`)}):e===Kn.Icon?(0,Y.jsx)(Wn,{type:t,color:Xn(i)}):null}(e,i,t),n=function(e){const{t:t,i18n:i}=(0,z.useTranslation)("uiKit");return e&&i.exists(`uiKit:ticket.tags.${e}`)?t(`uiKit:ticket.tags.${e}`):null}(s);return(0,Y.jsx)(Wt.u,{content:(0,Y.jsx)(W.x,{type:K.y.Body3Semi,className:Jn("tooltip-content"),children:n}),disabled:jn(n),width:160,children:(0,Y.jsx)("div",{className:Jn("variables","tag",`type_${e}`,`view-type_${t}`),children:a})})}));Qn.displayName="TicketTag";const er=H.bind({"tag-list":"s__FLEEU2KjFS7d63xLsofM",tag:"s___FCv2ZcP9etfecK5PJJ6"}),tr=(0,ee.memo)((({tags:e})=>(0,Y.jsx)("ul",{className:er("tag-list"),children:e.map((({id:e,type:t,value:i,viewType:s,tooltipTextKey:a})=>(0,Y.jsx)("li",{className:er("tag"),children:(0,Y.jsx)(Qn,{type:t,value:i,viewType:s,tooltipTextKey:a})},e)))})));tr.displayName="TicketTagList";const ir=[{id:"charter",type:Kn.Text,value:"charter",viewType:Gn.Default,tooltipTextKey:"charter"},{id:"all_way_by_train",type:Kn.Icon,value:Zn.Train,viewType:Gn.Default,tooltipTextKey:"all_way_by_train"},{id:"part_way_by_train",type:Kn.Icon,value:Zn.Train,viewType:Gn.Default,tooltipTextKey:"part_way_by_train"},{id:"all_way_by_bus",type:Kn.Icon,value:Zn.Bus,viewType:Gn.Default,tooltipTextKey:"all_way_by_bus"},{id:"part_way_by_bus",type:Kn.Icon,value:Zn.Bus,viewType:Gn.Default,tooltipTextKey:"part_way_by_bus"},{id:"all_way_by_bus_and_train",type:Kn.Icon,value:Zn.Train,viewType:Gn.Default,tooltipTextKey:"all_way_by_bus_and_train"},{id:"part_way_by_bus_and_train",type:Kn.Icon,value:Zn.Train,viewType:Gn.Default,tooltipTextKey:"part_way_by_bus_and_train"},{id:"airport_change",type:Kn.Icon,value:Zn.Change,viewType:Gn.Warning,tooltipTextKey:"airport_change"},{id:"night_transfer",type:Kn.Icon,value:Zn.Moon,viewType:Gn.Warning,tooltipTextKey:"night_transfer"},{id:"long_transfer",type:Kn.Icon,value:Zn.Time,viewType:Gn.Warning,tooltipTextKey:"long_transfer"},{id:"recheck_baggage",type:Kn.Icon,value:Zn.RecheckBaggage,viewType:Gn.Warning,tooltipTextKey:"recheck_baggage"},{id:"airport_different",type:Kn.Icon,value:Zn.DifferentAirport,viewType:Gn.Warning,tooltipTextKey:"airport_different"},{id:"very_short_transfer",type:Kn.Icon,value:Zn.RunningMen,viewType:Gn.Warning,tooltipTextKey:"very_short_transfer"},{id:"short_transfer",type:Kn.Icon,value:Zn.RunningMen,viewType:Gn.Warning,tooltipTextKey:"short_transfer"},{id:"uncomfortable_seats",type:Kn.Icon,value:Zn.Chair,viewType:Gn.Warning,tooltipTextKey:"uncomfortable_seats"},{id:"visa_required",type:Kn.Icon,value:Zn.Visa,viewType:Gn.Warning,tooltipTextKey:"need_visa"}],{$ticketCollection:sr}=R.outputs,{$ticketPreviewDesktopProposalCollection:ar}=nt.outputs,nr=(0,s.combine)({and:[{ticketCollection:sr,ticketPreviewDesktopProposalCollection:ar},({ticketCollection:e,ticketPreviewDesktopProposalCollection:t})=>Object.entries(e).reduce(((e,[i,s])=>{const{selectedProposal:a}=t[i],n=[...s.tags,...a.tags],r=ir.filter((e=>{const t=e.id;return n.includes(t)}));return e[i]=r,e}),{})],or:{sid:"y7dm7n"}}),rr=(0,ee.memo)((({ticketSign:e})=>{const t=(0,O.useStoreMap)({store:nr,keys:[e],defaultValue:null,fn:(e,[t])=>e[t]??null});return t?(0,Y.jsx)(tr,{tags:t}):null}));rr.displayName="TicketPreviewDesktopTagsContainer";const or=(0,ee.memo)((({ticketSign:e})=>{const t=(0,Z.Y3)(e);return(0,Y.jsx)(Xi.gF,{testId:"ticket-preview",badgeSlot:(0,Y.jsx)(Bs,{ticketSign:e}),asideSlot:(0,Y.jsx)(Ts,{ticketSign:e}),carriersSlot:(0,Y.jsx)(Rs,{ticketSign:e}),tagsSlot:(0,Y.jsx)(rr,{ticketSign:e}),controlsSlot:(0,Y.jsx)(Ys,{ticketSign:e}),forbiddenLayoverSlot:(0,Y.jsx)(ta,{ticketSign:e}),segmentsSlot:(0,Y.jsx)(Sn,{ticketSign:e}),onClick:t})}));or.displayName="TicketPreviewDesktopContainer";var lr=i(97650),cr=i(46059);const ur=(0,ee.forwardRef)((({children:e,onEnter:t,onLeave:i,delay:s},a)=>{const[n]=(0,lr.YD)({threshold:1,delay:s,onChange:e=>e?t?.():i?.()});return(0,Y.jsx)("div",{ref:a?(0,cr.l)(n,a):n,children:e})}));ur.displayName="InViewObserver";const{ticketComeIntoView:dr,ticketComeOutOfView:pr,ticketHashChanged:gr,registerReference:mr,unregisterReference:hr}=Me.inputs,{$isOldDesktopPreviewVisible:fr}=Me.outputs,kr=(0,ee.memo)((({ticketSign:e})=>{const t=(0,ee.useRef)(null),{isOldDesktopPreviewVisible:i,registerReferenceEvent:s,unregisterReferenceEvent:a,ticketComeIntoViewEvent:n,ticketComeOutOfViewEvent:r,ticketHashChangedEvent:o}=(0,O.useUnit)({isOldDesktopPreviewVisible:fr,registerReferenceEvent:mr,unregisterReferenceEvent:hr,ticketComeIntoViewEvent:dr,ticketComeOutOfViewEvent:pr,ticketHashChangedEvent:gr}),l=(0,O.useStoreMap)({store:R.outputs.$ticketCollection,keys:[e],fn:(e,[t])=>e[t]?.hashsum});(0,ee.useEffect)((()=>(s({id:e,ref:t}),()=>{a(e)}))),(0,ee.useEffect)((()=>{o(e)}),[e,l,o]);const c=(0,ee.useCallback)((()=>{n(e)}),[e,n]),u=(0,ee.useCallback)((()=>{r(e)}),[e,r]),d=i?or:Yi;return(0,Y.jsx)(ur,{ref:t,onEnter:c,onLeave:u,children:(0,Y.jsx)(d,{ticketSign:e})})}));kr.displayName="TicketPreviewResolverContainer";const vr={SoftTicketsInformerContainer:()=>{const e=(0,Z.pc)(),{variant:t}=(0,O.useUnit)({variant:Q.$variant});return(0,Y.jsx)(J,{layout:e,variant:t})},TicketPreviewResolverContainer:kr},{ticketComeIntoView:_r,ticketComeOutOfView:yr,ticketHashChanged:br}=Me.inputs,{baggageUpsellUpdated:xr}=nt.inputs,Cr={inputs:{...L,baggageUpsellUpdated:xr},outputs:{...M,ticketComeIntoView:_r,ticketComeOutOfView:yr,ticketHashChanged:br},internals:U,containers:vr}},18756:function(e,t,i){"use strict";i.d(t,{T:function(){return de},g:function(){return pe}});var s=i(27183),a=i.n(s),n=i(88846),r=i.n(n),o=i(46898),l=i.n(o),c=i(63360),u=i.n(c),d=i(78085),p=i.n(d),g=i(37453),m=i.n(g),h=i(11151),f=i.n(h),k=i(2982),v=i.n(k),_=i(58809),y=i.n(_),b=i(30494),x=i.n(b),C=i(71479),w=i.n(C),S=i(15886),j=i.n(S);const N=["virtual_interline_domestic","virtual_interline_international"];var P=i(23855);const T=(e,t,i)=>e.flights.map(((e,s)=>((e,t)=>{const i=(0,P.Z)(e.local_arrival_date_time),s=(0,P.Z)(e.local_departure_date_time),a=(i.getTime()-6e4*i.getTimezoneOffset())/1e3,n=(s.getTime()-6e4*s.getTimezoneOffset())/1e3,[r,o]=e.local_departure_date_time.split(" "),[l,c]=e.local_arrival_date_time.split(" ");return{arrivalAirportIata:e.destination,arrivalDate:l,arrivalTime:c,arrivalTimestamp:e.arrival_unix_timestamp,departureAirportIata:e.origin,departureDate:r,departureTime:o,departureTimestamp:e.departure_unix_timestamp,duration:(e.arrival_unix_timestamp-e.departure_unix_timestamp)/60,localArrivalTimestamp:a,localDepartureTimestamp:n,number:e.operating_carrier_designator.number,operatingCarrier:e.operating_carrier_designator.carrier,airlineId:e.operating_carrier_designator.airline_id,aircraft:e.equipment.name,equipment:e.equipment.code,delay:t?.duration||0,technicalStops:e.technical_stops.map((e=>({airportCode:e.airport_code}))),transport:e.equipment.type,signature:e.signature}})(t.flight_legs[e],i[s-1]||null))),F=(e,t)=>e.segments.map(((i,s)=>((e,t,i)=>{const s=((e,t,i)=>e.transfers?e.transfers.map(((s,n)=>((e,t,i,s,n)=>{const r=i.flights[t],o=i.flights[t+1],c=s.flight_legs[r],u=s.flight_legs[o],d=s.places.airports[u.origin],p=l()(a()([],"tags"),j()(N),w()(a()([],"tags",e)))(n);return{arrivalAirline:c.operating_carrier_designator.carrier,arrivalAirport:c.destination,cityCode:d?.city_code,countryCode:s.places.cities?.[d?.city_code]?.country,departureAirline:u.operating_carrier_designator.carrier,departureAirport:u.origin,duration:Math.round((u.departure_unix_timestamp-c.arrival_unix_timestamp)/60),recheckBaggage:e.recheck_baggage,tags:p,visaRules:{...e.visa_rules}}})(s,n,e,t,i?.[n]))):[])(e,t,i);return{flights:T(e,t,s),transfers:s}})(i,t,e.proposals[0].transfer_terms[s])));var E=i(44236),B=i.n(E),D=i(66415),A=i.n(D);const I=e=>A()("index",e.map((e=>({proposalId:e.proposal_id,index:e.index}))));i(26699);var $=i(77606),L=i.n($);i(9669),i(2568);const M=e=>{if(!e)return null;const{count:t,weight:i,height:s,length:a,width:n,sum_dimension:r}=e,o={count:t};return i&&(o.weight=i),s&&a&&n&&(o.dimensions=`${s}x${n}x${a}`),r&&(o.sumDimension=r),o};var U=i(36519),R=i(21160),V=i(61653);const O=e=>({[U.F.Baggage]:M(e[U.F.Baggage]),[U.F.Handbags]:M(e[U.F.Handbags])}),Z=e=>e?e.count?e.weight?e.weight*e.count:e.dimensions?e.count-.1:e.count:-1:0,z=(e,t)=>Z(e)<Z(t)?e:t;var H=i(49546),q=i.n(H);const W=e=>{if(!e)return null;const{width:t,length:i,height:s,weight:a,sum_dimension:n,count:r}=e;return{count:r,weight:a,dimensions:q()(s)&&q()(i)&&q()(t)?`${s}x${t}x${i}`:void 0,sumDimension:n}},K=e=>{const{code:t,baggage:i,handbags:s,change_before_flight:a,change_after_flight:n,return_before_flight:r,return_after_flight:o}=e;return{code:t,baggage:W(i),handbags:W(s),changeBeforeFlight:a,changeAfterFlight:n,returnBeforeFlight:r,returnAfterFlight:o}},G=e=>({carrier:e.carrier,airlineId:e.airline_id,number:e.number}),Y=e=>({isVirtualInterline:e.is_virtual_interline,tags:e.tags}),X=e=>({available:e.available,penaltyCurrencyCode:e.penalty_currency_code,penaltyValue:e.penalty_value}),J=e=>{if(e)return{isFromConfig:M(e.is_from_config),mismatch:M(e.mismatch)}},Q=e=>{if(e)return{isFromConfig:X(e.is_from_config),mismatch:X(e.mismatch)}},ee=e=>{if(e)return{baggage:J(e.baggage),handbags:J(e.handbags),changeAfterFlight:Q(e.change_after_flight),changeBeforeFlight:Q(e.change_before_flight),returnAfterFlight:Q(e.return_after_flight),returnBeforeFlight:Q(e.return_before_flight),seatAtPurchase:Q(e.seat_at_purchase),seatAtRegistration:Q(e.seat_at_registration)}},te=e=>{if(e)return{currencyCode:e.currency_code,value:e.value}},ie=e=>{if(e)return{available:e.available,penalty:te(e.penalty),isFromConfig:e.is_from_config}},se=e=>{if(e)return{changeAfterFlight:ie(e.change_after_flight),changeBeforeFlight:ie(e.change_before_flight),returnAfterFlight:ie(e.return_after_flight),returnBeforeFlight:ie(e.return_before_flight)}},ae=(e,t)=>({fareCode:e.fare_code,tripClass:e.trip_class,marketingCarrierDesignator:G(e.marketing_carrier_designator||t.operating_carrier_designator),baggage:M(e.baggage),handbags:M(e.handbags),isCharter:e.is_charter,tags:e.tags,seatsAvailable:e.seats_available,additionalTariffInfo:se(e.additional_tariff_info),mergedTermsInfo:ee(e.merged_terms_info)}),ne=({commonDeeplinkParams:e,ticket:t,proposalDto:i,ticketDto:s,chunkDto:a,downgradedAgents:n,debugByAgents:o,currency:l,passengers:c})=>{const{lang:u,brand:d,market:p,searchId:g,resultsHostUrl:m,currencyRates:h,marker:f,baseSearchUrl:k}=e,v=[],_=[];let y,b={};const x=(({ticket:e,chunkDto:t,lang:i})=>{const s=e.segments[0],a=s.flights.length,n=s.flights[0],r=s.flights[a-1],{airports:o}=t.places,l=o[n?.departureAirportIata]?.name,c=o[r?.arrivalAirportIata]?.name;return{departureCity:l?(0,R.j)(l,i):"",arrivalCity:c?(0,R.j)(c,i):"",departDateTimestamp:n?.departureTimestamp??0,returnDateTimestamp:r?.arrivalTimestamp??0}})({ticket:t,chunkDto:a,lang:u});for(let e=0;e<s.segments.length;e+=1){const t=s.segments[e],n=[],r=i.transfer_terms[e]?.map(Y);for(let s=0;s<t.flights.length;s+=1){const r=t.flights[s],o=i.flight_terms[r],l=a.flight_legs[r],c=o.seats_available,u=O(o);0===e&&0===s&&(b=u),b={[U.F.Baggage]:z(b[U.F.Baggage],u[U.F.Baggage]),[U.F.Handbags]:z(b[U.F.Handbags],u[U.F.Handbags])},c&&(!y||y>c)&&(y=c);const d=ae(o,l);n.push(d)}v.push(n),_.push(r)}const C=((e,t,i,s)=>{if(!s)return null;const a=((e,t)=>{const i=e[t.agent_id];if(i&&!L()(i.proposals)){const e=i.proposals[t.id];if(!L()(e))return{gateName:i.gateName,proposalDebugInfo:i.proposals[t.id]}}})(s,e);if(!a)return null;const{proposalDebugInfo:n,gateName:o}=a,l=r()((e=>((e,t,i)=>{const{flights:s}=e;return s.map((e=>{const s=t.flight_legs[e],a=i.flight_terms[e];return{operatingCarrierDesignator:G(s.operating_carrier_designator),equipment:s.equipment,technicalStops:(n=s.technical_stops,n.map((({airport_code:e})=>({airportCode:e})))),baggageSource:a?.baggage_source??"",handbagsSource:a?.handbags_source??""};var n}))})(e,i,n)),t.segments);return{gateName:o,productivity:n.productivity,multiplier:n.multiplier,flightInfo:l,agencyPrice:{currencyCode:n.agency_price.currency_code,value:n.agency_price.value}}})(i,s,a,o),w=Math.ceil(i.unified_price.value),S=i.agent_id,j=a.agents[i.agent_id],N=(0,R.j)(j.label,u,String(S)),P=j.airline_iatas?.[0],T={agentId:S,agentLabel:N,agentMainAirlineIata:P,assisted:a.agents[i.agent_id].assisted,badPartner:n?.includes(S),cashback:i.cashback?.localized_amount?.value,cashbackPerPerson:i.cashback_per_person?.localized_amount?.value,currency:i.price.currency_code.toLowerCase(),debugInfo:C,flightTerms:v,fromMainAirline:i.from_main_airline,id:i.id,minimumFare:K(i.minimum_fare),price:i.price.value,pricePerPerson:i.price_per_person.value,searchPrice:w,seatsAvailable:y,tags:i.tags||[],transferTerms:_,unifiedPrice:w,weight:i.weight,worstBags:b,acceptedCards:i.accepted_cards,adLabel:i.ad_label},F=T.assisted&&t&&f?(0,V.qp)({agentLabel:N,ticket:t,proposal:T,unifiedPrice:T?.unifiedPrice,currencyRates:h,currentCurrency:l,marker:f,searchId:g,baseSearchUrl:k}):"",E=(0,V.A)({assistedFallback:F,lang:u,brand:d,market:p,searchId:g,resultsHostUrl:m,proposalId:i.id,agentId:S,agentLabel:N,isAssisted:T.assisted,isCharter:T.tags.includes("charter"),currency:T.currency,marker:f,passengers:c,priceValue:i.price.value,destination:{departureCity:x.departureCity,arrivalCity:x.arrivalCity},departDateTimestamp:x.departDateTimestamp,returnDateTimestamp:x.returnDateTimestamp});return{...T,deeplink:E}},re=({commonDeeplinkParams:e,ticket:t,ticketDto:i,chunkDto:s,downgradedAgents:a,debugByAgents:n,currency:r,passengers:o})=>i.proposals.map((l=>ne({commonDeeplinkParams:e,ticket:t,proposalDto:l,ticketDto:i,chunkDto:s,downgradedAgents:a,debugByAgents:n,currency:r,passengers:o}))),oe=(e,t)=>{const i=((e,t)=>{const i=e.segments.flatMap((e=>e.flights.map((e=>t.flight_legs[e].operating_carrier_designator.airline_id))));return B()(i)})(e,t),s=F(e,t),[a]=e.proposals;return{segments:s,carriers:i,id:e.id,hashsum:e.hashsum,sign:e.signature,tags:e.tags||[],badges:e.badges||[],debug:{agentId:a.agent_id,popularity:e.popularity},extraFares:(n=e.extra_fares,x()(I,n)),score:e.score,position:e.position??null};var n},le=({commonDeeplinkParams:e,chunkDto:t,ticketDto:i,downgradedAgents:s,debugByAgents:a,currency:n,passengers:o})=>{if(!i)return{ticket:null,proposalIds:[],proposalCollection:{}};const l=oe(i,t),c=re({commonDeeplinkParams:e,ticket:l,ticketDto:i,chunkDto:t,downgradedAgents:s,debugByAgents:a,currency:n,passengers:o});return{ticket:l,proposalIds:r()("id",c),proposalCollection:y()("id",c)}},ce=({commonDeeplinkParams:e,chunkDto:t,ticketsDto:i,downgradedAgents:s,debugByAgents:a,currency:n,passengers:o})=>{const c=i.map((e=>oe(e,t))),u=y()("sign",c),d=l()([f()((i=>{const r=u[i.signature];return re({commonDeeplinkParams:e,ticket:r,ticketDto:i,chunkDto:t,downgradedAgents:s,debugByAgents:a,currency:n,passengers:o})})),y()("id")])(i),p=l()([r()((({signature:e,proposals:t})=>[e,t])),v(),x()(r()("id"))])(i);return{ticketCollection:u,proposalCollection:d,ticketProposalCollection:p}},ue=(e,t)=>e.filter((e=>e.hashsum!==t?.[e.signature]?.hashsum)),de=({commonDeeplinkParams:e,chunkDto:t,localTicketCollection:i,localProposalCollection:s,localTicketProposalCollection:n,downgradedAgents:o,currency:c,passengers:d,isTicketDirectScheduleV2FeatureEnabled:g})=>{const h=a()([],["tickets"],t),f=a()([],["soft_tickets","tickets"],t),k=r()("signature",h),v=r()("signature",f),_=(g?t?.direct_flights_v2:t?.direct_flights)?.map((e=>e.cheapest_ticket)),y=ue(h,i),b=ue(f,i),x=ue(_,i),C={commonDeeplinkParams:e,chunkDto:t,currency:c,downgradedAgents:o,debugByAgents:(T=t?.debug_info?.gates,T?l()([u(),p()(((e,t)=>{const{name:i}=t,s=((e,t)=>l()([m(),p()(((e,i)=>{const[s,a]=i,n=Number(s);return{[n]:{id:n,gateName:t,...a},...e}}),{})])(e))(t.agents,i);return{...s,...e}}),{})])(T):null),passengers:d},w=le({...C,ticketDto:t.filtered_cheapest_ticket}),S=le({...C,ticketDto:t.cheapest_ticket}),{ticketCollection:j,proposalCollection:N,ticketProposalCollection:P}=ce({...C,ticketsDto:[...y,...b,...x]});var T;return{ticketSignatures:k,softTicketSignatures:v,cheapestTicket:S.ticket,cheapestTicketProposalIds:S.proposalIds,filteredCheapestTicket:w.ticket,filteredCheapestTicketProposalIds:w.proposalIds,ticketCollection:{...i,...j},proposalCollection:{...s,...N,...w.proposalCollection},ticketProposalCollection:{...n,...P}}},pe=({commonDeeplinkParams:e,chunkDto:t,localTicketSignatures:i,localTicketCollection:s,localProposalCollection:n,localTicketProposalCollection:r,currency:o,directScheduleTicketSign:l,passengers:c})=>{const u=a()([],["tickets"],t).find((e=>e.signature===l));if(!u)return{ticketSignatures:i,ticketCollection:s,proposalCollection:n,ticketProposalCollection:r};const{ticketCollection:d,proposalCollection:p,ticketProposalCollection:g}=ce({commonDeeplinkParams:e,chunkDto:t,currency:o,debugByAgents:null,ticketsDto:[u],passengers:c});return{ticketSignatures:[...i,l],ticketCollection:{...s,...d},proposalCollection:{...n,...p},ticketProposalCollection:{...r,...g}}}},93645:function(e,t,i){"use strict";i.d(t,{u:function(){return a}});var s={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function a(e){return e?s[e]:s.trunc}},36948:function(e,t,i){"use strict";i.d(t,{vh:function(){return a},yJ:function(){return s}}),Math.pow(10,8);var s=6e4,a=36e5},59910:function(e,t,i){"use strict";i.d(t,{Z:function(){return n}});var s=i(19013),a=i(13882);function n(e,t){return(0,a.Z)(2,arguments),(0,s.Z)(e).getTime()-(0,s.Z)(t).getTime()}},60792:function(e,t,i){"use strict";i.d(t,{Z:function(){return n}});var s=i(19013),a=i(13882);function n(e,t){(0,a.Z)(2,arguments);var i=(0,s.Z)(e),n=(0,s.Z)(t);return i.getFullYear()===n.getFullYear()}},23855:function(e,t,i){"use strict";i.d(t,{Z:function(){return r}});var s=i(36948),a=i(13882),n=i(83946);function r(e,t){(0,a.Z)(1,arguments);var i=t||{},s=null==i.additionalDigits?2:(0,n.Z)(i.additionalDigits);if(2!==s&&1!==s&&0!==s)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var r,o=d(e);if(o.date){var l=p(o.date,s);r=g(l.restDateString,l.year)}if(!r||isNaN(r.getTime()))return new Date(NaN);var c,u=r.getTime(),m=0;if(o.time&&(m=h(o.time),isNaN(m)))return new Date(NaN);if(!o.timezone){var f=new Date(u+m),v=new Date(0);return v.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),v.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),v}return c=k(o.timezone),isNaN(c)?new Date(NaN):new Date(u+m+c)}var o={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},l=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,c=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,u=/^([+-])(\d{2})(?::?(\d{2}))?$/;function d(e){var t,i={},s=e.split(o.dateTimeDelimiter);if(s.length>2)return i;if(/:/.test(s[0])?t=s[0]:(i.date=s[0],t=s[1],o.timeZoneDelimiter.test(i.date)&&(i.date=e.split(o.timeZoneDelimiter)[0],t=e.substr(i.date.length,e.length))),t){var a=o.timezone.exec(t);a?(i.time=t.replace(a[1],""),i.timezone=a[1]):i.time=t}return i}function p(e,t){var i=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(i);if(!s)return{year:NaN,restDateString:""};var a=s[1]?parseInt(s[1]):null,n=s[2]?parseInt(s[2]):null;return{year:null===n?a:100*n,restDateString:e.slice((s[1]||s[2]).length)}}function g(e,t){if(null===t)return new Date(NaN);var i=e.match(l);if(!i)return new Date(NaN);var s=!!i[4],a=m(i[1]),n=m(i[2])-1,r=m(i[3]),o=m(i[4]),c=m(i[5])-1;if(s)return function(e,t,i){return t>=1&&t<=53&&i>=0&&i<=6}(0,o,c)?function(e,t,i){var s=new Date(0);s.setUTCFullYear(e,0,4);var a=7*(t-1)+i+1-(s.getUTCDay()||7);return s.setUTCDate(s.getUTCDate()+a),s}(t,o,c):new Date(NaN);var u=new Date(0);return function(e,t,i){return t>=0&&t<=11&&i>=1&&i<=(v[t]||(_(e)?29:28))}(t,n,r)&&function(e,t){return t>=1&&t<=(_(e)?366:365)}(t,a)?(u.setUTCFullYear(t,n,Math.max(a,r)),u):new Date(NaN)}function m(e){return e?parseInt(e):1}function h(e){var t=e.match(c);if(!t)return NaN;var i=f(t[1]),a=f(t[2]),n=f(t[3]);return function(e,t,i){return 24===e?0===t&&0===i:i>=0&&i<60&&t>=0&&t<60&&e>=0&&e<25}(i,a,n)?i*s.vh+a*s.yJ+1e3*n:NaN}function f(e){return e&&parseFloat(e.replace(",","."))||0}function k(e){if("Z"===e)return 0;var t=e.match(u);if(!t)return 0;var i="+"===t[1]?-1:1,a=parseInt(t[2]),n=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,n)?i*(a*s.vh+n*s.yJ):NaN}var v=[31,null,31,30,31,30,31,31,30,31,30,31];function _(e){return e%400==0||e%4==0&&e%100!=0}},66193:function(e){e.exports=function(e,t){for(var i=-1,s=null==e?0:e.length;++i<s;)if(!t(e[i],i,e))return!1;return!0}},48983:function(e,t,i){var s=i(40371)("length");e.exports=s},26484:function(e,t,i){var s=i(27361);e.exports=function(e,t){for(var i=-1,a=t.length,n=Array(a),r=null==e;++i<a;)n[i]=r?void 0:s(e,t[i]);return n}},93239:function(e,t,i){var s=i(89881);e.exports=function(e,t){var i=!0;return s(e,(function(e,s,a){return i=!!t(e,s,a)})),i}},15600:function(e){var t=Math.max,i=Math.min;e.exports=function(e,s,a){return e>=i(s,a)&&e<t(s,a)}},40098:function(e){var t=Math.ceil,i=Math.max;e.exports=function(e,s,a,n){for(var r=-1,o=i(t((s-e)/(a||1)),0),l=Array(o);o--;)l[n?o:++r]=e,e+=a;return l}},47415:function(e,t,i){var s=i(29932);e.exports=function(e,t){return s(t,(function(t){return e[t]}))}},67740:function(e,t,i){var s=i(67206),a=i(98612),n=i(3674);e.exports=function(e){return function(t,i,r){var o=Object(t);if(!a(t)){var l=s(i,3);t=n(t),i=function(e){return l(o[e],e,o)}}var c=e(t,i,r);return c>-1?o[l?t[c]:c]:void 0}}},47445:function(e,t,i){var s=i(40098),a=i(16612),n=i(18601);e.exports=function(e){return function(t,i,r){return r&&"number"!=typeof r&&a(t,i,r)&&(i=r=void 0),t=n(t),void 0===i?(i=t,t=0):i=n(i),r=void 0===r?t<i?1:-1:n(r),s(t,i,r,e)}}},88016:function(e,t,i){var s=i(48983),a=i(62689),n=i(21903);e.exports=function(e){return a(e)?n(e):s(e)}},21903:function(e){var t="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",s="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",n="[\\ud800-\\udbff][\\udc00-\\udfff]",r="(?:"+t+"|"+i+")?",o="[\\ufe0e\\ufe0f]?",l=o+r+"(?:\\u200d(?:"+[s,a,n].join("|")+")"+o+r+")*",c="(?:"+[s+t+"?",t,a,n,"[\\ud800-\\udfff]"].join("|")+")",u=RegExp(i+"(?="+i+")|"+c+l,"g");e.exports=function(e){for(var t=u.lastIndex=0;u.test(e);)++t;return t}},38914:function(e,t,i){var s=i(26484),a=i(99021)(s);e.exports=a},711:function(e,t,i){var s=i(66193),a=i(93239),n=i(67206),r=i(1469),o=i(16612);e.exports=function(e,t,i){var l=r(e)?s:a;return i&&o(e,t,i)&&(t=void 0),l(e,n(t,3))}},13311:function(e,t,i){var s=i(67740)(i(30998));e.exports=s},30998:function(e,t,i){var s=i(41848),a=i(67206),n=i(40554),r=Math.max;e.exports=function(e,t,i){var o=null==e?0:e.length;if(!o)return-1;var l=null==i?0:n(i);return l<0&&(l=r(o+l,0)),s(e,a(t,3),l)}},94654:function(e,t,i){var s=i(21078),a=i(35161);e.exports=function(e,t){return s(a(e,t),1)}},51359:function(e,t,i){var s=i(92822)("at",i(38914));s.placeholder=i(69306),e.exports=s},22427:function(e,t,i){var s=i(92822)("every",i(711));s.placeholder=i(69306),e.exports=s},84063:function(e,t,i){var s=i(92822)("find",i(13311));s.placeholder=i(69306),e.exports=s},11151:function(e,t,i){var s=i(92822)("flatMap",i(94654));s.placeholder=i(69306),e.exports=s},2982:function(e,t,i){var s=i(92822)("fromPairs",i(17204));s.placeholder=i(69306),e.exports=s},86251:function(e,t,i){var s=i(92822)("inRange",i(94174));s.placeholder=i(69306),e.exports=s},26094:function(e,t,i){var s=i(92822)("includes",i(64721));s.placeholder=i(69306),e.exports=s},63772:function(e,t,i){var s=i(92822)("isUndefined",i(52353),i(69087));s.placeholder=i(69306),e.exports=s},30494:function(e,t,i){var s=i(92822)("mapValues",i(66604));s.placeholder=i(69306),e.exports=s},43897:function(e,t,i){i(27183)},31736:function(e,t,i){var s=i(92822)("pickBy",i(35937));s.placeholder=i(69306),e.exports=s},77620:function(e,t,i){var s=i(92822)("range",i(96026));s.placeholder=i(69306),e.exports=s},55606:function(e,t,i){var s=i(92822)("size",i(84238),i(69087));s.placeholder=i(69306),e.exports=s},99730:function(e,t,i){var s=i(92822)("sum",i(12297),i(69087));s.placeholder=i(69306),e.exports=s},71479:function(e,t,i){var s=i(92822)("union",i(93386));s.placeholder=i(69306),e.exports=s},83049:function(e,t,i){var s=i(92822)("uniqBy",i(45578));s.placeholder=i(69306),e.exports=s},63360:function(e,t,i){var s=i(92822)("values",i(52628),i(69087));s.placeholder=i(69306),e.exports=s},17204:function(e){e.exports=function(e){for(var t=-1,i=null==e?0:e.length,s={};++t<i;){var a=e[t];s[a[0]]=a[1]}return s}},94174:function(e,t,i){var s=i(15600),a=i(18601),n=i(14841);e.exports=function(e,t,i){return t=a(t),void 0===i?(i=t,t=0):i=a(i),e=n(e),s(e,t,i)}},64721:function(e,t,i){var s=i(42118),a=i(98612),n=i(47037),r=i(40554),o=i(52628),l=Math.max;e.exports=function(e,t,i,c){e=a(e)?e:o(e),i=i&&!c?r(i):0;var u=e.length;return i<0&&(i=l(u+i,0)),n(e)?i<=u&&e.indexOf(t,i)>-1:!!u&&s(e,t,i)>-1}},96026:function(e,t,i){var s=i(47445)();e.exports=s},84238:function(e,t,i){var s=i(280),a=i(64160),n=i(98612),r=i(47037),o=i(88016);e.exports=function(e){if(null==e)return 0;if(n(e))return r(e)?o(e):e.length;var t=a(e);return"[object Map]"==t||"[object Set]"==t?e.size:s(e).length}},12297:function(e,t,i){var s=i(67762),a=i(6557);e.exports=function(e){return e&&e.length?s(e,a):0}},93386:function(e,t,i){var s=i(21078),a=i(5976),n=i(45652),r=i(29246),o=a((function(e){return n(s(e,1,r,!0))}));e.exports=o},45578:function(e,t,i){var s=i(67206),a=i(45652);e.exports=function(e,t){return e&&e.length?a(e,s(t,2)):[]}},52628:function(e,t,i){var s=i(47415),a=i(3674);e.exports=function(e){return null==e?[]:s(e,a(e))}},31438:function(e,t,i){"use strict";var s;i.d(t,{S:function(){return s}}),function(e){e.Inited="INITED",e.Started="STARTED",e.Shown="SHOWN",e.Finished="FINISHED",e.Expired="EXPIRED",e.Failed="FAILED"}(s||(s={}))},21160:function(e,t,i){"use strict";i.d(t,{j:function(){return s}});const s=(e,t="ru",i="unknown",s="default")=>e?e[t]?.[s]??i:i},36519:function(e,t,i){"use strict";var s;i.d(t,{F:function(){return s}}),function(e){e.Baggage="baggage",e.Handbags="handbags"}(s||(s={}))},37046:function(e,t,i){"use strict";i.d(t,{r:function(){return r}});var s=i(85893),a=i(67294);const n=({className:e,...t},i)=>(0,s.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:[(0,s.jsxs)("g",{clipPath:"url(#EmojiFaceSmile__a)",children:[(0,s.jsx)("path",{d:"M12 23.25c6.213 0 11.25-5.037 11.25-11.25S18.213.75 12 .75.75 5.787.75 12 5.787 23.25 12 23.25Z",fill:"url(#EmojiFaceSmile__b)"}),(0,s.jsx)("path",{d:"M5.321 17.299a4.125 4.125 0 1 0 0-8.25 4.125 4.125 0 0 0 0 8.25Z",fill:"url(#EmojiFaceSmile__c)"}),(0,s.jsx)("path",{d:"M18.679 17.299a4.125 4.125 0 1 0 0-8.25 4.125 4.125 0 0 0 0 8.25Z",fill:"url(#EmojiFaceSmile__d)"}),(0,s.jsx)("path",{d:"M16.695 13.92c-2.861 2.186-6.536 2.182-9.394 0-.405-.307-.649.026-.517.289 2.193 4.451 8.235 4.451 10.428 0 .132-.263-.108-.596-.517-.289ZM5.903 10.162c1.6-2.07 2.722-2.07 4.323 0 .244.312.739.08.638-.225-1.361-4.004-4.238-4.004-5.599 0-.105.308.394.54.638.226ZM13.777 10.162c1.602-2.07 2.723-2.07 4.324 0 .244.312.739.08.638-.225-1.361-4.004-4.238-4.004-5.599 0-.105.308.394.54.637.226Z",fill:"#1A1626"}),(0,s.jsx)("path",{d:"M12 .75C5.786.75.75 5.786.75 12h22.5C23.25 5.786 18.214.75 12 .75Z",fill:"url(#EmojiFaceSmile__e)"}),(0,s.jsx)("path",{d:"M24 3.75c0-1.658-5.374-3-12-3s-12 1.342-12 3c0 .72 1.02 1.384 2.719 1.901.217-.315.45-.622.697-.915-.738-.24-1.166-.51-1.166-.798 0-.93 4.365-1.688 9.75-1.688s9.75.757 9.75 1.688c0 .288-.427.558-1.166.798.247.293.48.6.697.915C22.98 5.134 24 4.47 24 3.75Z",fill:"url(#EmojiFaceSmile__f)"})]}),(0,s.jsxs)("defs",{children:[(0,s.jsxs)("linearGradient",{id:"EmojiFaceSmile__b",x1:12,y1:23.25,x2:12,y2:.75,gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{stopColor:"#FF9500"}),(0,s.jsx)("stop",{offset:.192,stopColor:"#FFAD00"}),(0,s.jsx)("stop",{offset:.545,stopColor:"#FFD500"}),(0,s.jsx)("stop",{offset:.827,stopColor:"#FFED00"}),(0,s.jsx)("stop",{offset:1,stopColor:"#FFF600"})]}),(0,s.jsxs)("radialGradient",{id:"EmojiFaceSmile__c",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(5.321 13.173) scale(4.125)",children:[(0,s.jsx)("stop",{stopColor:"#FF6399",stopOpacity:.55}),(0,s.jsx)("stop",{offset:.202,stopColor:"#FF6596",stopOpacity:.439}),(0,s.jsx)("stop",{offset:.365,stopColor:"#FF6C8C",stopOpacity:.349}),(0,s.jsx)("stop",{offset:.513,stopColor:"#FF767B",stopOpacity:.268}),(0,s.jsx)("stop",{offset:.654,stopColor:"#FF8663",stopOpacity:.19}),(0,s.jsx)("stop",{offset:.789,stopColor:"#FF9A44",stopOpacity:.116}),(0,s.jsx)("stop",{offset:.917,stopColor:"#FFB21F",stopOpacity:.045}),(0,s.jsx)("stop",{offset:1,stopColor:"#FFC403",stopOpacity:0})]}),(0,s.jsxs)("radialGradient",{id:"EmojiFaceSmile__d",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.679 13.173) scale(4.125)",children:[(0,s.jsx)("stop",{stopColor:"#FF6399",stopOpacity:.55}),(0,s.jsx)("stop",{offset:.202,stopColor:"#FF6596",stopOpacity:.439}),(0,s.jsx)("stop",{offset:.365,stopColor:"#FF6C8C",stopOpacity:.349}),(0,s.jsx)("stop",{offset:.513,stopColor:"#FF767B",stopOpacity:.268}),(0,s.jsx)("stop",{offset:.654,stopColor:"#FF8663",stopOpacity:.19}),(0,s.jsx)("stop",{offset:.789,stopColor:"#FF9A44",stopOpacity:.116}),(0,s.jsx)("stop",{offset:.917,stopColor:"#FFB21F",stopOpacity:.045}),(0,s.jsx)("stop",{offset:1,stopColor:"#FFC403",stopOpacity:0})]}),(0,s.jsxs)("linearGradient",{id:"EmojiFaceSmile__e",x1:12,y1:12,x2:12,y2:.75,gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{offset:.642,stopColor:"#FFE81A",stopOpacity:0}),(0,s.jsx)("stop",{offset:.879,stopColor:"#FF9500"})]}),(0,s.jsxs)("linearGradient",{id:"EmojiFaceSmile__f",x1:12,y1:6.75,x2:12,y2:.75,gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{offset:.012,stopColor:"#0174C7"}),(0,s.jsx)("stop",{offset:.812,stopColor:"#00D0FF"})]}),(0,s.jsx)("clipPath",{id:"EmojiFaceSmile__a",children:(0,s.jsx)("path",{fill:"#fff",d:"M0 0h24v24H0z"})})]})]}),r=(0,a.memo)((0,a.forwardRef)(n));r.displayName="EmojiFaceSmile"},92826:function(e,t,i){"use strict";i.d(t,{M:function(){return r}});var s=i(85893),a=i(67294);const n=({className:e,...t},i)=>(0,s.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:[(0,s.jsx)("path",{d:"M12 23.25c6.213 0 11.25-5.037 11.25-11.25S18.213.75 12 .75.75 5.787.75 12 5.787 23.25 12 23.25Z",fill:"url(#EmojiThinkingFaceDown__a)"}),(0,s.jsx)("path",{d:"M13.329 15.954c-1.7-.3-3.968.203-5.055 1.02-.278.206-.15.439.075.386 1.166-.266 3.202-.266 4.83-.022.622.09.802-1.268.15-1.384Z",fill:"#1A1626"}),(0,s.jsx)("path",{d:"M6.45 23.332c-3.757.78-5.407-2.348-4.301-5.13.397-.994-.645-2.475.446-3.053 1.125-.592 2.175.297 2.213 2.236.997-.203 2.355-.968 3.213-.912.47.03 2.112.698 2.652.735 1.856.124 1.792 2.269-.597 2.04.038.326-.112.912-.457 1.249.15.379.172.941-.353 1.448.21 1.316-1.586 2.092-2.816 1.387Z",fill:"#fff"}),(0,s.jsx)("path",{d:"M6.367 23.613c-4.02.859-5.595-2.677-4.537-5.306.435-1.088-.72-2.783.45-3.416 1.2-.653 2.696.052 2.734 2.186 1.068-.225 2.238-.99 3.157-.93.503.034 2.261.806 2.839.847 1.984.135 1.83 2.663-.724 2.412.041.36-.034.787-.405 1.162.161.416.184 1.035-.375 1.59.214 1.44-1.826 2.231-3.139 1.455Zm.743-1.001-.446.457c1.837.822 3.123-1.106 1.18-1.811.548.023.946.229 1.137.379.57-.791.506-1.305-.622-1.992.768.158 1.053.503 1.053.503.56-.997.233-1.418-.79-1.939.76.049 1.237.447 1.698.555 1.155.27 1.654-1.128.69-1.192-1.185-.079-2.321-.803-3.019-.746-.997.078-1.579.648-3.757 1.24.1-1.93-.447-2.917-1.403-2.624-.829.251.199 1.402-.315 2.921-1.147 3.398 1.508 5.663 4.594 4.249Z",fill:"#99A8AE"}),(0,s.jsx)("path",{d:"M14.181 8.984c.827.012 1.485.864 1.47 1.9-.014 1.036-.699 1.865-1.53 1.85-.83-.012-1.485-.865-1.47-1.897.018-1.037.7-1.865 1.53-1.853Z",fill:"#1A1626"}),(0,s.jsx)("path",{d:"M14.593 5.334c-2.778-.402-3.44 1.81-1.39 1.856 3.627.08 5.614-1.247 1.39-1.856Z",fill:"#D69600"}),(0,s.jsx)("path",{d:"M6.572 10.056c.814-.145 1.623.565 1.806 1.585.184 1.02-.33 1.964-1.15 2.107-.817.147-1.622-.565-1.804-1.581-.18-1.022.334-1.966 1.148-2.111Z",fill:"#1A1626"}),(0,s.jsx)("path",{d:"M6 7.333c-4.26-.207-2.566 1.475 1.012 2.09C9.03 9.769 8.802 7.47 6 7.333Z",fill:"#D69600"}),(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{id:"EmojiThinkingFaceDown__a",x1:12,y1:23.25,x2:12,y2:.75,gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{stopColor:"#FF9500"}),(0,s.jsx)("stop",{offset:.192,stopColor:"#FFAD00"}),(0,s.jsx)("stop",{offset:.545,stopColor:"#FFD500"}),(0,s.jsx)("stop",{offset:.827,stopColor:"#FFED00"}),(0,s.jsx)("stop",{offset:1,stopColor:"#FFF600"})]})})]}),r=(0,a.memo)((0,a.forwardRef)(n));r.displayName="EmojiThinkingFaceDown"},55170:function(e,t,i){"use strict";i.d(t,{W:function(){return r}});var s=i(85893),a=i(67294);const n=({className:e,...t},i)=>(0,s.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:[(0,s.jsx)("path",{d:"M5.256 3.573C6.161 2.065 6.614 1.311 7.2 1.055a2 2 0 0 1 1.602 0c.586.256 1.038 1.01 1.943 2.518l3.348 5.58c.952 1.587 1.428 2.38 1.367 3.033a2 2 0 0 1-.807 1.426c-.529.388-1.454.388-3.303.388H4.651c-1.85 0-2.775 0-3.303-.388a2 2 0 0 1-.808-1.426c-.06-.653.415-1.446 1.367-3.032l3.348-5.58Z",fill:"#FFCA00"}),(0,s.jsx)("path",{d:"M8.75 8.5v-4h-1.5v4h1.5ZM8 12a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",fill:"#000"})]}),r=(0,a.memo)((0,a.forwardRef)(n));r.displayName="Icon16ColorWarning"},11556:function(e,t,i){"use strict";i.d(t,{g:function(){return r}});var s=i(85893),a=i(67294);const n=({className:e,...t},i)=>(0,s.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,s.jsx)("path",{d:"m13.194 6.417-2.629 3.155.191 1.084a3 3 0 0 1-.833 2.643l-.7.7-3.081-3.08L3 14l-1-1 3.081-3.141L2 6.778l.701-.702a3 3 0 0 1 2.643-.833l1.084.192 3.155-2.63-.722-.722L9.944 1 15 6.056l-1.083 1.083-.723-.722Z"})}),r=(0,a.memo)((0,a.forwardRef)(n));r.displayName="Icon16ControlsPin"},75124:function(e,t,i){"use strict";i.d(t,{I:function(){return r}});var s=i(85893),a=i(67294);const n=({className:e,...t},i)=>(0,s.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18ZM11 7v5.5l4.4 3.3 1.2-1.6-3.6-2.7V7h-2Z"})}),r=(0,a.memo)((0,a.forwardRef)(n));r.displayName="Icon24CommonHistory"},55464:function(e,t,i){"use strict";i.d(t,{G:function(){return r}});var s=i(85893),a=i(67294);const n=({className:e,...t},i)=>(0,s.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2.5a2 2 0 0 0-1.951 1.558A4.801 4.801 0 0 0 6 8.8v3.325l-.202.089A3 3 0 0 0 4 14.962V17h16v-2.038a3 3 0 0 0-1.797-2.748L18 12.125V8.8a4.801 4.801 0 0 0-4.049-4.742A2 2 0 0 0 12 2.5Zm4 10.933 1.4.613a1 1 0 0 1 .6.916V15H6v-.038a1 1 0 0 1 .6-.916l1.4-.613V8.8A2.8 2.8 0 0 1 10.8 6h2.4A2.8 2.8 0 0 1 16 8.8v4.633Z"}),(0,s.jsx)("path",{d:"M11.95 21a2.5 2.5 0 0 1-2.45-2h4.9a2.5 2.5 0 0 1-2.45 2Z"})]}),r=(0,a.memo)((0,a.forwardRef)(n));r.displayName="Icon24ControlsBellOutline"},83557:function(e,t,i){"use strict";i.d(t,{Z:function(){return r}});var s=i(85893),a=i(67294);const n=({className:e,...t},i)=>(0,s.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,s.jsx)("path",{d:"M6 19.5 4.5 18l6-6-6-6L6 4.5l6 6 6-6L19.5 6l-6 6 6 6-1.5 1.5-6-6-6 6Z"})}),r=(0,a.memo)((0,a.forwardRef)(n));r.displayName="Icon24ControlsCross"},31893:function(e,t,i){"use strict";i.d(t,{u:function(){return r}});var s=i(85893),a=i(67294);const n=({className:e,...t},i)=>(0,s.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:[(0,s.jsx)("path",{d:"M17.947 13.6a7.144 7.144 0 0 0-.412-2.467l.536-.536a3.053 3.053 0 0 0 0-4.318l-.35-.35a3.053 3.053 0 0 0-4.318 0l-2.42 2.422a3.053 3.053 0 0 0 .036 4.281l.938.938-1.44 1.44-.938-.939a5.09 5.09 0 0 1-.319-6.846l-.015-.016.287-.287a5.27 5.27 0 0 1 .047-.047l2.21-2.21.175-.175a5.089 5.089 0 0 1 7.197 0l.35.35a5.089 5.089 0 0 1 0 7.196L17.946 13.6Z"}),(0,s.jsx)("path",{d:"M4.49 11.964 6.054 10.4c-.009.834.129 1.67.412 2.466l-.536.536a3.053 3.053 0 0 0 0 4.318l.349.35a3.053 3.053 0 0 0 4.318 0l2.408-2.409a3.053 3.053 0 0 0-.023-4.295l-.938-.937 1.44-1.44.937.938a5.09 5.09 0 0 1 .32 6.847l.014.016-.304.304-.03.03-2.385 2.384a5.089 5.089 0 0 1-7.196 0l-.35-.349a5.089 5.089 0 0 1 0-7.196Z"})]}),r=(0,a.memo)((0,a.forwardRef)(n));r.displayName="Icon24ControlsLink"},42811:function(e,t,i){"use strict";i.d(t,{E:function(){return r}});var s=i(85893),a=i(67294);const n=({className:e,...t},i)=>(0,s.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:[(0,s.jsx)("path",{d:"M12.5 2h-1L7 6.5 8.5 8 11 5.5V16h2V5.5L15.5 8 17 6.5 12.5 2Z"}),(0,s.jsx)("path",{d:"M7 12a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1h-1v-2h1a3 3 0 0 1 3 3v5a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3v-5a3 3 0 0 1 3-3h1v2H7Z"})]}),r=(0,a.memo)((0,a.forwardRef)(n));r.displayName="Icon24ControlsShare"},81800:function(e,t,i){"use strict";i.d(t,{j:function(){return r}});var s=i(85893),a=i(67294);const n=({className:e,...t},i)=>(0,s.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,s.jsx)("path",{d:"m19 5.496-2.53 12.92s-.355.897-1.328.467l-3.627-2.816.026.021-2.31 2.133s-.18.139-.378.052l.467-4.031s6.477-5.897 6.742-6.148c.266-.25.177-.304.177-.304.018-.305-.478 0-.478 0L7.18 13.31l-3.574-1.218s-.548-.198-.602-.628c-.054-.43.62-.663.62-.663l14.208-5.646S19 4.636 19 5.496Z"})}),r=(0,a.memo)((0,a.forwardRef)(n));r.displayName="Icon24LogotypesTelegram"},24912:function(e,t,i){"use strict";i.d(t,{A:function(){return r}});var s=i(85893),a=i(67294);const n=({className:e,...t},i)=>(0,s.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m7.402 19.762-.339-.168-3.385.843.902-3.318-.225-.338C3.508 15.375 3 13.744 3 12.056 2.944 7.05 7.007 3 11.972 3c2.426 0 4.683.956 6.376 2.644A9.019 9.019 0 0 1 21 12c0 4.95-4.063 9-9.028 9-1.58 0-3.16-.394-4.57-1.238Zm8.971-5.68.62.28c.114.057.17.113.17.113v.394c-.056.281-.113.562-.226.787-.056.113-.169.225-.282.338-.056.056-.113.098-.169.14-.056.043-.113.085-.17.141l-.112.113c-.064.063-.127.09-.2.122-.058.025-.12.053-.195.102-.226.113-.564.226-.846.226h-.565a1.667 1.667 0 0 0-.282-.057 1.676 1.676 0 0 1-.282-.056 10.093 10.093 0 0 1-4.063-2.138 1.546 1.546 0 0 0-.277-.29 3.747 3.747 0 0 1-.174-.16l-.226-.225a9.372 9.372 0 0 1-2.087-2.868l-.057-.169a3.328 3.328 0 0 1-.282-1.294c0-.618.226-1.237.62-1.743.057-.057.1-.113.142-.17.042-.055.085-.112.14-.168.057-.028.114-.07.17-.112.057-.043.113-.085.17-.113l.056-.056c.056 0 .113-.014.17-.028.056-.014.112-.028.168-.028h.621c.17.056.282.112.395.28.17.338.846 1.857.903 2.138.056.169 0 .394-.113.563-.056.056-.099.126-.141.197a.994.994 0 0 1-.141.197c-.17.168-.395.45-.395.45-.056.056-.056.168-.056.28.021.044.034.079.046.108.018.048.031.083.066.118l.057.112c.282.507.677.957 1.072 1.35.056.056.127.113.197.169.07.056.141.113.198.169.451.45 1.015.787 1.636 1.069l.282.112c.057.056.17.113.226.113h.056a.31.31 0 0 0 .283-.17c.79-.9.846-.955.846-.955.113-.057.226-.113.395-.113.028 0 .056.014.085.028a.2.2 0 0 0 .084.028c.564.281 1.467.675 1.467.675Z"})}),r=(0,a.memo)((0,a.forwardRef)(n));r.displayName="Icon24LogotypesWhatsapp"},69135:function(e,t,i){"use strict";i.d(t,{d:function(){return r}});var s=i(85893),a=i(67294);const n=({className:e,...t},i)=>(0,s.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,s.jsx)("path",{d:"M12.417 3.632a.5.5 0 0 0-.834 0L9.048 7.475a.5.5 0 0 0 .417.775h1.785v5.286l-4.996 2.498-.975-1.689a.5.5 0 0 0-.88.027l-2.06 4.116a.5.5 0 0 0 .417.723l4.595.274a.5.5 0 0 0 .463-.749l-.808-1.4L12 14.839l5.042 2.52-.794 1.375a.5.5 0 0 0 .463.75l4.595-.275a.5.5 0 0 0 .417-.723l-2.06-4.116a.5.5 0 0 0-.88-.026l-.99 1.714-5.043-2.522V8.25h1.785a.5.5 0 0 0 .418-.775l-2.536-3.843Z"})}),r=(0,a.memo)((0,a.forwardRef)(n));r.displayName="Icon24LuggageDimensions"},39510:function(e,t,i){"use strict";i.d(t,{l:function(){return r}});var s=i(85893),a=i(67294);const n=({className:e,...t},i)=>(0,s.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m16.954 9.793-2.719 1.268c-2-.64-4.862-1.236-7.398-2.056l-1.201.55c1.32 1.029 3.135 2.33 4.52 3.408L7.439 14.23c-1.173-.248-2.418-.338-3.349-.532-.506-.106-.816.339-.338.71 2.256 1.759 3.159 2.469 3.159 2.469.392.305.875.497 1.343.283l12.445-5.803c.906-.46.871-1.106.64-1.629-.547-1.173-2.049-1.003-4.384.064Z"})}),r=(0,a.memo)((0,a.forwardRef)(n));r.displayName="Icon24TicketDeparture"},83104:function(e,t,i){"use strict";i.d(t,{x:function(){return r}});var s=i(85893),a=i(67294);const n=({className:e,...t},i)=>(0,s.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.74 4.875C14.74 3.84 15.613 3 16.693 3c1.082 0 1.958.84 1.958 1.875 0 1.035-.876 1.875-1.958 1.875-1.08 0-1.955-.84-1.955-1.875ZM8.707 6.97a.8.8 0 0 1 .553-.22h4.304c1.082 0 1.957.84 1.957 1.875a1.8 1.8 0 0 1-.286.962l.005.008-2.234 3.548 1.59 2.176a.73.73 0 0 1 .142.431v4.5c0 .414-.35.75-.783.75-.432 0-.782-.336-.782-.75l-.45-3.686L9.8 13.667v-.007a1.825 1.825 0 0 1-.538-1.285c0-.37.115-.712.309-1.003l-.002-.006 1.675-2.675-1.816-.29-1.96 1.88a.8.8 0 0 1-.554.219c-.432 0-.783-.336-.783-.75 0-.199.083-.39.23-.53l2.348-2.25Zm7.826 2.686-1.012 1.594.17.082.997.564c.12.068.258.104.398.104h3.13c.433 0 .783-.336.783-.75s-.35-.75-.783-.75H17.6l-1.065-.844Zm-9.332 5.646 1.175-1.345 1.587 1.567-1.65 1.44-.054.055a.8.8 0 0 1-.564.231H3.783c-.433 0-.783-.336-.783-.75s.35-.75.783-.75l3.419-.448Z"})}),r=(0,a.memo)((0,a.forwardRef)(n));r.displayName="Icon24TicketPedestrianRun"},26947:function(e,t,i){"use strict";i.d(t,{p:function(){return r}});var s=i(85893),a=i(67294);const n=({className:e,...t},i)=>(0,s.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,s.jsx)("path",{d:"M9.414 7H16V5H8l1.414 2ZM9.333 8 8 9.667h1.778c0 1.748 1.22 3.333 3 3.333S16 11.582 16 9.834V8H9.333ZM9.272 19.51a5.54 5.54 0 0 0 2.287.49h.882A5.56 5.56 0 0 0 18 14.44a.44.44 0 0 0-.44-.44h-.417l-7.87 5.51ZM15.061 14h-8.62a.44.44 0 0 0-.441.44 5.55 5.55 0 0 0 2.154 4.395L15.06 14Z"})}),r=(0,a.memo)((0,a.forwardRef)(n));r.displayName="Icon24TicketVisa"},3745:function(e,t,i){"use strict";i.d(t,{r:function(){return u}});var s=i(85893),a=i(67294),n=i(94184),r=i(88965),o=i(79676),l={variables:"s__kZHw5ey1Nfdd1VoYQwfR",container:"s__EtwyvINuqRJVkBWwRkoI",small:"s__YYvvEic6_RvNnTO5etJ_",medium:"s__d8fcHX9yyergQpSgkzHo",checkbox:"s__ovxVR60WJIHdGKbLl0dA",label:"s__p83ZPCADb4rXiQi0pouU",left:"s__ndjIFCDDkr8IUdqu2gSk",right:"s__byn0K5ASxk4FHo9wqiwz"};const c=(0,a.forwardRef)((({className:e,label:t,labelPosition:i="left",innerClassName:a,size:c="medium",touchZone:u,testId:d,...p},g)=>(0,s.jsxs)("label",{className:n(l.variables,l.container,l[c],e),"data-test-id":d??"switch",children:[(0,s.jsx)("input",{type:"checkbox",ref:g,...p}),"left"===i&&(0,s.jsx)(r._,{className:n(l.label,l[i]),children:t}),(0,s.jsx)("span",{className:n(l.checkbox,a)}),"right"===i&&(0,s.jsx)(r._,{className:n(l.label,l[i]),children:t}),(0,s.jsx)(o.d,{...u})]}))),u=(0,a.memo)(c)},66656:function(e,t,i){"use strict";i.d(t,{Wm:function(){return s}});const s=()=>window.matchMedia("(any-pointer: coarse)").matches},15157:function(e,t,i){"use strict";i.d(t,{o:function(){return f}});var s=i(85893),a=i(47166),n=i(88831),r=i(2793),o=i(4579),l=i(75124),c=i(80871),u=(i(21703),i(67294));const d=(0,u.createContext)(!0),p=({children:e})=>(0,s.jsx)(d.Provider,{value:!0,children:e});var g={variables:"s__i_qvSLabA31GVCph2oxn","action-bar":"s__FBJYAbwjxjB4_VnK2yua",icon:"s__ukCNZebGKBZb9Or0NGuo","history-icon":"s__g8BYvuDSb2Fa5nWJQg2Y",content:"s__b1q05XDUF_NXCzIiNTUK",button:"s__hZ1HVD2K5iEYqF675p1p","right-element":"s__EKgKHK3v7wxsS8GohzhM",type_default:"s__M7nPH5u5I5Kiy4vC99KV",type_neutral:"s__pIPBFhFyLrJy5m8A553R",type_danger:"s__nHo0G7JkflpsbByOhFOY",type_standard:"s__zpW2dS7qfvVMJLwkjW9U",padding_small:"s__D4EEU92yXx3Hl7UouLqz",padding_normal:"s__QjdZaIYneSrYIT9smWXA","action-bar-group":"s__V9vXxxAONa9rWMJPYDKo"};const m=a.bind(g),h={restricted:(0,s.jsx)(n.W,{}),warning:(0,s.jsx)(r.Icon24ColorWarning,{}),allowed:(0,s.jsx)(o.D,{}),history:(0,s.jsx)(l.I,{className:g["history-icon"]})},f=({children:e,className:t})=>{const i=m("variables","action-bar-group",t);return(0,s.jsx)(p,{children:(0,s.jsx)("div",{className:i,children:e})})};f.Item=({buttonText:e,iconType:t,children:i,className:a,onClick:n,padding:r="normal",type:o="default",rightElement:l=(0,s.jsx)(c.i,{}),contentClassName:p})=>{(()=>{if(!(0,u.useContext)(d))throw new Error("ActionBarGroup.Item components cannot be rendered outside the ActionBarGroup component")})();const f=t?h[t]:null,k=m("variables","action-bar",`type_${o}`,`padding_${r}`,a);return(0,s.jsxs)("div",{className:k,onClick:n,children:[f&&(0,s.jsx)("div",{className:g.icon,children:f}),(0,s.jsx)("div",{className:m(g.content,p),children:i}),(0,s.jsxs)("div",{className:g.button,children:[e&&(0,s.jsx)("span",{className:g["button-text"],children:e}),(0,s.jsx)("div",{className:g["right-element"],children:l})]})]})}},30367:function(e,t,i){"use strict";i.d(t,{C:function(){return d}});var s=i(85893),a=i(47166),n=i(49963),r=i(44619),o=i(5070);const l=(0,i(67294).memo)((({className:e})=>(0,s.jsxs)("svg",{className:e,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.66602 6V5.33333C4.66602 3.49238 6.1584 2 7.99935 2C9.8403 2 11.3327 3.49238 11.3327 5.33333V6H11.9993C12.7357 6 13.3327 6.59695 13.3327 7.33333V12.6667C13.3327 13.403 12.7357 14 11.9993 14H3.99935C3.26297 14 2.66602 13.403 2.66602 12.6667V7.33333C2.66602 6.59695 3.26297 6 3.99935 6H4.66602ZM5.99935 5.33333C5.99935 4.22876 6.89478 3.33333 7.99935 3.33333C9.10392 3.33333 9.99935 4.22876 9.99935 5.33333V6H5.99935V5.33333ZM8.66602 10.4883C9.06455 10.2578 9.33268 9.82685 9.33268 9.33333C9.33268 8.59695 8.73573 8 7.99935 8C7.26297 8 6.66602 8.59695 6.66602 9.33333C6.66602 9.82685 6.93415 10.2578 7.33268 10.4883V11.3333C7.33268 11.7015 7.63116 12 7.99935 12C8.36754 12 8.66602 11.7015 8.66602 11.3333V10.4883Z",fill:"url(#paint0_linear_1598_60969)"}),(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{id:"paint0_linear_1598_60969",x1:"2.66602",y1:"8",x2:"13.3327",y2:"8",gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{stopColor:"#E5A1BE"}),(0,s.jsx)("stop",{offset:"0.5",stopColor:"#CFB9F5"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#82C0F0"})]})})]})));l.displayName="CashbackLabelLockIcon";var c={variables:"s__VaJkofe51jX4hVos8126",root_clickable:"s___l5QydiarcUw5fcmLloQ",root_type_unlocked:"s__k0I0P5CQNgfnHKjUt5BE","text-slot":"s__KvdJ57e_KsjN_5rQekj0",root_type_locked:"s__PmK6QCnBznWako7_Raaz",icon:"s__R8ymTg6REsnjcYBW1pwl"};const u=a.bind(c),d=({className:e,children:t,isLocked:i=!1,tooltipProps:a={disabled:!0,content:""},onClick:d})=>(0,s.jsx)(o.u,{...a,children:(0,s.jsxs)("div",{className:u(c.variables,{root_type_locked:i,root_type_unlocked:!i,root_clickable:Boolean(d)},e),onClick:d,children:[i&&(0,s.jsx)(l,{className:u("icon")}),(0,s.jsx)(n.x,{type:r.y.Body3Regular,truncateMode:r.k.SingleLine,className:u("text-slot"),children:t})]})})},20580:function(e,t,i){"use strict";i.d(t,{a:function(){return f}});var s=i(85893),a=i(67294),n=i(47166),r=i(49963),o=i(44619),l=i(4579),c=i(83557),u={row:"s__ov_UUg5kui9ATewNIckc",text:"s__R11lp7PgvvPx8dDMUbxU",icon:"s__Y1MZHw43UqefZc3_qvVD",rightElement:"s__SyCUNVMwSR_2vo8NDvaF",type_partially_available:"s__sY61XNYxOM_eeYcpJygg",type_not_available:"s__JdftbCGhUegbiXrPl7oP"};const d=n.bind(u),p={available:(0,s.jsx)(l.D,{}),partially_available:(0,s.jsx)(l.D,{}),not_available:(0,s.jsx)(c.Z,{})},g=(0,a.forwardRef)((({text:e,theme:t,rightElement:i,className:a,testId:n},l)=>{const c=p[t],g=d("row",`type_${t}`,a);return(0,s.jsxs)("div",{ref:l,className:g,"data-test-id":n??"fare-row",children:[c&&(0,s.jsx)("div",{className:d(u.icon),children:c}),(0,s.jsx)(r.x,{type:o.y.Body2Regular,className:d(u.text),children:e}),i&&(0,s.jsx)("div",{className:d(u.rightElement),children:i})]})}));g.displayName="FareRow";var m={row:"s__HJcoq9YD26OjXEIm3VV2"};const h=n.bind(m),f=(0,a.memo)((({className:e,options:t})=>{const i=h(e);return(0,s.jsx)("div",{className:i,children:t.map(((e,t)=>(0,s.jsx)(g,{className:m.row,...e},`${t}_${e.theme}`)))})}));f.displayName="FareOptionsList"},33036:function(e,t,i){"use strict";i.d(t,{s:function(){return h}});var s=i(85893),a=i(67294),n=i(88846),r=i(49546),o=i(2437),l=i(49963),c=i(44619),u=i(69135),d=i(86523),p=i(35887),g="s__sJtHdQA5S0el0ayX_UBA";const m=(0,a.memo)((({dimension:e,sumDimension:t})=>{const i=(0,d.d)("size_dimensions"),a=(0,d.d)("size");if(e){const t=i((0,p.z)(e));return(0,s.jsx)(l.x,{className:g,type:c.y.Body2Regular,children:t})}if(r(t)){const e=a(o.fb.centimeter(t));return(0,s.jsx)(l.x,{className:g,type:c.y.Body2Regular,children:(0,s.jsxs)("div",{className:"s__yMFHh_rrLjsPDWJi48rx",children:[(0,s.jsx)(u.d,{className:"s__rjMU209wOkRQie96V87z"}),e]})})}return null}));m.displayName="FareDimension";const h=e=>(0,a.useMemo)((()=>n((({text:e,availability:t,dimension:i,sumDimension:a})=>({text:e,theme:t,rightElement:(0,s.jsx)(m,{dimension:i,sumDimension:a})})),e)),[e])},37254:function(e,t,i){"use strict";i.d(t,{X:function(){return p}});var s=i(85893),a=i(67294),n=i(94184),r=i(13905),o=i(86523),l=i(84319),c=i(85576),u=i(22677);const d=({value:e,currency:t,formatPriceFn:i,showCurrencySign:d=!0,className:p,formatOptions:g={},branded:m=!1,...h})=>{const f=(0,o.d)("number_short"),k=(0,a.useMemo)((()=>i?i(e,g):f({value:e,options:{maximumFractionDigits:g?.exponent??0}})),[e,i,g,f]),{signPosition:v}=(0,r.zC)(t.toLowerCase()),_=m?"brand":"default",y=(0,s.jsx)(l.I,{currency:t,fontType:_});return(0,s.jsxs)("span",{...h,className:n(u.Z.price,p,{[u.Z.branded]:m}),children:[d&&"before"===v&&y,k,d&&"after"===v&&(0,s.jsxs)(s.Fragment,{children:[c.q,y]})]})},p=(0,a.memo)(d)},93825:function(e,t,i){"use strict";i.d(t,{L:function(){return r}});var s=i(85893),a=i(67294);const n=i(47166).bind({root:"s__JbhTXlovTPG3WUQSML7w"}),r=(0,a.forwardRef)((({className:e,children:t,...i},a)=>t?(0,s.jsx)("div",{className:n("root",e),ref:a,...i,children:t}):null));r.displayName="SlotSection"},2450:function(e,t,i){"use strict";var s;i.d(t,{c:function(){return s}}),function(e){e.Red="red",e.Yellow="yellow",e.Lemon="lemon",e.Purple="purple",e.Cosmic="cosmic",e.Fog="fog",e.Pink="pink",e.Blue="blue",e.Green="green"}(s||(s={}))},9384:function(e,t,i){"use strict";i.d(t,{$e:function(){return o},lj:function(){return s}});var s,a,n=i(2450);!function(e){e.OneWay="oneway",e.RoundTrip="roundtrip",e.Multiway="multiway"}(s||(s={})),function(e){e.Train="train",e.Bus="bus",e.Boat="boat",e.Plane="plane",e.Taxi="taxi",e.Helicopter="helicopter"}(a||(a={}));const r={[a.Boat]:{icon:a.Boat,color:n.c.Blue},[a.Bus]:{icon:a.Bus,color:n.c.Fog},[a.Train]:{icon:a.Train,color:n.c.Red}},o=e=>r[e]},66351:function(e,t,i){"use strict";i.d(t,{$:function(){return p}});var s=i(85893),a=i(67294),n=i(28225),r=i(66656),o=i(49963),l=i(44619),c=i(38694),u=i(30367);const d=(0,a.memo)((({price:e,currency:t,isCashbackAvailable:i=!1})=>{const a=i?"ticket.cashbackBoldPrice":"ticket.cashback";return(0,s.jsx)(n.Trans,{ns:"uiKit",i18nKey:a,components:{b:(0,s.jsx)(o.x,{tag:"span",type:l.y.Body3Semi}),value:(0,s.jsx)(c.t,{currency:t,roundingMode:"floor",value:e})}})}));d.displayName="TicketPreviewCashbackLabelText";const p=(0,a.memo)((({className:e,price:t,currency:i,isCashbackAvailable:o=!1,onInavailableCashbackClick:l})=>{const{t:c}=(0,n.useTranslation)("uiKit"),p=(0,r.Wm)(),g=(0,a.useCallback)((e=>{p||o||(e.stopPropagation(),l?.())}),[o,p,l]),m=(0,a.useMemo)((()=>({content:c("ticket.cashbackTooltip"),placement:"right",fallbackPlacements:["top","top-start","bottom","bottom-start"],width:243,touch:!1,disabled:o||p})),[o,p,c]);return(0,s.jsx)(u.C,{className:e,isLocked:!o,onClick:g,tooltipProps:m,children:(0,s.jsx)(d,{price:t,currency:i,isCashbackAvailable:o})})}));p.displayName="TicketPreviewCashbackLabel"},83234:function(e,t,i){"use strict";i.d(t,{F:function(){return f}});var s=i(85893),a=i(67294),n=i(52326),r=i(47166),o=i(28225),l=i(44619),c=i(49963),u=i(34611),d=i(1945),p=i(37046),g={divider:"s__cDFVCNN3BO3YPNK4xjLv",footnote:"s__xS_xdcnOk816BEiyDy0n","footnote-text":"s__p8GhZeA4T5hocEias_WP","footnote-icon":"s__gV34Pr6wr8hqXYJoooej",icon:"s__GhY0jmkOiraIObPneuEX"};const m=r.bind(g),h=({layout:e=n.q.Normal,index:t,operatingCarrier:i,transportType:a,getAirlineName:r})=>{const{t:g}=(0,o.useTranslation)("uiKit"),h=e===n.q.Small?l.y.CaptionRegular:l.y.Body3Regular,f="plane"===a||"unknown"===a,k=g(`ticket.footnote.${a}`,{airlineName:r(i)}),v=f?(0,s.jsx)(u.p,{className:m("icon"),size:d.R.Xsmall,marketingCarrierIata:i,marketingCarrierName:i}):(0,s.jsx)(p.r,{width:16,height:16});return(0,s.jsxs)("div",{className:m("footnote"),children:[(0,s.jsx)(c.x,{type:l.y.FootnoteRegular,children:t}),(0,s.jsxs)(c.x,{className:m("footnote-text"),type:h,children:[k,(0,s.jsx)("span",{className:m("footnote-icon"),children:v})]})]})},f=(0,a.memo)((({className:e,footnotes:t=[],layout:i=n.q.Normal,getAirlineName:a})=>(0,s.jsxs)("div",{className:e,children:[(0,s.jsx)("hr",{className:g.divider}),t.map((({index:e,operatingCarrier:t,transportType:n})=>(0,s.jsx)(h,{index:e,layout:i,operatingCarrier:t,transportType:n,getAirlineName:a},e)))]})));f.displayName="TicketPreviewFootnotes"},49548:function(e,t,i){"use strict";i.d(t,{$:function(){return u}});var s=i(85893),a=i(67294),n=i(47166),r=i(93825),o=i(52326),l=i(72942);const c=n.bind({variables:"s__FGSl09O3mQkX2SHFd8cc",root:"s__gpt7ANm15Y6vnDm9t9EQ",root_layout_small:"s__A2noUKVmm8c7WONN2A8k","badge-slot":"s__SjBz3JG4ulxhQlVqFx0R","top-bar-slot":"s__TpE5K_ywCd94aoLjV7R3",content:"s__uC0OuI4HJNIHrNdvmEIh",content_background_normal:"s__mZl4vkzI0tdbS1AwnnRu",content_background_lighten:"s__TYMykQ0XvtwgBlfH88pM",content_hoverable:"s__GuUKMUQKlP14VzfvhYAz","content_touch-overlay-visible":"s__II71VvkyT0DyV39MktUn","informers-slot":"s__krateKIUdCXDSnF8ULW_","segments-slot":"s__es05ce6nyqCBX5Q3Ywlc","footnotes-slot":"s__H_rpe_oOPSwnrrcLaaYg",root_layout_normal:"s__kgoM1Z69afA8tvcaAjxL"}),u=({layout:e=o.q.Normal,badgeSlot:t,priceSlot:i,carriersSlot:n,controlsSlot:u,informersSlot:d,segmentsSlot:p,footnotesSlot:g,isHoverable:m=!0,backgroundType:h=l.A.Normal,onClick:f,testId:k})=>{const v=c("variables","root",`root_layout_${e}`),[_,y]=(0,a.useState)(!1),b=(0,a.useCallback)((()=>{m&&y(!0)}),[m]),x=(0,a.useCallback)((()=>{m&&y(!1)}),[m]),C=c("content",`content_background_${h}`,{content_hoverable:m,"content_touch-overlay-visible":_});return(0,s.jsxs)("div",{className:v,onTouchStart:b,onTouchEnd:x,"data-test-id":k,children:[(0,s.jsx)(r.L,{className:c("badge-slot"),onClick:f,children:t}),(0,s.jsxs)("div",{className:C,onClick:f,children:[(0,s.jsxs)(r.L,{className:c("top-bar-slot"),children:[i,n,u]}),(0,s.jsx)(r.L,{className:c("informers-slot"),children:d}),(0,s.jsx)(r.L,{className:c("segments-slot"),children:p}),(0,s.jsx)(r.L,{className:c("footnotes-slot"),children:g})]})]})}},72942:function(e,t,i){"use strict";var s;i.d(t,{A:function(){return s}}),function(e){e.Lighten="lighten",e.Normal="normal"}(s||(s={}))},61750:function(e,t,i){"use strict";i.d(t,{y:function(){return g}});var s=i(85893),a=i(67294),n=i(47166),r=i(49546),o=i(38694),l=i(44619),c=i(49963),u=i(52326),d=i(66351);const p=n.bind({root:"s__xvrPyQP5OIGHTy4FUJvg","price-wrapper":"s__aABGIRR3aQXEXq1Nveeu",price:"s__RQZsUfncge_wEzRXpHoR",root_layout_small:"s__IyJfQQc_tVQIzA0E73tZ",previous_price:"s__sdA3IGQnfAj6ta4dYURe",cashback:"s__BBLWvu9twtKzDHELtqOk",cashback_label:"s__P6KpSQNHaEkYQOaS494_",root_layout_normal:"s__YaGnArZFoMQkrkCm7VHK"}),g=(0,a.memo)((({layout:e=u.q.Normal,price:t,previousPrice:i,cashback:a,currency:n,isCashbackAvailable:g=!1,onUnavailableCashbackClick:m})=>{const h=e===u.q.Small?l.y.Title3Bold:l.y.Title2Bold,f=e===u.q.Small?l.y.Body1Regular:l.y.Title4Regular,k=r(i)&&i>0,v=r(a)&&a>0,_=p("root",`root_layout_${e}`);return(0,s.jsx)("div",{className:_,children:(0,s.jsxs)("div",{className:p("price-wrapper"),children:[(0,s.jsx)(c.x,{type:h,className:p("price"),children:(0,s.jsx)(o.t,{value:t,currency:n})}),k&&(0,s.jsx)(c.x,{type:f,className:p("previous_price"),children:(0,s.jsx)(o.t,{value:i,currency:n,strikeout:!0})}),v&&(0,s.jsx)("div",{className:p("cashback"),children:(0,s.jsx)(d.$,{className:p("cashback_label"),price:a,currency:n,isCashbackAvailable:g,onInavailableCashbackClick:m})})]})})}));g.displayName="TicketPreviewPrice"},35887:function(e,t,i){"use strict";i.d(t,{z:function(){return a}});var s=i(2437);const a=e=>{const[t,i,a]=e.split("x");return{height:s.fb.centimeter(parseInt(t,10)),width:s.fb.centimeter(parseInt(i,10)),length:s.fb.centimeter(parseInt(a,10))}}}}]);
//# sourceMappingURL=https://private-static.prod.k8s.int.avs.io/selene-source-maps/shared-966f0b4c1664778fba309499601f2ef8f76aba74.3b6e1d92a01a37e9cc76.min.js.map