"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[72985],{68951:function(t,s,e){e.r(s),e.d(s,{AutosearchResultsWidget:function(){return P}});var o=e(67294),n=e(4190),r=e(28225),a=e(47166),i=e.n(a),l=e(1156),c=e(39535),u=e(78803),d=e(17458),_=e(94408),h=e(72207),p=e(38387),f=e(67940),S=e(89421),k=e(38352),y=e(88293);const b=S.H.outputs.$theme.map((t=>t===y.B.Dark?"dark":"light")),m=k.s.outputs.$segmentIds.map((t=>t.length));var x=e(85893);const{$isMobile:C}=p.l.outputs,v=()=>{const t=(0,u.pc)(),{isMobile:s,segmentsCount:e,variant:o}=(0,n.useUnit)({isMobile:C,segmentsCount:m,variant:b});return s?(0,x.jsx)(h.I,{skeletonsCount:3,segmentsCount:e,layout:t,variant:o}):(0,x.jsx)(f.x1,{skeletonsCount:3,segmentsCount:e})};var A=e(98116),E=e(72675),N=e(38032),j=e(82097),w=e(31438),g=e(27497),$=e(43175),T=e(24943),O=e(52112),B=e(28258);let D;!function(t){t.None="none",t.OfflineError="offline_error",t.NoTicketsError="no_tickets_error",t.Skeletons="skeletons",t.Results="results"}(D||(D={}));const{abortSearch:R}=B.E.inputs,{$autosearchEnabled:U,hideAutosearchFx:F}=$.J.outputs,{exactPricesResultsScreen:I}=T.q.outputs,{$searchStatus:L}=g.N.outputs,M=(0,A.withFactory)({sid:"-6vbq5j",fn:()=>(0,E.x)(U,I.$active)}),X=(0,A.createEvent)({sid:"-6et9b"}),z=(0,A.combine)({and:[{isAutosearchEnabled:M,searchStatus:g.N.outputs.$searchStatus,lastError:g.N.outputs.$lastError,allTicketCount:O.o.outputs.$allTicketCount},({isAutosearchEnabled:t,searchStatus:s,lastError:e,allTicketCount:o})=>{const n=o>0;return t?s===w.S.Inited?D.None:s===w.S.Started?D.Skeletons:s===w.S.Failed&&"UserOffline"===e?D.OfflineError:n?D.Results:D.NoTicketsError:D.None}],or:{sid:"tyuch9"}});(0,A.sample)({and:[{clock:X,target:$.J.inputs.showAutosearchModalFx}],or:{sid:"22msud"}}),(0,A.sample)({and:[{clock:M,filter:(0,A.withFactory)({sid:"9ynhki",fn:()=>(0,N.f)(M)}),fn:()=>"autosearch aborted",target:R}],or:{sid:"25drt6"}}),(0,A.sample)({and:[{clock:F,source:(0,A.withFactory)({sid:"-plyla0",fn:()=>(0,j.f)(L,w.S.Started)}),fn:()=>"autosearch aborted",target:R}],or:{sid:"2ks0fa"}});const H={showAllTicketsClicked:X},J={$displayState:z},K=i().bind({root:"s__M8tyRvgCWr8vcQ5yK6P4",root_layout_small:"s__IVwuViXzGAeKTaB8NiXv",root_layout_normal:"s__arfBbWfSlRecj6r6FxuF",content:"s__R1s37iUu8vHXz7wm5aB6",content_layout_small:"s__YZye2J_hbYO4XACpRsfD",content_layout_normal:"s__Z310XOYg1A5JQvtahEQR","results-section":"s__aKVUy3NazC6Oqj19lBUS","subscription-section":"s__FE0Dy0wdnAGcUWhbYIV9","button-section":"s__aXOAZdY2vH5v3kD6Lf0h"}),{AutosearchResultsContainer:Q,NoTicketsInformerContainer:Y,OfflineInformerContainer:q}=d.a.containers,{SubscriptionButton:V}=_.Q.containers,W=()=>{const{t:t}=(0,r.useTranslation)("widget_autosearch_results"),s=(0,u.pc)(),{displayState:e,showAllTicketsClicked:o,withSubscriptionButton:a}=(0,n.useUnit)({displayState:J.$displayState,showAllTicketsClicked:H.showAllTicketsClicked,withSubscriptionButton:_.Q.outputs.$shouldShowSubscriptionButton});if(e===D.NoTicketsError)return(0,x.jsx)(Y,{});if(e===D.OfflineError)return(0,x.jsx)(q,{});const i=e===D.Skeletons?(0,x.jsx)(v,{}):(0,x.jsx)(Q,{}),d=K("content",`content_layout_${s}`);return(0,x.jsxs)("div",{className:d,"data-test-id":"autosearch-widget-container",children:[(0,x.jsx)("div",{className:K("results-section"),children:i}),a&&(0,x.jsx)("div",{className:K("subscription-section"),children:(0,x.jsx)(V,{})}),(0,x.jsx)("div",{className:K("button-section"),"data-test-id":"autosearch-widget-expand-button",children:(0,x.jsx)(l.z,{priority:c.Ji.Primary,size:c.qE.M,onClick:o,children:t("buttonTitle")})})]})},P=()=>{const{displayState:t}=(0,n.useUnit)({displayState:J.$displayState}),s=(0,u.pc)();if(t===D.None)return null;const e=K("root",`root_layout_${s}`);return(0,x.jsx)(o.StrictMode,{children:(0,x.jsx)("div",{className:e,children:(0,x.jsx)(W,{})})})}}}]);
//# sourceMappingURL=https://private-static.prod.k8s.int.avs.io/selene-source-maps/autosearch_results.6fe3457d022dc7e1f205.min.js.map