"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[73832],{77772:function(e,t,i){i.d(t,{X:function(){return l}});var n=i(94184),s=i.n(n),r=i(49963),o=i(44619),a=i(85893);const l=({className:e,children:t,...i})=>(0,a.jsx)("div",{...i,className:s()("s__BHWg40ngM0wWmcXOXus8",e),children:t});l.Icon=({children:e,className:t})=>(0,a.jsx)("span",{className:s()("s__RFWZSzd8od3dWPWs79Jh",t),children:e}),l.Text=({children:e,className:t,...i})=>(0,a.jsx)(r.x,{tag:"p",type:o.y.Body3Regular,className:s()("s__IULIPWFy27UnSzH5lGha",t),...i,children:e})},82846:function(e,t,i){i.d(t,{S:function(){return A}});var n=i(98116),s=i(76588),r=i(80472),o=i(35529),a=i(54824),l=i(57640),c=i(82525),u=i(64441),d=i(99186),p=i(96864),m=i(87722),f=i(45711);const y=(0,o.Record)({open:o.Boolean.nullable(),openingDate:o.String.nullable(),directAllowed:o.Boolean.nullable(),certificateRequired:o.Boolean.nullable(),certificatePolicy:o.String.nullable(),certificateBeforeRequired:o.Boolean.nullable(),certificateBeforePolicy:o.String.nullable(),certificateAfterRequired:o.Boolean.nullable(),certificateAfterPolicy:o.String.nullable(),vaccinationRequired:o.Boolean.nullable(),vaccinationPolicy:o.String.nullable(),quarantineRequired:o.Boolean.nullable(),quarantinePolicy:o.String.nullable(),insuranceRequired:o.Boolean.nullable(),insurancePolicy:o.String.nullable(),masksRequired:o.Boolean.nullable(),masksPolicy:o.String.nullable(),foodOpen:o.Boolean.nullable(),foodPolicy:o.String.nullable(),internalRestrictions:o.String.nullable(),entryRestrictions:o.String.nullable(),summary:o.String.nullable(),relevanceInfo:o.String.nullable()}),h=(0,o.Record)({widgets:(0,o.Record)({travelRestrictionsV1:(0,o.Record)({travelRestriction:y.nullable(),destination:(0,o.Record)({translations:(0,o.Dictionary)(f.Cu,o.String),country:(0,o.Record)({translations:(0,o.Dictionary)(f.Cu,o.String)}).nullable()}).nullable(),destinationCountry:(0,o.Record)({translations:(0,o.Dictionary)(f.Cu,o.String)}).nullable()})})}),v=(e,t)=>{const{origin:i,destination:n}=e,s=i?.cityIata||i?.iata,r=n?.cityIata||n?.iata,o=(0,m.be)(n);return{...t,origin:s,destination:o?void 0:r,destinationCountry:o?r:void 0}},g={certificatePolicy:null,certificateRequired:null,certificateBeforePolicy:null,certificateBeforeRequired:null,certificateAfterPolicy:null,certificateAfterRequired:null,vaccinationRequired:null,vaccinationPolicy:null,directAllowed:null,entryRestrictions:null,foodOpen:null,foodPolicy:null,insurancePolicy:null,insuranceRequired:null,internalRestrictions:null,masksPolicy:null,masksRequired:null,open:null,openingDate:null,quarantinePolicy:null,quarantineRequired:null,relevanceInfo:null,summary:null,country:null,city:null},{urlWithApiHost:x}=c.B.outputs,b=(0,n.combine)({and:[{userCitizenship:p.W.outputs.$userCitizenship,language:d.l.outputs.$language},({userCitizenship:e,language:t})=>({language:t,passportCountry:e})],or:{sid:"di303i"}}),R=(0,n.withFactory)({sid:"-vne0xc",fn:()=>(0,a.$)({name:"fetch_travel_restrictions",params:(0,n.withFactory)({sid:"-4zx51q",fn:()=>(0,s.t6)()}),graphQL:{query:"\nquery GetTravelRestrictionsV1(\n  $destination: String\n  $destinationCountry: String\n  $origin: String!\n  $passportCountry: String!\n  $language: String!\n) {\n  widgets {\n    travelRestrictionsV1(\n      destination: $destination\n      destinationCountry: $destinationCountry\n      locale: $language\n      origin: $origin\n      passportCountry: $passportCountry\n    ) {\n      destination {\n        ... on City {\n          translations\n        }\n        country {\n          translations\n        }\n      }\n      destinationCountry {\n        translations\n      }\n      travelRestriction {\n        open\n        openingDate\n        directAllowed\n        certificateRequired\n        certificatePolicy\n        certificateBeforeRequired\n        certificateBeforePolicy\n        certificateAfterRequired\n        certificateAfterPolicy\n        vaccinationRequired,\n        vaccinationPolicy,\n        quarantineRequired\n        quarantinePolicy\n        insuranceRequired\n        insurancePolicy\n        masksRequired\n        masksPolicy\n        foodOpen\n        foodPolicy\n        internalRestrictions\n        entryRestrictions\n        relevanceInfo\n        summary\n      }\n    }\n  }  \n}",variables:{source:b,fn:v},extra:{operation_name:"fetch_travel_restrictions"}},enabled:u.i.outputs.travelRestrictionsFlag.$value,request:{url:x(`${l.H.CONTENT_ADMIN_HOST}/api/widgets`)},response:{contract:(0,r.v)((0,o.Record)({data:h})),mapData:({result:e})=>(e=>{const t=e.widgets.travelRestrictionsV1;if(!t?.travelRestriction||!t.destination&&!t.destinationCountry)return null;const{travelRestriction:i,destination:n,destinationCountry:s}=t,r=n?.country||s;return{...i,city:n?{translations:n.translations}:null,country:r}})(e.data)}})});(0,n.withFactory)({sid:"gig5m2",fn:()=>(0,s.Np)(R,{automatically:!0})});const _=(0,n.createEvent)({sid:"-tdb8ur"}),w=(0,n.createEvent)({sid:"f5z6jv"}),N=(0,n.createStore)(g,{sid:"w7gtiq"}).on(R.finished.success,((e,{result:t})=>t||g)),k=N.map((e=>Boolean(e&&null!==e.open))),j=R.$pending,C=R.finished.failure,q=R.finished.success,B=R.finished.skip;(0,n.sample)({and:[{clock:_,filter:({origin:e,destination:t})=>!(0,m.Tu)(e)&&!(0,m.Tu)(t),fn:({origin:e,destination:t})=>({origin:e,destination:t}),target:R.refresh}],or:{sid:"hgjeeg"}}),(0,n.sample)({and:[{clock:w,target:R.reset}],or:{sid:"hy4te0"}});const A={inputs:{requestTravelRestrictions:_,resetTravelRestrictions:w},outputs:{$data:N,$isDataValid:k,$isLoading:j,loadedWithSuccess:q,loadedWithError:C,canNotBeLoaded:B},internals:{travelRestrictionsData:R}}},61330:function(e,t,i){i.d(t,{Y:function(){return _e}});var n=i(30091),s=i(82846),r=i(98116),o=i(47047),a=i(15863);const l=(0,r.createEvent)({sid:"-jg951"}),{$enabled:c,turnOn:u}=(0,r.withFactory)({sid:"i4lhn4",fn:()=>(0,o.d)(a.qs,!1)}),d={previewClicked:l,previewViewed:u},p={$isWidgetViewed:c};var m=i(67294),f=i(24561),y="18px",h="19px",v="24px",g=i(85893);const x=(0,m.memo)((()=>(0,g.jsxs)(f.ZP,{speed:2,height:62,backgroundColor:"var(--white-graphite_600)",foregroundColor:"var(--ink_50-graphite_500)",className:"s__pIBuZqYQgMFGs0Bc09NU",children:[(0,g.jsx)("rect",{x:y,y:h,rx:"0",ry:"0",width:"50%",height:v}),(0,g.jsx)("rect",{x:"calc(75% - 18px)",y:h,rx:"0",ry:"0",width:"25%",height:v})]})));x.displayName="TravelRestrictionsPreviewSkeleton";var b=i(4190),R=i(38387),_=i(28225),w=i(94184),N=i.n(w),k=i(49963),j=i(44619),C=i(4579),q=i(88831),B=i(80871),A=i(50405),I="s__fEDqM_nC2036pGZOqUVn";const S=e=>{const{t:t}=(0,_.useTranslation)("service_travel_restrictions"),{onClick:i,data:n,compact:s,isMobile:r}=e,{mainText:o,additionalText:a}=(0,A.r)(),{open:l}=n,c=!r&&!s;return null===l?null:(0,g.jsxs)("button",{"data-test-id":"tr-preview_button",onClick:i,className:N()("s__Ql9zb9OiPyUomGwTlsdO",s&&"s__ltRIh_YtJFBytUNQ_ynP"),children:[l?(0,g.jsx)(C.D,{className:I}):(0,g.jsx)(q.W,{className:I}),(0,g.jsxs)("div",{"data-test-id":"tr-preview_text",className:"s__ujOQ8WweSQN96Zp01VmA",children:[(0,g.jsx)(k.x,{type:j.y.Body1Semi,tag:"span",transformOnMobile:!0,className:"s__AMmX0W1AXiP9h7aeN3Rn",children:o})," ",a&&(0,g.jsx)(k.x,{type:j.y.Body1Regular,tag:"span",transformOnMobile:!0,className:"s__vOUkxUPryvfqcG6kvINa",children:a})]}),(0,g.jsxs)("div",{className:"s__JxQ8jP9NA8XeA4LIa30q",children:[c&&(0,g.jsx)(k.x,{type:j.y.Body1Semi,tag:"span",transformOnMobile:!0,children:t("conditions")}),(0,g.jsx)(B.i,{className:"s__cI3RXFU3NobNZm7rMiQN"})]})]})},D={inputs:d,outputs:p,internals:{},components:{TravelRestrictionsPreviewSkeleton:x,TravelRestrictionsCard:e=>{const t=Boolean((0,b.useUnit)(R.l.outputs.$isMobile));return(0,g.jsx)(S,{isMobile:t,...e})}}};var P=i(47420),T=i(23588);let M;!function(e){e.Serp="serp",e.Explore="explore"}(M||(M={}));const E=(0,r.createStore)(null,{sid:"4rv19g"}),U=E.map((e=>e?.source===M.Explore||!1)),V=(0,r.createEvent)({sid:"-evmsox"}),{$enabled:O,turnOn:$,turnOff:L}=(0,r.withFactory)({sid:"-lpfsqb",fn:()=>(0,o.d)(a.qs,!1)}),{setSerp:F,setExplore:Z}=(0,r.createApi)({and:[E,{setSerp:(e,t)=>({source:M.Serp,searchId:t.searchId,ticketSign:t?.ticketSign||null,ticketLink:t?.ticketLink||null}),setExplore:()=>({source:M.Explore,searchId:null,ticketSign:null,ticketLink:null})}],or:{sid:"-xgg2t4"}});(0,r.sample)({and:[{clock:T.z.outputs.travelRestrictionInfomerClicked,target:[$,F]}],or:{sid:"1rffhj"}}),(0,r.sample)({and:[{clock:D.inputs.previewClicked,target:[$,Z]}],or:{sid:"25q2wx"}});const H={inputs:{showModal:$,hideModal:L,restrictionBlockClicked:V},outputs:{$isModalVisible:O,$isModalExplore:U,$modalContext:E},internals:{}},{$enabled:W,turnOn:Q,turnOff:z}=(0,r.withFactory)({sid:"pov8kl",fn:()=>(0,o.d)(a.qs,!1)}),G={showFeedback:Q,hideFeedback:z},X={$isFeedbackVisible:W,$feedbackData:(0,r.combine)({and:[P.i.outputs.$origin,P.i.outputs.$destination,H.outputs.$modalContext,(e,t,i)=>({originIata:e?.iata||null,destinationIata:t?.iata||null,modalSource:i?.source||null,ticketSign:i?.ticketSign||null,ticketLink:i?.ticketLink||null})],or:{sid:"6gms9o"}})},K=(0,r.createEvent)({sid:"mcbefr"});var Y=i(31409),J=i(30040),ee=i(24002),te=i(10924),ie=i(87722),ne=i(82203);const{platform:se}=ee.t.outputs,re=P.i.outputs.$destination.map((e=>e?.iata??null)),oe=re.map(Boolean),ae=P.i.outputs.$destination.map((function(e){return e?(0,ie.be)(e)?ne.yh.Country:(0,ie.rP)(e)?ne.yh.World:ne.yh.Direction:null})),le=(0,r.combine)({and:[s.S.outputs.$data,ae,({open:e,directAllowed:t},i)=>({pageName:"main",userEvent:!1,source:null,platform:se,travelInfoSource:i,restrictionState:{open:Number(e),directAllowed:Number(t)}})],or:{sid:"-31w1vv"}}),ce=le.map((({platform:e})=>Boolean(e))),ue=(0,r.sample)({and:[{clock:[D.outputs.$isWidgetViewed],source:le,filter:(0,r.withFactory)({sid:"ui0lkf",fn:()=>(0,Y.y)({stores:[ce,D.outputs.$isWidgetViewed],predicate:Boolean})})}],or:{sid:"-a6rxdt"}});te.I.inputs.createReporter({data:{category:"travel_info",label:"block",action:"showed",service:J.t6.Explore}})({clock:ue,payload:e=>e});const de=(0,r.combine)({and:[s.S.outputs.$data,le,({entryRestrictions:e,certificateRequired:t,certificateBeforeRequired:i,certificateAfterRequired:n,masksRequired:s,quarantineRequired:r,foodOpen:o,insuranceRequired:a},l)=>({...l,restrictionItems:{entry:Number(null!==e),certificate:Number(t),certificateBefore:Number(i),certificateAfter:Number(n),quarantine:Number(r),insurance:Number(a),mask:Number(s),food:Number(o)}})],or:{sid:"-3mhus3"}}),pe=(0,r.sample)({and:[{clock:D.inputs.previewClicked,source:de,filter:(0,r.withFactory)({sid:"-grjgy6",fn:()=>(0,Y.y)({stores:[ce,H.outputs.$isModalVisible],predicate:Boolean})})}],or:{sid:"-kn6rzf"}});te.I.inputs.createReporter({data:{category:"travel_info",label:"screen",action:"opened",service:J.t6.Explore}})({clock:pe,payload:e=>e});const me=(0,r.restore)(H.inputs.restrictionBlockClicked,"",{sid:"-opg0nw"}),fe=me.map((e=>Boolean(e))),ye=(0,r.combine)({and:[me,le,(e,t)=>({...t,restrictionItemType:e})],or:{sid:"-t63t38"}}),he=(0,r.sample)({and:[{clock:H.inputs.restrictionBlockClicked,source:ye,filter:(0,r.withFactory)({sid:"-grw7s4",fn:()=>(0,Y.y)({stores:[ce,fe,H.outputs.$isModalExplore],predicate:Boolean})})}],or:{sid:"-pocpvg"}});te.I.inputs.createReporter({data:{category:"travel_info",label:"screen_item",action:"opened",service:J.t6.Explore}})({clock:he,payload:e=>e});const ve=(0,r.sample)({and:[{clock:(0,r.sample)({and:[{clock:T.z.outputs.travelRestrictionInfomerClicked,source:re,fn:(e,{searchId:t})=>({pageName:"search",userEvent:!0,source:null,destination:e,searchId:t})}],or:{sid:"w2yx71"}}),filter:(0,r.withFactory)({sid:"-smdigx",fn:()=>(0,Y.y)({stores:[oe,H.outputs.$isModalVisible],predicate:Boolean})})}],or:{sid:"-469zr1"}});te.I.inputs.createReporter({data:{category:"search",label:"restriction_info",action:"showed",service:J.t6.Serp}})({clock:ve,payload:e=>e});const ge={...s.S.inputs,...D.inputs,...G,...H.inputs},xe={...s.S.outputs,...D.outputs,...X,...H.outputs},be={...s.S.internals},Re={...D.components},_e=(0,n.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/explore/services/travel_restrictions/index.ts",lifecycle:{start:K},api:{inputs:ge,outputs:xe,internals:be,components:Re}})},50405:function(e,t,i){i.d(t,{r:function(){return l}});var n=i(67294),s=i(28225),r=i(4190),o=i(86523),a=i(82846);const l=e=>{const{t:t}=(0,s.useTranslation)("service_travel_restrictions"),i=(0,o.d)("ts_day_month"),l=(0,r.useUnit)(a.S.outputs.$data),{open:c,openingDate:u,directAllowed:d,quarantineRequired:p}=l,m=(0,n.useMemo)((()=>{const n=e?"countryOpenShort":"countryOpen";return{closed:()=>({mainText:t("countryClosed"),additionalText:null}),closedUntilDate:()=>({mainText:t("countryClosed"),additionalText:t("countryClosedUntilDate",{openingDate:i(new Date(u))})}),openFromDate:()=>({mainText:t(n),additionalText:t("countryOpenFromDate",{openingDate:i(new Date(u))})}),openNotDirectWithQuarantine:()=>({mainText:t(n),additionalText:t("countryOpenNotDirectQuarantine")}),openNotDirect:()=>({mainText:t(n),additionalText:t("countryOpenNotDirect")}),openWithQuarantine:()=>({mainText:t(n),additionalText:t("countryOpenQuarantine")}),open:()=>({mainText:t("countryOpen"),additionalText:null})}}),[e,u,t,i]);return(0,n.useMemo)((()=>c?u?m.openFromDate():d?p?m.openWithQuarantine():m.open():p?m.openNotDirectWithQuarantine():m.openNotDirect():u?m.closedUntilDate():m.closed()),[c,u,d,p,m])}},30765:function(e,t,i){i.r(t),i.d(t,{TravelRestrictionsModal:function(){return le}});var n=i(98116),s=i(65752),r=i(64441),o=i(28225),a=i(4190),l=i(49963),c=i(44619),u=i(46531),d=i(9071),p=i(5393),m=i(4579),f=i(88831),y=i(99186),h=i(61330),v=i(68621),g=i(42177),x=i(50405),b=i(66728),R=i(38989),_=i(29238),w=i.n(_),N=i(85893),k=i(67294);const j=({className:e,...t},i)=>(0,N.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,N.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.881 3.147c-.363-.189-.799-.2-1.178-.01l-.385.193L9.95 6.27l2.969-.13-2.703-2.746a1.329 1.329 0 0 0-.335-.247Zm9.147 4.028a1.289 1.289 0 0 0-.618-.065l-12.25.536-.778-1.433a1.1 1.1 0 0 0-1.11-.577L4 5.672l.39 3.334c.01.278.101.545.26.768.16.223.38.392.632.483.185.066.381.09.576.068l4.802-.173-2.07 4.963.405.146c.531.192 1.121.018 1.475-.435l3.759-4.804 4.407-.16h.009V9.86c.267-.011.524-.105.739-.27a1.38 1.38 0 0 0 .464-.654 1.43 1.43 0 0 0-.058-1.057 1.35 1.35 0 0 0-.762-.704Zm-2.695 8.597L20 18.386 16.333 21v-1.901H5.13a.713.713 0 1 1 0-1.426h11.204v-1.901Z"})}),C=(0,k.memo)((0,k.forwardRef)(j));C.displayName="Icon24RestrictionsFlightFrom";const q=({className:e,...t},i)=>(0,N.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,N.jsx)("path",{d:"M12 3c-3.347 0-6.828.778-6.828.778l-.003.003c-.33.068-.626.251-.839.52-.213.267-.33.603-.33.949v4.5c0 7.799 7.288 11.058 7.288 11.058.218.126.463.192.712.192.248 0 .492-.067.709-.192h.003S20 17.548 20 9.75v-4.5a1.53 1.53 0 0 0-.33-.953 1.447 1.447 0 0 0-.842-.52S15.347 3 12 3Zm0 3.926c.146 0 .293.085.35.258l.842 2.57 2.63.033c.353.003.5.466.216.684l-2.11 1.62.784 2.59c.105.347-.278.634-.566.423L12 13.535l-2.146 1.569c-.288.21-.67-.076-.566-.423l.784-2.59-2.11-1.62c-.283-.217-.137-.68.216-.684l2.63-.033.843-2.57A.363.363 0 0 1 12 6.926Z"})}),B=(0,k.memo)((0,k.forwardRef)(q));B.displayName="Icon24RestrictionsInsurance";var A=i(94297);const I=({className:e,...t},i)=>(0,N.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,N.jsx)("path",{d:"M17.6 3H6.4C5.626 3 5 3.62 5 4.385v15.23C5 20.38 5.627 21 6.4 21h8.05a.704.704 0 0 0 .495-.203l3.85-3.808A.688.688 0 0 0 19 16.5V4.385C19 3.62 18.373 3 17.6 3ZM7.8 5.77c.386 0 .7.31.7.692a.696.696 0 0 1-.7.692c-.386 0-.7-.31-.7-.692 0-.383.314-.693.7-.693Zm2.8 0h5.6c.386 0 .7.31.7.692a.696.696 0 0 1-.7.692h-5.6c-.386 0-.7-.31-.7-.692 0-.383.314-.693.7-.693ZM7.8 9.23c.386 0 .7.31.7.693a.696.696 0 0 1-.7.692c-.386 0-.7-.31-.7-.692 0-.382.314-.692.7-.692Zm2.8 0h5.6c.386 0 .7.31.7.693a.696.696 0 0 1-.7.692h-5.6c-.386 0-.7-.31-.7-.692 0-.382.314-.692.7-.692Zm-2.8 3.462c.386 0 .7.31.7.693a.696.696 0 0 1-.7.692c-.386 0-.7-.31-.7-.692 0-.383.314-.693.7-.693Zm2.8 0h5.6c.386 0 .7.31.7.693a.696.696 0 0 1-.7.692h-5.6c-.386 0-.7-.31-.7-.692 0-.383.314-.693.7-.693Zm-2.8 3.462c.386 0 .7.31.7.692a.696.696 0 0 1-.7.692c-.386 0-.7-.31-.7-.692 0-.382.314-.692.7-.692Zm2.8 0h2.1v1.384h-2.1c-.386 0-.7-.31-.7-.692 0-.382.314-.692.7-.692Zm3.5 3.528v-2.836c0-.382.314-.692.7-.692h2.867L14.1 19.682Z"})}),S=(0,k.memo)((0,k.forwardRef)(I));S.displayName="Icon24RestrictionsRestrictions";const D=({className:e,...t},i)=>(0,N.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,N.jsx)("path",{d:"M5.28 3C4.573 3 4 3.575 4 4.286v14.143c0 .71.573 1.285 1.28 1.285h5.451A5.773 5.773 0 0 1 9.76 16.5c0-3.196 2.579-5.786 5.76-5.786.44 0 .868.054 1.28.148v-3.04a.643.643 0 0 0-.188-.455l-4.16-4.179A.638.638 0 0 0 12 3H5.28Zm6.4 1.224 3.901 3.919H12.32a.642.642 0 0 1-.64-.643V4.224ZM15.52 12c-2.474 0-4.48 2.015-4.48 4.5s2.006 4.5 4.48 4.5c2.474 0 4.48-2.015 4.48-4.5S17.994 12 15.52 12Zm1.92 2.571a.644.644 0 0 1 .452 1.097l-2.56 2.572a.637.637 0 0 1-.905 0l-1.28-1.285a.644.644 0 0 1 0-.91.637.637 0 0 1 .905 0l.828.832 2.107-2.117a.636.636 0 0 1 .453-.189Z"})}),P=(0,k.memo)((0,k.forwardRef)(D));P.displayName="Icon24RestrictionsTest";const T=({className:e,...t},i)=>(0,N.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,N.jsx)("path",{d:"M18.374 1.592a.8.8 0 0 0-.557 1.372l.399.4-1.433 1.433 2.397 2.398 1.433-1.433.4.4a.799.799 0 1 0 1.13-1.131l-3.197-3.197a.798.798 0 0 0-.572-.242Zm-4.787 2.406a.798.798 0 0 0-.565 1.364l.234.234-8.321 8.323c-.6.6-.937 1.413-.937 2.26v2.673l-1.364 1.364a.799.799 0 1 0 1.13 1.13l1.364-1.364H7.8c.848 0 1.66-.337 2.26-.936l8.321-8.324.235.235a.797.797 0 0 0 1.13 0 .799.799 0 0 0 0-1.13l-5.594-5.595a.796.796 0 0 0-.565-.234Zm.8 2.728 2.36 2.362a.73.73 0 0 1-1.033 1.033l-.807-.807a.736.736 0 0 0-1.042 0l-1.71 1.711.399.4a.798.798 0 1 1-1.13 1.13l-.4-.4-1.267 1.268.4.4a.798.798 0 1 1-1.13 1.13l-.4-.4-1.796 1.797a.732.732 0 1 1-1.033-1.033l8.588-8.59Z"})}),M=(0,k.memo)((0,k.forwardRef)(T));M.displayName="Icon24RestrictionsVaccine";var E=i(19772);let U;!function(e){e.Quarantine="quarantine",e.Certificate="certificate",e.CertificateBefore="certificateBefore",e.CertificateAfter="certificateAfter",e.Vaccination="vaccination",e.Insurance="insurance",e.Country="country",e.Entry="entry",e.Masks="masks",e.Food="food"}(U||(U={}));var V=i(94184),O=i.n(V),$=i(41003),L=i(80871),F=i(18651),Z=i(71011),H=i(62423);let W;!function(e){e.Bubble="bubble",e.Umbrella="umbrella"}(W||(W={}));var Q={container:"s___jUEy81awWt0LWpigdwQ",disclosure:"s__as7YNi4HP0v4vmAZt87M",premiumIcon:"s__loWV3maEHG3ahm4okzy5",disclosureIcon:"s__oP4u3nfboNV8yYIKdkg0"};const z={[W.Bubble]:F.y,[W.Umbrella]:Z.N},G=e=>{const t=(0,a.useUnit)(g.X.inputs.entryPointInteracted),{icon:i,text:n,link:s,className:r,withDisclosure:u}=e,d=(0,k.useCallback)((e=>!!s||(e.preventDefault(),t(H.N9.TravelRestrictionsSupport),!1)),[s,t]),p=(0,k.useMemo)((()=>z[i]),[i]);return(0,N.jsxs)($.r,{className:O()(Q.container,r,{[Q.disclosure]:u}),href:s,onClick:d,children:[(0,N.jsx)(p,{className:Q.premiumIcon}),(0,N.jsx)(l.x,{type:c.y.Body2Regular,mobileType:c.y.Body3Regular,className:Q.text,children:(0,N.jsx)(o.Trans,{defaults:n,components:{strong:(0,N.jsx)("strong",{})}})}),u&&(0,N.jsx)(L.i,{className:Q.disclosureIcon})]})};w().addHook("afterSanitizeAttributes",(e=>{"A"===e.tagName&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer"))}));const X=e=>{if(!e)return e;const t=(e=>{if("—"!==e.charAt(0))return e;let t=e.split("\n");return t=t.map((e=>`<li>${e.trim()}</li>`)),`<ul>${t.join("")}</ul>`})(e);return w().sanitize(t)},K=["closedCountryRule1","closedCountryRule2","closedCountryRule3","closedCountryRule4"];var Y=i(78620);const J=e=>{const{icon:t,title:i,type:n,shortDescription:s,fullDescription:r,premiumPromo:o,isActive:u}=e,[d,p]=(0,k.useState)(!1),m=(0,a.useUnit)(h.Y.inputs.restrictionBlockClicked),f=(0,k.useCallback)((()=>{d||m(n),p(!d)}),[m,n,d,p]),y=Boolean(r),v=y?"button":"div";return(0,N.jsx)("li",{className:"s__khSaIn_CXKdvrd1tX6xu",children:(0,N.jsxs)("div",{className:"s__P5cBwePOFr5nv6HQp4Lo",children:[(0,N.jsxs)(v,{className:O()("s__o25w5gC36fgUHXg3pu5Q",y&&"s__Fzn36RssjsnieL3UpVYX"),...y&&{onClick:f},children:[(0,N.jsx)("div",{className:O()("s__i42hSH3H5oMKxQ5TqDow",u&&"s__EyOGvzG_ftHCpdY8Nb_4"),children:t}),(0,N.jsxs)("div",{className:"s__vwcukIXqKTBYmr11uoSh",children:[(0,N.jsx)(l.x,{className:"s__Il31a7f8FDpGM6lwNOW5",tag:"h2",type:c.y.Body2Semi,children:i}),s&&(0,N.jsx)(l.x,{type:c.y.Body2Regular,children:s})]}),y&&(0,N.jsx)(Y.I,{className:O()("s__GQtMfJ6nyVmn1CHHVEGe",d&&"s__MNEETGgtRJvVUf8vuMa9")})]}),d&&r&&(0,N.jsxs)(N.Fragment,{children:[o&&(0,N.jsx)(G,{icon:o.icon,text:o.text,link:o.link,className:"s__UG1tUwE93AG_UZkKKm3w"}),(0,N.jsx)(l.x,{className:"s__NgGx3PoYizs6o80_JK7A",type:c.y.Body2Regular,dangerouslySetInnerHTML:{__html:r}})]})]})})};var ee=i(96231),te=i(77772);const ie=({className:e})=>{const{t:t}=(0,o.useTranslation)("widget_travel_restrictions"),i=(0,a.useUnit)(h.Y.inputs.showFeedback);return(0,N.jsxs)(te.X,{"data-test-id":"tr-update-informer",className:e,children:[(0,N.jsx)(te.X.Icon,{children:(0,N.jsx)(ee.A,{})}),(0,N.jsx)(te.X.Text,{children:t("updateInformation")}),(0,N.jsx)(te.X.Text,{tag:"span",type:c.y.Body3Semi,children:(0,N.jsx)($.r,{href:"#",onClick:e=>{e.preventDefault(),i()},children:t("feedback.reportText")})})]})},ne=(0,k.memo)(ie);var se="s__Fg2pDo8VeUeDe6CMkyLi",re="s___upp8uQ1Nd4ucvzhl31w";const oe=()=>{const{t:e}=(0,o.useTranslation)("widget_travel_restrictions"),t=(0,a.useUnit)(y.l.outputs.$language),i=(0,a.useUnit)({data:h.Y.outputs.$data,visible:h.Y.outputs.$isModalVisible,hide:h.Y.inputs.hideModal}),n=(0,a.useUnit)({isEnabled:g.X.outputs.$isTravelRestrictionsEntryPointEnabled,isPremium:v.b.outputs.$isAnyPremiumActive}),s=(r=i.visible,_=i.hide,(0,b.j)("TRAVEL_RESTRICTIONS_MODAL",(0,R.A)({externalVisibility:r,onClose:_})));var r,_;const{summary:w,city:k,country:j,open:q,relevanceInfo:I}=i.data,{mainText:D}=(0,x.r)(),{entryRules:T,internalRules:V}=((e,t,i)=>{const{certificateRequired:n,certificatePolicy:s,certificateBeforeRequired:r,certificateBeforePolicy:o,certificateAfterRequired:a,certificateAfterPolicy:l,vaccinationRequired:c,vaccinationPolicy:u,entryRestrictions:d,foodOpen:p,foodPolicy:m,insuranceRequired:f,insurancePolicy:y,internalRestrictions:h,masksRequired:v,masksPolicy:g,quarantineRequired:x,quarantinePolicy:b}=e;return{entryRules:[{type:U.Quarantine,isVisible:null!=x,title:i("quarantineOnEntry"),shortDescription:i(x?"required":"notRequired"),fullDescription:X(b),Icon:C,isActive:x},{type:U.Certificate,isVisible:null!=n&&null===r&&null===a,title:i("covidCertificate"),shortDescription:i(n?"required":"notRequired"),fullDescription:X(s),Icon:P,isActive:n},{type:U.CertificateBefore,isVisible:null!=r,title:i("covidCertificateBefore"),shortDescription:i(r?"required":"notRequired"),fullDescription:X(o),Icon:P,isActive:r},{type:U.Vaccination,isVisible:null!==c,title:i("vaccination"),shortDescription:i(c?"required":"notRequired"),fullDescription:X(u),Icon:M,isActive:c},{type:U.Insurance,isVisible:null!=f,title:i("covidInsurance"),shortDescription:i(f?"required":"notRequired"),fullDescription:X(y),Icon:B,premiumPromo:t.isEnabled?{icon:W.Umbrella,text:i("premiumPromo.covidInsurance"),link:t.isPremium?"/my/more?offer_id=24":""}:null,isActive:f},{type:U.Entry,isVisible:null!=d,title:i("additionalRequirements"),shortDescription:null,fullDescription:X(d),Icon:S,isActive:Boolean(d)}].filter((e=>e.isVisible)).sort(((e,t)=>Number(t.isActive)-Number(e.isActive))),internalRules:[{type:U.Country,isVisible:null!=h,title:i("internalRules"),shortDescription:null,fullDescription:X(h),Icon:S,isActive:h},{type:U.CertificateAfter,isVisible:null!=a,title:i("covidCertificateAfter"),shortDescription:i(a?"required":"notRequired"),fullDescription:X(l),Icon:P,isActive:a},{type:U.Masks,isVisible:null!=v,title:i("masks"),shortDescription:i(v?"required":"notRequired"),fullDescription:X(g),Icon:E.Q,isActive:v},{type:U.Food,isVisible:null!=p,title:i("restaurants"),shortDescription:i(p?"restaurantsOpen":"restaurantsClosed"),fullDescription:X(m),Icon:A._,isActive:!p}].filter((e=>e.isVisible)).sort(((e,t)=>Number(t.isActive)-Number(e.isActive)))}})(i.data,n,e),O=((e,t)=>{const{isEnabled:i,isPremium:n}=e;return i?{icon:W.Bubble,text:t("premiumPromo.common"),link:n?"/my/more":""}:null})(n,e),$=k?.translations[t].su,L=j?.translations[t].su,F=[$,L].filter(Boolean).join(", "),Z=q?m.D:f.W;return(0,N.jsxs)(u.G,{...s,padding:[16,48,48],dataTestId:"tr-modal",children:[(0,N.jsx)(u.G.Navigation,{children:(0,N.jsx)(d.w.RightAccessory,{children:(0,N.jsx)(p.P,{"data-test-id":"tr-modal-close-button",onClick:s.close})})}),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"s__uT7yrwwG2h7LospuB6gg",children:[(0,N.jsx)(l.x,{tag:"h2",className:"s__EFOA5QuHzrHOAwsUsNAb",type:c.y.Title2Bold,transformOnMobile:!0,children:F}),(0,N.jsx)(l.x,{tag:"span",className:"s__cNFTOmNC_FHSUW2rZsdM",type:c.y.Body1Regular,transformOnMobile:!0,children:I})]}),(0,N.jsxs)("div",{className:"s__IZD2GPMCcKnMvkHJ9hcK",children:[(0,N.jsxs)("div",{className:"s__TSU6EillIQrLTzZVCVOK",children:[(0,N.jsx)(Z,{className:"s__Mfv4PXm6iUXKwNp7h5Wc"}),(0,N.jsx)(l.x,{type:c.y.Body2Semi,tag:"span",className:"s__Ezj5gLk7EtJ9d1apcVL0",children:D})]}),(0,N.jsx)(l.x,{type:c.y.Body2Regular,tag:"span",className:"s__fq2dfQ4JshQYI986Qbst",children:w})]}),O&&(0,N.jsx)(G,{...O,withDisclosure:!0,className:"s__qvSNEuuTVlua7JWoEkSG"}),T.length>0&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(l.x,{className:se,tag:"h4",type:c.y.Title4Bold,children:e("entryRules")}),!q&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(l.x,{type:c.y.Body2Regular,children:e("closedCountryWarning")}),(0,N.jsx)("ul",{className:"s__kutSqb5nr6L2TLLMiJUM",children:K.map((t=>(0,N.jsx)("li",{className:"s__EHRRpResTP5xCN6LIOS5",children:(0,N.jsx)(l.x,{type:c.y.Body2Regular,children:e(t)})},t)))})]}),q&&(0,N.jsx)("ul",{"data-test-id":"tr-entry-rules",className:re,children:T.map((({type:e,title:t,shortDescription:i,fullDescription:n,Icon:s,premiumPromo:r,isActive:o})=>(0,N.jsx)(J,{type:e,title:t,shortDescription:i,fullDescription:n,icon:(0,N.jsx)(s,{}),premiumPromo:r,isActive:Boolean(o)},t)))})]}),q&&V.length>0&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(l.x,{className:se,tag:"h4",type:c.y.Title4Bold,children:e("internalRestrictions")}),(0,N.jsx)("ul",{"data-test-id":"tr-internal-rules",className:re,children:V.map((({type:e,title:t,shortDescription:i,fullDescription:n,Icon:s,isActive:r})=>(0,N.jsx)(J,{type:e,title:t,shortDescription:i,fullDescription:n,icon:(0,N.jsx)(s,{}),isActive:Boolean(r)},t)))})]}),(0,N.jsx)(ne,{className:"s__PemhkbTORuEErlyEpjhh"})]})]})},{travelRestrictionsFlag:ae}=r.i.outputs,le=(0,n.withFactory)({sid:"-ixqz97",fn:()=>(0,s.bU)({if:ae.$value,then:oe})})},65752:function(e,t,i){i.d(t,{SC:function(){return d},bU:function(){return p},pb:function(){return m}});var n=i(4190),s=i(98116),r=i(67294);function o(e){return function(t){const{stores:i,events:n,data:s,functions:o}=a(t.bind),c=a(t.hooks||{});return r.forwardRef(((a,u)=>{const d=e.useUnit(i,t.useUnitConfig),p=e.useUnit(n,t.useUnitConfig),m=l(o),f=Object.assign({ref:u},d,p,s,m,a),y=e.useUnit(c.events,t.useUnitConfig),h=l(c.functions);return r.useEffect((()=>{const e=Object.assign({},h,y);return e.mounted&&e.mounted(),()=>{e.unmounted&&e.unmounted()}}),[y,h]),r.createElement(t.view,f)}))}}function a(e){const t={},i={},n={},r={};for(const o in e){const a=e[o];s.is.event(a)||s.is.effect(a)?t[o]=a:s.is.store(a)?i[o]=a:"function"==typeof a?r[o]=a:n[o]=a}return{events:t,stores:i,data:n,functions:r}}function l(e){const t=(0,n.useProvidedScope)();return r.useMemo((()=>{const i={};for(const n in e){const r=e[n];i[n]=(0,s.scopeBind)(r,{scope:t||void 0,safe:!0})}return i}),[t,e])}const c=()=>null;function u(e,t){const i={}.hasOwnProperty;for(const n in e)i.call(e,n)&&t(n)}const d=o(n),p=(o(n),function(e){const t=o(e);return function(i){let n,s,o;"if"in i?(n=i.if.map((e=>e?"then":"else")),s={then:i.then,else:i.else},o=c):(n=i.source,s=i.cases,o=i.default??c);const a=i.bind??{};return t({bind:a,view:function(t){const a=e.useUnit(n,i.useUnitConfig),l=s[a]??o;return r.createElement(l,t)},hooks:i.hooks,useUnitConfig:i.useUnitConfig})}}(n)),m=function(e){const t=o(e);return function(i){const o=t({view:i.view,bind:i.bind?i.bind:{},hooks:i.hooks,useUnitConfig:i.useUnitConfig}),a={getKey:i.getKey,fn:(e,t)=>{const a=(0,n.useProvidedScope)(),l=r.useMemo((()=>{const n={};return i.mapItem?u(i.mapItem,(r=>{const o=(0,i.mapItem[r])(e,t);n[r]="function"==typeof o?(0,s.scopeBind)(o,{safe:!0,scope:a||void 0}):o})):u(e,(t=>{n[t]=e[t]})),n}),[e,t]);return r.createElement(o,l)}};return()=>e.useList(i.source,a)}}(n)},96231:function(e,t,i){i.d(t,{A:function(){return o}});var n=i(85893),s=i(67294);const r=({className:e,...t},i)=>(0,n.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.515 13.414a2 2 0 0 1 0-2.828L5 9.1V7a2 2 0 0 1 2-2h2.1l1.486-1.485a2 2 0 0 1 2.828 0L14.9 5H17a2 2 0 0 1 2 2v2.1l1.485 1.486a2 2 0 0 1 0 2.828L19 14.9V17a2 2 0 0 1-2 2h-2.1l-1.486 1.485a2 2 0 0 1-2.828 0L9.1 19H7a2 2 0 0 1-2-2v-2.1l-1.485-1.486Zm7.692 2.293 5.5-5.5-1.414-1.414-4.793 4.793-2.293-2.293-1.414 1.414 3 3h1.414Z"})}),o=(0,s.memo)((0,s.forwardRef)(r));o.displayName="Icon24CommonVerified"},19772:function(e,t,i){i.d(t,{Q:function(){return o}});var n=i(85893),s=i(67294);const r=({className:e,...t},i)=>(0,n.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,n.jsx)("path",{d:"M23.822 10.901c-.287-.78-.88-1.416-1.665-1.815a.564.564 0 0 0-.765.236.51.51 0 0 0 .249.726c.536.254.918.672 1.11 1.198.267.726.248 2.306-2.488 4.902V8.36c0-.2-.114-.382-.306-.472C19.804 7.797 16.227 6 12.037 6c-4.19 0-7.767 1.797-7.92 1.888a.521.521 0 0 0-.306.472v7.897C.999 13.588.979 12.009 1.247 11.264a2.113 2.113 0 0 1 1.11-1.198.534.534 0 0 0 .249-.726.592.592 0 0 0-.766-.236A3.295 3.295 0 0 0 .176 10.92c-.478 1.307-.21 3.558 3.75 6.934.114.091.248.146.382.146H19.69c.038 0 .076 0 .114-.018.02 0 .02 0 .039-.019.019 0 .038-.018.057-.018.02 0 .02-.018.038-.018.02 0 .039-.018.058-.036.019 0 .019-.018.038-.037.019 0 .019-.018.038-.018 3.98-3.376 4.228-5.628 3.75-6.935Zm-7.136.49c-.057.255-.287.418-.555.418-.038 0-.096 0-.134-.018a18.212 18.212 0 0 0-7.92 0 .573.573 0 0 1-.689-.4c-.076-.29.115-.58.421-.653a19.54 19.54 0 0 1 8.456 0c.306.072.497.363.421.654Zm.02 2.778c0 .309-.25.545-.575.545H7.943c-.325 0-.574-.236-.574-.545 0-.309.249-.545.574-.545h8.188c.325 0 .574.236.574.545Z"})}),o=(0,s.memo)((0,s.forwardRef)(r));o.displayName="Icon24RestrictionsMask"},94297:function(e,t,i){i.d(t,{_:function(){return o}});var n=i(85893),s=i(67294);const r=({className:e,...t},i)=>(0,n.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:e,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...t,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m10.182 10.807-1.106.7.844 8.317a2.048 2.048 0 0 1-.912 1.879 1.846 1.846 0 0 1-2.01 0 2.048 2.048 0 0 1-.912-1.88l.844-8.316-1.107-.7a1.803 1.803 0 0 1-.822-1.587L5.2 2.55A.559.559 0 0 1 5.752 2a.56.56 0 0 1 .546.552l.143 4.35a.47.47 0 0 0 .398.467.424.424 0 0 0 .334-.109.468.468 0 0 0 .15-.33l.144-4.355a.56.56 0 0 1 .546-.573.56.56 0 0 1 .546.573l.143 4.355a.468.468 0 0 0 .146.325.424.424 0 0 0 .325.114.47.47 0 0 0 .397-.466l.14-4.35A.56.56 0 0 1 10.254 2a.56.56 0 0 1 .546.552L11 9.222a1.803 1.803 0 0 1-.817 1.585ZM19 7.075c0 2.147-.788 3.96-1.908 4.7l.81 8.049c.057.756-.293 1.482-.905 1.879a1.82 1.82 0 0 1-1.994 0c-.612-.397-.962-1.123-.905-1.88l.81-8.047c-1.12-.74-1.908-2.554-1.908-4.7C13 4.271 14.344 2 16 2s3 2.272 3 5.075Z"})}),o=(0,s.memo)((0,s.forwardRef)(r));o.displayName="Icon24RestrictionsRestaurant"}}]);
//# sourceMappingURL=https://private-static.prod.k8s.int.avs.io/selene-source-maps/travel_restrictions_modal.b44961b8d58a8d374c6d.min.js.map