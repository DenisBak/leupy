(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[29342],{77195:function(t,e,i){"use strict";i.d(e,{H:function(){return n},p:function(){return a}});var s=i(98116);const n=(0,s.createEffect)((()=>{try{window.scrollTo({top:0})}catch(t){}}),{sid:"-d0h5vd"}),a=(0,s.createEffect)((()=>{try{window.scrollTo({top:0,left:0,behavior:"smooth"})}catch(t){}}),{sid:"-12zwe7"})},4979:function(t,e,i){"use strict";i.d(e,{_R:function(){return c},Bf:function(){return o}});var s=i(35529),n=i(45711);const a=(0,s.Record)({destination:(0,s.Record)({iata:s.String,translations:(0,s.Dictionary)(n.Cu,s.String)}),price:(0,s.Record)({value:s.Number,currency:s.String}).nullable(),travel_restrictions:(0,s.Record)({country_travel_restrictions:(0,s.Record)({open:s.Boolean}).nullable(),city_travel_restrictions:(0,s.Record)({open:s.Boolean}).nullable()}),city_info:(0,s.Record)({image_url:s.String.nullable()}).nullable()}),r=(0,s.Record)({country:(0,s.Record)({iata:s.String,translations:(0,s.Dictionary)(n.Cu,s.String)}),directions:(0,s.Array)(a),total:s.Number}),o=(0,s.Record)({country_best_directions_v2:r.nullable()}),c="\n  query GetCountryBestDirectionsV2(\n    $input: CountryBestDirectionsV2Input!\n    $brand: Brand!\n    $language: String!\n  ) {\n    country_best_directions_v2(\n      input: $input\n      brand: $brand\n    ) {\n      country {\n        iata\n        translations(filters: { locales: [$language] })\n      }\n      total\n      directions {\n        city_info {\n          image_url\n        }\n        destination {\n          iata\n          translations(filters: { locales: [$language] })\n        }\n        price {\n          value\n          currency\n        }\n        travel_restrictions {\n          country_travel_restrictions {\n            open\n          }\n          city_travel_restrictions {\n            open\n          }  \n        }\n      } \n    }\n  }\n"},31482:function(t,e,i){"use strict";i.d(e,{u:function(){return g},m:function(){return v}});var s=i(67294),n=i(94184),a=i.n(n),r=i(4190),o=i(49963),c=i(44619),l=i(1156),d=i(39535),u=i(38387),p=i(33864),m=i(97405),h={container:"s__C7USyWle8fC170afVtrQ",icon:"s__prngFx82x0qU33OmayFc",title:"s__VtCrt42A8X_cJsOTuKjM",message:"s__svye5St7soZIecGFnkP7",button:"s__w8xM8UoV4GmCmFx_iZMF"},f=i(85893);const y=a().bind(h);function g({icon:t,title:e,text:i,onButtonClick:n,buttonText:a,dataTestId:g,layoutClassName:_,containerClassName:v,titleClassName:x,descriptionClassName:w}){const b=(0,r.useUnit)(u.l.outputs.$isMobile),C=(0,s.cloneElement)(t,{className:y(t.props.className,h.icon)}),j=(0,s.useCallback)((t=>{n&&(t.preventDefault(),t.stopPropagation(),n())}),[n]);return(0,f.jsx)(p.A,{"data-test-id":g,className:_,children:(0,f.jsx)(m.fw,{in:!0,name:"fade",appear:!0,children:(0,f.jsxs)(p.A.Block,{className:y(h.container,v),children:[C,e&&(0,f.jsx)(o.x,{tag:"h2",transformOnMobile:!0,type:c.y.Title2Bold,className:y(h.title,x),mobileType:c.y.Title4Bold,children:e}),Array.isArray(i)?i.map(((t,e)=>(0,f.jsx)(o.x,{tag:"p",transformOnMobile:!0,type:c.y.Body1Paragraph,className:h.message,mobileType:c.y.Body2Paragraph,children:t},e))):(0,f.jsx)(o.x,{tag:"p",transformOnMobile:!0,type:c.y.Body1Paragraph,className:y(h.message,w),mobileType:c.y.Body2Paragraph,children:i}),a&&(0,f.jsx)(l.z,{type:d.Ji.Primary,size:b?d.qE.S:d.qE.M,className:h.button,onClick:j,children:a})]})})})}const _=a().bind(h);function v({icon:t,title:e,text:i,onButtonClick:n,buttonText:a,dataTestId:p,containerClassName:m,titleClassName:y,descriptionClassName:g}){const v=(0,r.useUnit)(u.l.outputs.$isMobile),x=(0,s.cloneElement)(t,{className:_(t.props.className,h.icon)});return(0,f.jsxs)("div",{"data-test-id":p,className:_(h.container,m),children:[x,e&&(0,f.jsx)(o.x,{tag:"h2",transformOnMobile:!0,type:c.y.Title2Bold,className:_(h.title,y),mobileType:c.y.Title4Bold,children:e}),Array.isArray(i)?i.map(((t,e)=>(0,f.jsx)(o.x,{tag:"p",transformOnMobile:!0,type:c.y.Body1Paragraph,className:h.message,mobileType:c.y.Body2Paragraph,children:t},e))):(0,f.jsx)(o.x,{tag:"p",transformOnMobile:!0,type:c.y.Body1Paragraph,className:_(h.message,g),mobileType:c.y.Body2Paragraph,children:i}),(0,f.jsx)(l.z,{type:d.Ji.Primary,size:v?d.qE.S:d.qE.M,className:h.button,onClick:n,children:a})]})}},33350:function(t,e,i){"use strict";i.d(e,{$:function(){return F}});var s=i(30091),n=i(98116),a=i(72675),r=i(38032),o=i(16243),c=i(11763),l=i(47420),d=i(87722),u=i(41520),p=i(77195),m=i(80094),h=i(38387);const{$exploreFlowEnabled:f}=u.l.outputs,{$isAviaFormActive:y}=c.B.outputs,{toAviaForm:g}=c.B.inputs,{$isSimpleSearch:_,$destination:v}=l.i.outputs,{toSimpleSearch:x,changeDestination:w,updateAnalyticsDirectionSource:b}=l.i.inputs,{notificationsViewContext:C}=m.B.inputs,{$isMobile:j}=h.l.outputs,S=(0,n.createEvent)({sid:"-mw7bwe"}),N=(0,o.J)({parameters:{isEnabled:(0,o.C)({read:f}),destination:(0,o.C)({read:v,write:w}),aviaFormIsActive:(0,o.C)({read:y,write:g}),searchModeIsSimple:(0,o.C)({read:_,write:x})},checkActive:({isEnabled:t,destination:e,aviaFormIsActive:i,searchModeIsSimple:s})=>!!(t&&i&&s&&(0,d.be)(e)),beforeOpen:(t,e)=>({isEnabled:e.isEnabled,destination:t.country??null,aviaFormIsActive:!0,searchModeIsSimple:!0}),initialized:S});(0,n.sample)({and:[{clock:N.opened,target:p.H}],or:{sid:"-fqwzsv"}}),(0,n.sample)({and:[{clock:N.open,filter:t=>Boolean(t.analytics?.directionSource),fn:t=>t.analytics.directionSource,target:b}],or:{sid:"-fptem5"}}),C({overrides:{position:"bottom"},setupOn:(0,n.sample)({and:[{clock:[j.updates,N.$active.updates],filter:(0,n.withFactory)({sid:"8srfyl",fn:()=>(0,a.x)(j,N.$active)})}],or:{sid:"vf7i0c"}}),dropOn:(0,n.sample)({and:[{clock:[N.closed,(0,n.sample)({and:[{clock:j.updates,filter:(0,n.withFactory)({sid:"lkzazy",fn:()=>(0,r.f)(j)})}],or:{sid:"-u8w33t"}})]}],or:{sid:"-ynema2"}})});const F=(0,s.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/explore/services/screen_country/index.ts",api:{outputs:{countryScreen:N}},lifecycle:{start:S}})},76101:function(t,e,i){"use strict";i.d(e,{A:function(){return $}});var s=i(30091),n=i(98116),a=i(87722),r=i(16243),o=i(82672),c=i(11763),l=i(47420),d=i(82203),u=i(85658);const{matchPage:p,pages:m}=o.$.outputs,{$isAviaFormActive:h}=c.B.outputs,{toAviaForm:f}=c.B.inputs,{$isSimpleSearch:y,$origin:g,$destination:_,$currentDateCase:v,$emptyDates:x,originChanged:w,destinationChanged:b}=l.i.outputs,{toSimpleSearch:C,changeOrigin:j,changeDestination:S,updateAnalyticsDirectionSource:N}=l.i.inputs,{scrollToTop:F}=u.u.inputs,k=p(m.MainPage).$isOpen,M=(0,n.createEvent)({sid:"6auhnk"}),E=(0,r.J)({parameters:{isMainPage:(0,r.C)({read:k}),origin:(0,r.C)({read:g,write:j}),destination:(0,r.C)({read:_,write:S}),aviaFormIsActive:(0,r.C)({read:h,write:f}),searchModeIsSimple:(0,r.C)({read:y,write:C}),isDatesEmpty:(0,r.C)({read:x}),currentDateCase:(0,r.C)({read:v})},checkActive:({isMainPage:t,origin:e,destination:i,aviaFormIsActive:s,searchModeIsSimple:n,isDatesEmpty:r,currentDateCase:o})=>Boolean(t&&s&&n&&e&&i&&(0,a.bx)(e,i)&&r&&o!==d.M4.Weekends),beforeOpen:(t,e)=>({origin:e.origin,destination:t.destination??null,aviaFormIsActive:!0,searchModeIsSimple:!0,isMainPage:!0,isDatesEmpty:e.isDatesEmpty,currentDateCase:e.currentDateCase}),initialized:M});(0,n.sample)({and:[{clock:E.opened,target:F}],or:{sid:"w9mvc"}}),(0,n.sample)({and:[{clock:[w,b],filter:E.$wasOpened,target:F}],or:{sid:"1akaaq"}}),(0,n.sample)({and:[{clock:E.open,filter:t=>Boolean(t.analytics?.directionSource),fn:t=>t.analytics.directionSource,target:N}],or:{sid:"1eyn1m"}});const $=(0,s.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/explore/services/screen_direction/index.ts",api:{outputs:{directionScreen:E}},lifecycle:{start:M}})},90135:function(t,e,i){"use strict";i.r(e),i.d(e,{Cities:function(){return pe}});var s=i(98116),n=i(65752),a=i(4190),r=i(28225),o=i(6328),c=i(80871),l=i(33864),d=i(97405),u=i(38387),p=i(29178),m=i(47047),h=i(15863),f=i(91585);function y(t,e){return t.map((t=>t.value?{...t,value:t.value*e}:t))}var g=i(76588),_=i(8681),v=i(47420),x=i(41832),w=i(96864),b=i(53788),C=i(99186),j=i(79403),S=i(33350),N=i(4979),F=i(56828),k=i(87722),M=i(11155);const E=(t,e)=>{if(!t?.country_best_directions_v2)return null;const{country:i,directions:s,total:n}=t.country_best_directions_v2,a=i.translations[e]?.su,r=s[0]?.travel_restrictions.country_travel_restrictions?.open??null,o=s.map((t=>{const{destination:s,price:n,travel_restrictions:a,city_info:o}=t,{iata:c,translations:l}=s;return{iata:c,name:l[e]?.su,countryIata:i.iata,imageUrlTemplate:o?.image_url??null,value:n?.value??null,open:a.city_travel_restrictions?.open??r}}));return{name:a,code:i.iata,total:n,prices:o}},$=(0,s.createEvent)({sid:"s5y1k7"}),D=(0,s.combine)({and:[{currency:x.y.outputs.$currency,userCitizenship:w.W.outputs.$userCitizenship,market:b.D.outputs.$market,language:C.l.outputs.$language,brand:j.U.outputs.$brand,origin:v.i.outputs.$origin,destination:v.i.outputs.$destination,dates:v.i.outputs.$ariadneDates,tripClass:v.i.outputs.$tripClass,isOneWay:v.i.outputs.$isOneWay},({currency:t,userCitizenship:e,market:i,language:s,brand:n,origin:a,destination:r,dates:o,tripClass:c,isOneWay:l})=>({brand:n,language:s,input:{destination_country_iata:(0,F.G4)(r),origin_iata:(0,k.Mo)(a),origin_type:(0,k.Ef)(a),passport_country:e,trip_class:c,one_way:l,currency:t,market:i,filters:{direct:!1},dates:o}})],or:{sid:"-828nhj"}}),A=(0,s.combine)({and:[{isCountryScreen:S.$.outputs.countryScreen.$active,origin:v.i.outputs.$origin},({isCountryScreen:t,origin:e})=>t&&!e?.isVirtual],or:{sid:"or74q8"}}),P=(0,s.withFactory)({sid:"el9ck3",fn:()=>(0,m.d)((()=>_.a.inputs.createAriadneQuery({params:(0,s.withFactory)({sid:"-jy9uv5",fn:()=>(0,g.t6)()}),graphQL:{query:N._R,operationName:"country_best_directions_v2",variables:{source:D,fn:(t,e)=>({...e,input:{...e.input,paging:{offset:0,limit:t}}})}},enabled:A,contract:N.Bf,mapData:{source:C.l.outputs.$language,fn:E}})))});(0,s.withFactory)({sid:"347avx",fn:()=>(0,g.Np)(P,{triggers:[$]})});const T=(0,s.withFactory)({sid:"-9j9ou6",fn:()=>(0,g._7)(P)});(0,s.withFactory)({sid:"36y9uq",fn:()=>(0,g.Np)(T,{automatically:!0})}),(0,s.sample)({and:[{clock:M.citiesInitialized,fn:()=>8,target:T.refresh}],or:{sid:"381v1g"}});const B=(0,s.withFactory)({sid:"8jano4",fn:()=>(0,g._7)(P)});(0,s.withFactory)({sid:"3ojoua",fn:()=>(0,g.Np)(B,{automatically:!0})}),(0,s.sample)({and:[{clock:T.refresh,target:B.reset}],or:{sid:"3pna10"}});const I=T.$status,{$aviaPriceMultiplier:O}=f.t.outputs,U=(0,s.combine)({and:[T.$data,O,(t,e)=>t?.prices?y(t.prices,e):[]],or:{sid:"lhbq9j"}}),z=T.$pending,R=(0,s.combine)({and:[T.$data,t=>t?.total??0],or:{sid:"bvt6x4"}});var q=i(30040),L=i(10924),V=i(24002);const{createReporter:Z}=L.I.inputs,{platform:J}=V.t.outputs,Q={category:"country",label:"cities_block",service:q.t6.Explore},H={pageName:"main",source:null,platform:J},W=(0,s.createEvent)({sid:"-h3fw51"}),G=(0,s.createEvent)({sid:"y4ou6z"}),K=Z({data:{...Q,action:"opened"}}),X=Z({data:{...Q,action:"showed"}});K({clock:G,payload:()=>({...H,userEvent:!0})}),X({clock:W,payload:()=>({...H,userEvent:!1})});const{$aviaPriceMultiplier:Y}=f.t.outputs,{$enabled:tt,turnOn:et,turnOff:it}=(0,s.withFactory)({sid:"-ebhzo5",fn:()=>(0,m.d)(h.qs,!1)});(0,s.sample)({and:[{clock:et,target:G}],or:{sid:"-lviyju"}});const st=(0,s.combine)({and:[B.$data,Y,(t,e)=>t?.prices?y(t.prices,e):[]],or:{sid:"-mwmtex"}}),nt=B.$pending;(0,s.sample)({and:[{clock:et,source:R,filter:(0,s.withFactory)({sid:"-aeulci",fn:()=>(0,p.c)(B.$data)}),target:B.refresh}],or:{sid:"-la2zer"}});var at=i(41609),rt=i.n(at),ot=i(94184),ct=i.n(ot),lt=i(5500),dt=i(86523),ut=i(4407),pt=i(49963),mt=i(44619),ht=i(82525);const{$picsHost:ft}=ht.B.outputs,yt=(0,s.combine)({and:[ft,t=>`https://${t}/explore/cities/no_photo?rs:fill:{width}:{height}`],or:{sid:"qk2gnv"}});var gt=i(67294),_t={root:"s__sX38o2X3a2iiQAXSRzt3",opened:"s__AaR6fOCnjZl5F3MJyNlV",closed:"s__ooAPdn88bVVe5jVjsZJQ",text:"s__A6TlLLEos5jetUPrMCsc"},vt=i(85893);const xt=({type:t,className:e})=>{const{t:i}=(0,r.useTranslation)("widget_cities");return(0,vt.jsx)("div",{className:ct()(_t.root,_t[t],e),children:(0,vt.jsx)(pt.x,{tag:"span",type:mt.y.Body3Semi,className:_t.text,transformOnMobile:!0,children:i("opened"===t?"opened":"closed")})})},wt=(0,gt.memo)(xt);let bt;!function(t){t.Opened="opened",t.Closed="closed"}(bt||(bt={}));var Ct="s__IFFD7_lFv6sjYX8i3yv1";const jt=188,St=({city:t,currency:e,extraSize:i,className:s})=>{const{t:n}=(0,r.useTranslation)("widget_cities"),{name:o,open:c,imageUrlTemplate:l,iata:d,countryIata:u,value:p}=t,{fillDestinationFn:m,defaultImageUrl:h}=(0,a.useUnit)({fillDestinationFn:M.fillDestination,defaultImageUrl:yt}),f=(0,dt.d)("price_short");return(0,vt.jsx)("a",{href:"#",onClick:t=>{t.preventDefault(),m({iata:d,name:o,type:lt.A.City,countryIata:u})},className:ct()("s__PpLFTz7U2xM_fgQoYLgq",s),"data-test-id":"city-card",children:(0,vt.jsxs)("figure",{className:ct()("s__NFIEO6Sysri_REuj4WFY",i&&"s__uF_iy2O9keJ1nCKN80Do"),children:[(0,vt.jsxs)("picture",{className:ct()("s__ebJUeEp2mTER02MyEZ3I"),children:[(0,vt.jsx)(ut.E,{className:"s__UEOwOQAzhTihmF7A00Qg",imgClassName:"s__wPl278gjS1n9sCsktoAQ",srcTemplate:l||h,draggable:!0,contrastOverlay:!0,alt:o,height:jt,width:jt,customErrorPlaceholder:(0,vt.jsx)(ut.E,{className:"s__LgHIYqenhtHWPk90mJov",alt:o,srcTemplate:h,width:jt,height:jt})}),null!==c&&(0,vt.jsx)(wt,{type:c?bt.Opened:bt.Closed,className:"s__v1__Rtsx5nSBQZowIQWo"})]}),(0,vt.jsxs)("figcaption",{className:"s__WM5tEe_JGk_L3rYL1cOJ",children:[(0,vt.jsx)(pt.x,{type:mt.y.Body1Semi,className:Ct,transformOnMobile:!0,testId:"city-name",children:o}),(0,vt.jsx)(pt.x,{type:mt.y.Body2Regular,className:Ct,transformOnMobile:!0,testId:"no-price",children:e&&p?n("priceFrom",{price:f({value:p,currency:e.toUpperCase()})}):n("getPrice")})]})]})})};var Nt=i(1156),Ft=i(39535);const kt=({onClick:t,total:e})=>{const{isMobile:i}=(0,a.useUnit)({isMobile:u.l.outputs.$isMobile}),s=function(t,e=!1){const{t:i}=(0,r.useTranslation)("widget_cities"),s=t>100;return e?s?i("showRoundedCitiesShort"):i("showAllCitiesShort",{totalCities:t}):s?i("showRoundedCities"):i("showAllCities",{totalCities:t})}(e,i);return(0,vt.jsx)(Nt.z,{priority:Ft.Ji.Secondary,size:Ft.qE.M,className:ct()("s__uey8WDP7UMxk2B85lXL_",i&&"s__zkCKDLnDisZ2z32lx_3n"),onClick:t,testId:"all-city-button",children:s})};let Mt;!function(t){t.Preview="preview",t.Full="full"}(Mt||(Mt={}));var Et={extraSize:"s__mnOWZm1hWcFUP_nN2aUi",base:"s__fxwgztQt0jJWo4shJaDz",preview:"s__nqRziusMQkEoBABNiuHf",full:"s__a_Bj9OIVitj5UIz3UT0k",list:"s__TE124xWA5Zw5nnO7NMxn",link:"s__Lh9kaRb2nPdNbn6OAeDf",city:"s__wvpOh1PVYClooCGtWVLf",item:"s__P6ImQac1SV7U4vJq8QPt",action:"s__MPbxS7tBfrqQtTAlEVAn"};const $t=({data:t,viewMode:e,children:i})=>{const{isMobile:s,currency:n}=(0,a.useUnit)({isMobile:u.l.outputs.$isMobile,currency:x.y.outputs.$currency}),r=function(t){return gt.Children.toArray(t).map((t=>{if(!t)return null;const e=t;return e.type===kt?(0,gt.cloneElement)(e):null}))}(i);return(0,vt.jsxs)("ul",{className:ct()(Et.base,[s&&e!==Mt.Full&&Et.list,e&&Et[e]]),"data-test-id":"city-list",children:[t.map((t=>(0,vt.jsx)("li",{className:Et.item,children:(0,vt.jsx)(St,{city:t,currency:n,className:Et.city,extraSize:e===Mt.Full})},t.iata))),!rt()(r)&&(0,vt.jsx)("li",{className:Et.action,children:r})]})};$t.Button=kt;var Dt=i(97608),At=i(66728),Pt=i(9071),Tt=i(38989),Bt=i(5393);const It=()=>{const{t:t}=(0,r.useTranslation)("widget_cities"),{cities:e,isLoading:i}=(0,a.useUnit)({cities:st,isLoading:nt}),{isModalOpened:s,closeModalFn:n,openModalFn:c}=(0,a.useUnit)({isModalOpened:tt,closeModalFn:it,openModalFn:et}),l=(0,At.j)("CITIES_MODAL_NAME",(0,Tt.A)({externalVisibility:s,onClose:n,onOpen:c}));return(0,vt.jsxs)(Dt.u,{...l,padding:[24,48],className:"s__gRGI62oyMZurUNDFa1C0",dataTestId:"all-cities-modal",children:[(0,vt.jsxs)(Dt.u.Navigation,{children:[(0,vt.jsx)(Pt.w.Title,{title:t("title")}),(0,vt.jsx)(Pt.w.RightAccessory,{children:(0,vt.jsx)(Bt.P,{onClick:n,"data-test-id":"close-cities-modal-button"})})]}),i?(0,vt.jsx)(o.$,{}):(0,vt.jsx)($t,{data:e,viewMode:Mt.Full})]})};var Ot=i(97650),Ut=i(38032),zt=i(2793),Rt=i(43175),qt=i(80094),Lt=i(78194);const{tryToStartSearch:Vt}=Rt.J.inputs,{notify:Zt}=qt.B.inputs,{translated:Jt}=Lt.J.outputs;Zt({clock:{show:(0,s.sample)({and:[{clock:Vt,filter:M.$isVisible}],or:{sid:"-8t8e1t"}}),hide:(0,s.sample)({and:[{clock:M.$isVisible.updates,filter:(0,s.withFactory)({sid:"-1l0flh",fn:()=>(0,Ut.f)(M.$isVisible)})}],or:{sid:"f0c801"}})},message:Jt("widget_cities:pickCity"),icon:zt.Icon24ColorWarning,autoClose:!1});var Qt=i(83636),Ht=i(31482);const{forceDestinationChoice:Wt}=v.i.inputs,{translated:Gt}=Lt.J.outputs,Kt=(0,s.withFactory)({sid:"gdk4n1",fn:()=>(0,n.SC)({view:Ht.u,bind:{icon:(0,vt.jsx)(Qt.K,{}),title:Gt("widget_cities:emptyState.chooseDestination.title"),text:Gt("widget_cities:emptyState.chooseDestination.description"),onButtonClick:Wt,buttonText:Gt("widget_cities:emptyState.chooseDestination.buttonText"),dataTestId:"prices-no_prices"}})});var Xt=i(13408);const{translated:Yt}=Lt.J.outputs,te=(0,s.withFactory)({sid:"-2ja0ek",fn:()=>(0,n.SC)({view:Ht.u,bind:{icon:(0,vt.jsx)(Xt.H,{className:"s__aef37Z6GBM8lXkfgQ8Fg"}),title:Yt("widget_cities:emptyDatesError.title"),text:(0,s.combine)({and:[{firstParagraph:Yt("widget_cities:emptyDatesError.firstParagraph"),secondParagraph:Yt("widget_cities:emptyDatesError.secondParagraph")},({firstParagraph:t,secondParagraph:e})=>[t,e]],or:{sid:"-kqft9x"}}),onButtonClick:$,buttonText:Yt("widget_cities:emptyDatesError.buttonText")}})});var ee=i(72675),ie=i(82097);const{exact:{$returnDate:se},$emptyDates:ne}=v.i.outputs,ae=(0,s.withFactory)({sid:"j3aeny",fn:()=>(0,ee.x)((0,s.withFactory)({sid:"-l4v8sa",fn:()=>(0,ie.f)(I,"fail")}),se)}),re=(0,s.withFactory)({sid:"1vu5ke",fn:()=>(0,ee.x)((0,s.withFactory)({sid:"-kqklcw",fn:()=>(0,ie.f)(I,"fail")}),ne)}),oe=(0,s.withFactory)({sid:"-rsrpra",fn:()=>(0,ee.x)((0,s.combine)({and:[U,t=>0===t.length],or:{sid:"-kntme3"}}),(0,s.withFactory)({sid:"-kn9tsq",fn:()=>(0,Ut.f)(z)}),(0,s.withFactory)({sid:"-kb6cqs",fn:()=>(0,ie.f)(T.$status,"done")}))});const{translated:ce}=Lt.J.outputs,{forceOriginChoice:le}=v.i.inputs,de=(0,s.withFactory)({sid:"1r4j7j",fn:()=>(0,n.SC)({view:Ht.u,bind:{icon:(0,vt.jsx)(Qt.K,{}),title:ce("widget_cities:emptyState.emptyDirections.title"),text:ce("widget_cities:emptyState.emptyDirections.description"),onButtonClick:le,buttonText:ce("widget_cities:emptyState.emptyDirections.buttonText"),titleClassName:"s__NRcCKErgKJOIcDqIyl52"}})}),ue=()=>{const{t:t}=(0,r.useTranslation)("widget_cities"),{cities:e,total:i,isLoading:s,emptyState:n,emptyDatesError:p,emptyDirections:m}=(0,a.useUnit)({cities:U,total:R,isLoading:z,emptyState:ae,emptyDatesError:re,emptyDirections:oe}),{ref:h}=function(){const t=(0,a.useUnit)(W),[e,i]=(0,Ot.YD)({threshold:.75,triggerOnce:!0});return(0,gt.useEffect)((()=>{i&&t()}),[i,t]),{ref:e}}(),{slicedCities:f,remainder:y}=function(t,e){(0,a.useUnit)(u.l.outputs.$isTablet);return t.length?{slicedCities:t.slice(0,8),remainder:Math.max(e-8,0)}:{slicedCities:[],remainder:0}}(e,i),{isMobile:g,openModalFn:_}=(0,a.useUnit)({isMobile:u.l.outputs.$isMobile,openModalFn:et});return n?(0,vt.jsx)(Kt,{}):p?(0,vt.jsx)(te,{}):m?(0,vt.jsx)(de,{}):(0,vt.jsx)("div",{ref:h,children:(0,vt.jsx)(d.fw,{name:"fade",in:!0,appear:!0,children:(0,vt.jsxs)(l.A,{children:[(0,vt.jsxs)(l.A.Header,{children:[(0,vt.jsx)(l.A.Title,{children:t("title")}),g&&y>0&&(0,vt.jsxs)(l.A.HeaderButton,{onClick:_,children:[t("showAllCitiesHeader"),(0,vt.jsx)(c.i,{})]})]}),s?(0,vt.jsx)(o.$,{}):(0,vt.jsx)($t,{data:f,viewMode:Mt.Preview,children:y>0&&(0,vt.jsx)($t.Button,{onClick:_,total:y})}),(0,vt.jsx)(It,{})]})})})},pe=(0,s.withFactory)({sid:"acot4l",fn:()=>(0,n.bU)({if:M.$isVisible,then:ue})})},11155:function(t,e,i){"use strict";i.r(e),i.d(e,{$isVisible:function(){return u},citiesInitialized:function(){return l},fillDestination:function(){return d}});var s=i(98116),n=i(76101),a=i(33350),r=i(82203);const{countryScreen:o}=a.$.outputs,{directionScreen:c}=n.A.outputs,l=(0,s.createEvent)({sid:"1o8839"}),d=(0,s.createEvent)({sid:"-hvsedn"});(0,s.sample)({and:[{clock:d,fn:t=>({destination:t,analytics:{directionSource:r.yh.Country}}),target:c.open}],or:{sid:"66m7m2"}});const u=o.$active},51862:function(t,e,i){"use strict";i.d(e,{s:function(){return l}});var s=i(59051),n=i.n(s),a=i(29893),r=i.n(a),o=i(77606),c=i.n(o);function l(t,e){if(void 0===t)return e;const i=(t=>{const e=r()(n(),t);return c()(e)?null:e})(t);return i?{...i,...e}:e}},91585:function(t,e,i){"use strict";i.d(e,{t:function(){return m}}),i(21703);var s=i(30091),n=i(98116),a=i(24926),r=i(96864),o=i(47420);const{$userSettings:c}=r.W.outputs,{$seatCount:l}=o.i.outputs,d=(0,n.createStore)(null,{sid:"-4qwnmr"}),u=(0,n.combine)({and:[c,d,(t,e)=>e??Boolean(t.use_price_per_passenger)],or:{sid:"-3wilf9"}}),p=(0,n.withFactory)({sid:"gvkm7l",fn:()=>(0,a.w)({filter:u,then:1,other:l})}),m=(0,s.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/usercom/services/price_multiplier/index.ts",api:{outputs:{$aviaPriceMultiplier:p,$usePricePerPassenger:u}},attachTestApi:()=>{throw new Error("Test API is not available in production")}})},63012:function(t,e,i){var s=i(97786),n=i(10611),a=i(71811);t.exports=function(t,e,i){for(var r=-1,o=e.length,c={};++r<o;){var l=e[r],d=s(t,l);i(d,l)&&n(c,a(l,t),d)}return c}},10611:function(t,e,i){var s=i(34865),n=i(71811),a=i(65776),r=i(13218),o=i(40327);t.exports=function(t,e,i,c){if(!r(t))return t;for(var l=-1,d=(e=n(e,t)).length,u=d-1,p=t;null!=p&&++l<d;){var m=o(e[l]),h=i;if("__proto__"===m||"constructor"===m||"prototype"===m)return t;if(l!=u){var f=p[m];void 0===(h=c?c(f,m,p):void 0)&&(h=r(f)?f:a(e[l+1])?[]:{})}s(p,m,h),p=p[m]}return t}},29893:function(t,e,i){var s=i(92822)("omitBy",i(14176));s.placeholder=i(69306),t.exports=s},94885:function(t){t.exports=function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}},14176:function(t,e,i){var s=i(67206),n=i(94885),a=i(35937);t.exports=function(t,e){return a(t,n(s(e)))}},35937:function(t,e,i){var s=i(29932),n=i(67206),a=i(63012),r=i(46904);t.exports=function(t,e){if(null==t)return{};var i=s(r(t),(function(t){return[t]}));return e=n(e),a(t,i,(function(t,i){return e(t,i[0])}))}},83636:function(t,e,i){"use strict";i.d(e,{K:function(){return r}});var s=i(85893),n=i(67294);const a=({className:t,...e},i)=>(0,s.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:t,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...e,children:[(0,s.jsxs)("g",{clipPath:"url(#EmojiFaceSad__a)",children:[(0,s.jsx)("path",{d:"M12 .75C5.786.75.75 5.786.75 12S5.786 23.25 12 23.25 23.25 18.214 23.25 12 18.214.75 12 .75Z",fill:"url(#EmojiFaceSad__b)"}),(0,s.jsx)("path",{d:"M10.226 13.106c-1.114.822-3.12.878-4.324 0-.277-.202-.738-.063-.637.173 1.05 2.407 4.549 2.403 5.599 0 .101-.233-.364-.375-.638-.173ZM13.777 13.106c1.114.822 3.12.878 4.324 0 .278-.202.739-.063.638.173-1.05 2.407-4.549 2.403-5.599 0-.105-.233.36-.375.637-.173ZM9.334 19.875c1.372-.964 3.847-1.027 5.329 0 .345.236.91.071.783-.206-1.297-2.828-5.606-2.82-6.9 0-.124.277.446.442.788.206Z",fill:"#1A1626"}),(0,s.jsx)("path",{d:"M5.644 8.415c-3.672 2.171-1.332 2.64 1.995 1.185 1.875-.821.42-2.617-1.995-1.185ZM18.356 8.419c-2.415-1.429-3.87.364-1.995 1.185 3.326 1.455 5.666.986 1.995-1.185Z",fill:"#D69600"})]}),(0,s.jsxs)("defs",{children:[(0,s.jsxs)("linearGradient",{id:"EmojiFaceSad__b",x1:12,y1:23.25,x2:12,y2:.75,gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{stopColor:"#FF9500"}),(0,s.jsx)("stop",{offset:.192,stopColor:"#FFAD00"}),(0,s.jsx)("stop",{offset:.545,stopColor:"#FFD500"}),(0,s.jsx)("stop",{offset:.827,stopColor:"#FFED00"}),(0,s.jsx)("stop",{offset:1,stopColor:"#FFF600"})]}),(0,s.jsx)("clipPath",{id:"EmojiFaceSad__a",children:(0,s.jsx)("path",{fill:"#fff",d:"M0 0h24v24H0z"})})]})]}),r=(0,n.memo)((0,n.forwardRef)(a));r.displayName="EmojiFaceSad"},13408:function(t,e,i){"use strict";i.d(e,{H:function(){return r}});var s=i(85893),n=i(67294);const a=({className:t,...e},i)=>(0,s.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:t,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...e,children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.884 6.86c1.358-2.263 2.036-3.394 2.914-3.778a3 3 0 0 1 2.404 0c.878.384 1.556 1.515 2.914 3.778l3.522 5.87c1.428 2.38 2.142 3.57 2.05 4.548a3 3 0 0 1-1.211 2.14c-.792.582-2.18.582-4.955.582H8.478c-2.775 0-4.163 0-4.955-.582a3 3 0 0 1-1.211-2.14c-.092-.979.622-2.168 2.05-4.548l3.522-5.87ZM13 8v5.5h-2V8h2Zm-1 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"})}),r=(0,n.memo)((0,n.forwardRef)(a));r.displayName="Icon24CommonWarning"},49960:function(t,e,i){"use strict";i.d(e,{i:function(){return r}});var s=i(85893),n=i(67294);const a=({className:t,...e},i)=>(0,s.jsxs)("svg",{width:36,height:36,viewBox:"0 0 36 36",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:t,"data-test-id":"icon",ref:i,style:{display:"inline-block"},...e,children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m32.06 6.06-27 27-2.12-2.12 3.33-3.332A4 4 0 0 1 4 24V12a4 4 0 0 1 4-4h17.879l4.06-4.06 2.122 2.12ZM8.88 25l3.56-3.56L11 20h-1l-3 3v1a1 1 0 0 0 1 1h.879Zm1.621-8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"}),(0,s.jsx)("path",{d:"M28 28H14.364l3-3H28a1 1 0 0 0 1-1v-3l-3.818-3.818 6.57-6.57c.16.432.248.9.248 1.388v12a4 4 0 0 1-4 4Z"})]}),r=(0,n.memo)((0,n.forwardRef)(a));r.displayName="Icon36CommonPictureFailed"},4407:function(t,e,i){"use strict";i.d(e,{E:function(){return u}});var s=i(85893),n=i(67294),a=i(94184),r=i(49960);const o=({className:t})=>(0,s.jsx)("div",{className:a("s__zhPlglKFfILcQDdDbXpc",t),children:(0,s.jsx)(r.i,{})});o.displayName="ErrorPlaceholder";const c=(0,n.memo)(o),l=(t,e)=>{const{width:i,height:s,extension:n="",theme:a=""}=e;return t.replace("{width}",i.toString(10)).replace("{height}",s.toString(10)).replace("{extension}",n).replace("{theme}",a)};const d=(0,n.forwardRef)((({lazy:t=!0,fadeIn:e=!0,shimmer:i=!0,contrastOverlay:r=!1,src:o,srcSet:d,srcTemplate:u,width:p,height:m,extension:h,theme:f,alt:y,customLoadingPlaceholder:g,customErrorPlaceholder:_,className:v,imgClassName:x,errorPlaceholderClassName:w,onLoad:b,onError:C,...j},S)=>{const[N,F]=(0,n.useState)(!1),[k,M]=(0,n.useState)(!1),{src:E,srcSet:$}=(0,n.useMemo)((()=>void 0!==u?((t,{width:e,height:i,...s})=>{const n=l(t,{...s,width:e,height:i});return{src:n,srcSet:`${n} 1x, ${l(t,{...s,width:2*e,height:2*i})} 2x, ${l(t,{...s,width:3*e,height:3*i})} 3x`}})(u,{width:p,height:m,extension:h,theme:f}):{src:"string"==typeof o?o:o?.src,srcSet:void 0}),[u,o,p,m,f,h]),D=(0,n.useRef)(null),A=(0,n.useCallback)((t=>{try{b&&b(t),F(!1)}catch(t){M(!0),F(!1)}}),[b]),P=(0,n.useCallback)((t=>{C&&C(t),M(!0),F(!1)}),[C]);return(0,n.useEffect)((()=>{D.current?.complete||!i&&!g||F(!0)}),[]),(0,s.jsxs)("div",{ref:S,className:a("s__nTb4VGFJp3ixAI4eEe9g",{s__rnbDhIV3it6rSU6OnypQ:!0,s__s6lhICQfIvPJajPTRq8l:N&&!g,s__c6LE8aEH0xXFxK7wK7Pl:r&&!N},v),style:{"--image_width":p??o?.width,"--image_height":m??o?.height},children:[k&&(_||(0,s.jsx)(c,{className:w})),N&&g,(0,s.jsx)("img",{src:E,srcSet:d??$,ref:D,className:a({s__u970sMSen6mw5vizRoPD:!0,s__IfTcK9HkqMS6SVk5wCFs:e,s___upxsVkNisXgoGZIqsEJ:!N&&!k},x),loading:t?"lazy":"eager",alt:y||"",onLoad:A,onError:P,...j})]})}));d.displayName="Image";const u=(0,n.memo)(d)},97608:function(t,e,i){"use strict";i.d(e,{u:function(){return d}});var s=i(85893),n=i(94184),a=i(14460),r=i(45699),o=i(16169),c=i(38181),l=i(48742);const d=({className:t,children:e,onOpened:i,stickToBottomOnMobile:r=!1,...o})=>(0,s.jsx)(a.e,{...o,className:n("s__gW8psrS2gLo5q4ne_qcj",r&&"s__ZhpzWHoQmQujjpzAqHG3",t),onEntered:i,children:e});d.Title=o.D,d.Subtitle=l.Q,d.Header=r.h,d.Navigation=c.W}}]);
//# sourceMappingURL=https://private-static.prod.k8s.int.avs.io/selene-source-maps/cities.934a500f555b7f299aec.min.js.map